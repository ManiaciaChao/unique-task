/*!
  * Application Version: 3.0.0
  * Application Environment: prod
  * Build Version: 1541067381
  */
webpackJsonp([0],{102:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_configuration_entities_IntegratorConfig__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(120)),__WEBPACK_IMPORTED_MODULE_3__stejar_utils__=__webpack_require__(43),__WEBPACK_IMPORTED_MODULE_4_app_modules_tagCommander_services_TagCommanderService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_utils__),__webpack_require__(66)),__WEBPACK_IMPORTED_MODULE_5_app_services_FriendsService__=__webpack_require__(104),__WEBPACK_IMPORTED_MODULE_6_app_services_ProfilesService__=__webpack_require__(85),__WEBPACK_IMPORTED_MODULE_7__services_ConnectionsService__=__webpack_require__(386),__WEBPACK_IMPORTED_MODULE_8__services_ApplicationsService__=__webpack_require__(174),__WEBPACK_IMPORTED_MODULE_9__selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_10__actions_ChangeFilterFriendsByNameAction__=__webpack_require__(346),__WEBPACK_IMPORTED_MODULE_11__actions_ChangeShowFriendRequestsAction__=__webpack_require__(350),__WEBPACK_IMPORTED_MODULE_12__actions_ChangeShowFriendInvitationsAction__=__webpack_require__(349),__WEBPACK_IMPORTED_MODULE_13__actions_ChangeFriendDeclineStateAction__=__webpack_require__(154),__WEBPACK_IMPORTED_MODULE_14__actions_ToggleAddFriendsTabAction__=__webpack_require__(374),__WEBPACK_IMPORTED_MODULE_15__actions_LoadedAddFriendsStatAction__=__webpack_require__(156),__WEBPACK_IMPORTED_MODULE_16__actions_LoadingAddFriendsAction__=__webpack_require__(119),__WEBPACK_IMPORTED_MODULE_17__actions_HideAddFriendsAction__=__webpack_require__(115);__webpack_require__.d(exports,"a",function(){return FriendsCommunicationService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},FriendsCommunicationService=function(_AbstractActions){function FriendsCommunicationService(tagCommanderService,friendsService,profilesService,connectionsService,applicationsService){_classCallCheck(this,FriendsCommunicationService);var _this=_possibleConstructorReturn(this,(FriendsCommunicationService.__proto__||Object.getPrototypeOf(FriendsCommunicationService)).call(this));return _this.tagCommanderService=tagCommanderService,_this.friendsService=friendsService,_this.profilesService=profilesService,_this.connectionsService=connectionsService,_this.applicationsService=applicationsService,_this}return _inherits(FriendsCommunicationService,_AbstractActions),_createClass(FriendsCommunicationService,[{key:"onRedirectToFriend",value:function(clickFriendsProfileType,userName,clubUrl,locale){clickFriendsProfileType==__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_configuration_entities_IntegratorConfig__.c.TYPE_SELF&&(this.tagCommanderService.trackEvent("Nav - Overlay - Notifications Panel - No Friend Profile","Overlay"),window.parent.location.href=clubUrl+"/"+locale+"/profile/"+userName),clickFriendsProfileType==__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_configuration_entities_IntegratorConfig__.c.TYPE_BLANK&&(this.tagCommanderService.trackEvent("Nav - Overlay - Notifications Panel - No Friend Profile","Overlay"),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__stejar_utils__.newWindow)(clubUrl+"/"+locale+"/profile/"+userName)),clickFriendsProfileType==__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_configuration_entities_IntegratorConfig__.c.TYPE_POST_MESSAGE&&(window.parent&&window.parent.postMessage({topic:"CLICKED_ON_FRIENDS_PROFILE",userName:userName},"*"),window.parent||window.postMessage({topic:"CLICKED_ON_FRIENDS_PROFILE",userName:userName},"*"))}},{key:"onExpandFriends",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var promises,_this2=this;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.friendsService.loadMyFriends();case 2:if(promises=[],__WEBPACK_IMPORTED_MODULE_9__selectors__.h&&(promises.push(this.profilesService.loadMyFriendsClubProfiles()),promises.push(this.profilesService.loadMyFriendsUserProfiles().then(function(){return Promise.all([_this2.connectionsService.loadMyFriendsConnections(),_this2.applicationsService.loadApplicationsProfilesForAllFriends()])}))),__WEBPACK_IMPORTED_MODULE_9__selectors__.i&&promises.push(this.profilesService.loadMyPendingRequestFriendsClubProfiles()),!(promises.length>0)){_context.next=8;break}return _context.next=8,Promise.all(promises);case 8:case"end":return _context.stop()}},_callee,this)}))}},{key:"onChangeNameToFilterBy",value:function(name){name.length>=1&&this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_ChangeFilterFriendsByNameAction__.a(name)),name||this.dispatch(new __WEBPACK_IMPORTED_MODULE_10__actions_ChangeFilterFriendsByNameAction__.a(null))}},{key:"onToggleShowMoreFriendRequests",value:function(toggle){this.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_ChangeShowFriendRequestsAction__.a(toggle))}},{key:"onToggleShowMoreFriendsInvitations",value:function(toggle){this.dispatch(new __WEBPACK_IMPORTED_MODULE_12__actions_ChangeShowFriendInvitationsAction__.a(toggle))}},{key:"onCancelDeclineRequest",value:function(userId){this.dispatch(new __WEBPACK_IMPORTED_MODULE_13__actions_ChangeFriendDeclineStateAction__.a(null))}},{key:"onConfirmDeclineRequest",value:function(userId){this.dispatch(new __WEBPACK_IMPORTED_MODULE_13__actions_ChangeFriendDeclineStateAction__.a(userId))}},{key:"showAddFriendsTab",value:function(){this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_ToggleAddFriendsTabAction__.a((!0)))}},{key:"hideAddFriendsTab",value:function(){this.dispatch(new __WEBPACK_IMPORTED_MODULE_15__actions_LoadedAddFriendsStatAction__.a({})),this.dispatch(new __WEBPACK_IMPORTED_MODULE_16__actions_LoadingAddFriendsAction__.a((!1),null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_17__actions_HideAddFriendsAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_14__actions_ToggleAddFriendsTabAction__.a((!1)))}}]),FriendsCommunicationService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);FriendsCommunicationService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_4_app_modules_tagCommander_services_TagCommanderService__.a,__WEBPACK_IMPORTED_MODULE_5_app_services_FriendsService__.a,__WEBPACK_IMPORTED_MODULE_6_app_services_ProfilesService__.a,__WEBPACK_IMPORTED_MODULE_7__services_ConnectionsService__.a,__WEBPACK_IMPORTED_MODULE_8__services_ApplicationsService__.a])],FriendsCommunicationService)},1025:function(module,exports){},1026:function(module,exports,__webpack_require__){__webpack_require__(524),module.exports=__webpack_require__(523)},103:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_utils__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(43));__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_utils__);__webpack_require__.d(exports,"a",function(){return PageLoaderService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},PageLoaderService=function(){function PageLoaderService(){_classCallCheck(this,PageLoaderService),this.$show=new __WEBPACK_IMPORTED_MODULE_1__stejar_utils__.Subject((!0)),this.$display=new __WEBPACK_IMPORTED_MODULE_1__stejar_utils__.Subject((!0))}return _createClass(PageLoaderService,[{key:"showPageLoader",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return this.$display.next(!0),_context.next=3,new Promise(function(resolve){return setTimeout(function(){return resolve()},1)});case 3:return this.$show.next(!0),_context.abrupt("return",new Promise(function(resolve){return setTimeout(function(){return resolve()},200)}));case 5:case"end":return _context.stop()}},_callee,this)}))}},{key:"hidePageLoader",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return this.$show.next(!1),_context2.next=3,new Promise(function(resolve){return setTimeout(function(){return resolve()},200)});case 3:return this.$display.next(!1),_context2.abrupt("return",Promise.resolve());case 5:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"show$",get:function(){return this.$show.asObservable()}},{key:"display$",get:function(){return this.$display.asObservable()}}]),PageLoaderService}();PageLoaderService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],PageLoaderService)},104:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(17)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedFriendsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__),__webpack_require__(116)),__WEBPACK_IMPORTED_MODULE_4_app_stores_FriendsStore__=__webpack_require__(67),__WEBPACK_IMPORTED_MODULE_5_moment__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_5_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_moment__),__WEBPACK_IMPORTED_MODULE_6__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_7__selectors__=__webpack_require__(15);__webpack_require__.d(exports,"a",function(){return FriendsService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},FriendsService=function(_AbstractActions){function FriendsService(friendsApi){_classCallCheck(this,FriendsService);var _this=_possibleConstructorReturn(this,(FriendsService.__proto__||Object.getPrototypeOf(FriendsService)).call(this));return _this.friendsApi=friendsApi,_this}return _inherits(FriendsService,_AbstractActions),_createClass(FriendsService,[{key:"loadMyFriends",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var friends;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!__WEBPACK_IMPORTED_MODULE_6__modules_configuration_queries_ConfigurationQueries__.a.isExpired(__WEBPACK_IMPORTED_MODULE_4_app_stores_FriendsStore__.a.getExpiration(this.getState()),__WEBPACK_IMPORTED_MODULE_6__modules_configuration_queries_ConfigurationQueries__.a.getDefaultDataCacheTime())){_context.next=7;break}return _context.next=3,this.friendsApi.getMyFriends();case 3:friends=_context.sent,this.afterLoadedFriends(friends,__WEBPACK_IMPORTED_MODULE_5_moment___default()().unix()),_context.next=8;break;case 7:this.afterLoadedFriends(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__selectors__.g)(this.getState()),__WEBPACK_IMPORTED_MODULE_4_app_stores_FriendsStore__.a.getExpiration(this.getState()));case 8:case"end":return _context.stop()}},_callee,this)}))}},{key:"sendFriendInvite",value:function(pid,nameOnPlatform){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var call,friends;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.friendsApi.sendInviteFriend(pid);case 2:return call=_context2.sent,friends=Object.assign({},__WEBPACK_IMPORTED_MODULE_4_app_stores_FriendsStore__.a.getByIds(this.state)),friends[pid]?friends[pid]=Object.assign({},friends[pid],{state:__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.FRIEND_STATE.PENDING_SENT_INVITE}):friends[pid]={pid:pid,nameOnPlatform:nameOnPlatform,lastModified:__WEBPACK_IMPORTED_MODULE_5_moment___default.a.utc().format("YYYY-MM-DDTHH:mm:ss.SSSS"),state:__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.FRIEND_STATE.PENDING_SENT_INVITE},this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedFriendsAction__.a(friends,__WEBPACK_IMPORTED_MODULE_4_app_stores_FriendsStore__.a.getIds(this.state),__WEBPACK_IMPORTED_MODULE_4_app_stores_FriendsStore__.a.getExpiration(this.getState()))),_context2.abrupt("return",call);case 7:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"acceptFriend",value:function(pid){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var call,friends;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,this.friendsApi.acceptFriend(pid);case 2:return call=_context3.sent,friends=Object.assign({},__WEBPACK_IMPORTED_MODULE_4_app_stores_FriendsStore__.a.getByIds(this.state)),friends[pid]=Object.assign({},friends[pid],{state:__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.FRIEND_STATE.FRIENDS,stillInRequests:!0}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedFriendsAction__.a(friends,__WEBPACK_IMPORTED_MODULE_4_app_stores_FriendsStore__.a.getIds(this.state),__WEBPACK_IMPORTED_MODULE_4_app_stores_FriendsStore__.a.getExpiration(this.getState()))),_context3.abrupt("return",call);case 7:case"end":return _context3.stop()}},_callee3,this)}))}},{key:"declineFriend",value:function(pid){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var call,friends;return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,this.friendsApi.deleteFriend(pid);case 2:return call=_context4.sent,friends=Object.assign({},__WEBPACK_IMPORTED_MODULE_4_app_stores_FriendsStore__.a.getByIds(this.state)),friends[pid]=Object.assign({},friends[pid],{state:__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.FRIEND_STATE.NO_RELATIONSHIP,stillInRequests:!0}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedFriendsAction__.a(friends,__WEBPACK_IMPORTED_MODULE_4_app_stores_FriendsStore__.a.getIds(this.state),__WEBPACK_IMPORTED_MODULE_4_app_stores_FriendsStore__.a.getExpiration(this.getState()))),_context4.abrupt("return",call);case 7:case"end":return _context4.stop()}},_callee4,this)}))}},{key:"afterLoadedFriends",value:function(friends,expiration){var byId={},ids=[];friends.forEach(function(friend){return(byId[friend.pid]=friend)&&ids.push(friend.pid)}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedFriendsAction__.a(byId,ids,expiration))}}]),FriendsService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);FriendsService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.FriendsApi])],FriendsService)},105:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedMyClubProfilesAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(164)),__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsClubProfilesAction__=__webpack_require__(160),__WEBPACK_IMPORTED_MODULE_5__actions_ReloadAction__=__webpack_require__(72);__webpack_require__.d(exports,"a",function(){return ClubProfilesStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},ClubProfilesStore=function(_ReducerStore){function ClubProfilesStore(){_classCallCheck(this,ClubProfilesStore);var _this=_possibleConstructorReturn(this,(ClubProfilesStore.__proto__||Object.getPrototypeOf(ClubProfilesStore)).call(this));return _this.bind(null,function(){return{byId:{},ids:[],hasError:!1,hasFriendsError:!1,expiration:0}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedMyClubProfilesAction__.a.name,_this.handleLoadedMyClubProfilesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsClubProfilesAction__.a.name,_this.handleLoadedFriendsClubProfilesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_5__actions_ReloadAction__.a.name,_this.handleLoggedOutAction),_this}return _inherits(ClubProfilesStore,_ReducerStore),_createClass(ClubProfilesStore,[{key:"handleLoggedOutAction",value:function(state,action){return{byId:{},ids:[],hasError:!1,hasFriendsError:!1,expiration:0}}},{key:"handleLoadedMyClubProfilesAction",value:function(state,action){return Object.assign({},state,{byId:Object.assign({},state.byId,action.byId),ids:state.ids.filter(function(id){return!action.ids.includes(id)}).concat(action.ids),hasError:action.hasError})}},{key:"handleLoadedFriendsClubProfilesAction",value:function(state,action){return Object.assign({},state,{byId:Object.assign({},state.byId,action.byId),ids:state.ids.filter(function(id){return!action.ids.includes(id)}).concat(action.ids),hasFriendsError:action.hasError,expiration:action.expiration})}}]),ClubProfilesStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);ClubProfilesStore.getState=function(state){return state.ClubProfilesStore},ClubProfilesStore.getById=function(state){return state.ClubProfilesStore.byId},ClubProfilesStore.getIds=function(state){return state.ClubProfilesStore.ids},ClubProfilesStore.getHasError=function(state){return state.ClubProfilesStore.hasError},ClubProfilesStore.getHasFriendsError=function(state){return state.ClubProfilesStore.hasFriendsError},ClubProfilesStore.loadedMyProfiles=function(state){return!!state.LoadersStore.MyClubProfiles},ClubProfilesStore.loadedFriendsProfiles=function(state){return!!state.LoadersStore.FriendsClubProfiles},ClubProfilesStore.getExpiration=function(state){return state.ClubProfilesStore.expiration},ClubProfilesStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],ClubProfilesStore)},106:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_3_app_actions_ChangeFriendStateAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(347)),__WEBPACK_IMPORTED_MODULE_4__actions_ChangeShowFriendRequestsAction__=__webpack_require__(350),__WEBPACK_IMPORTED_MODULE_5__actions_ChangeShowFriendInvitationsAction__=__webpack_require__(349),__WEBPACK_IMPORTED_MODULE_6__actions_ChangeFriendDeclineStateAction__=__webpack_require__(154),__WEBPACK_IMPORTED_MODULE_7__actions_ToggleAddFriendsTabAction__=__webpack_require__(374);__webpack_require__.d(exports,"a",function(){return FriendsActionsStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},FriendsActionsStore=function(_ReducerStore){function FriendsActionsStore(){_classCallCheck(this,FriendsActionsStore);var _this=_possibleConstructorReturn(this,(FriendsActionsStore.__proto__||Object.getPrototypeOf(FriendsActionsStore)).call(this));return _this.bind(null,function(){return{currentUserId:null,currentDeclineUserId:null,isStillLoading:!1,showMoreFriendRequests:!0,showMoreFriendInvitations:!0,showAddFriendsTab:!1}}),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3_app_actions_ChangeFriendStateAction__.a.name,_this.handleChangeFriendStateAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_ChangeShowFriendRequestsAction__.a.name,_this.handleChangeShowFriendRequestsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_5__actions_ChangeShowFriendInvitationsAction__.a.name,_this.handleChangeShowFriendInvitationsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_6__actions_ChangeFriendDeclineStateAction__.a.name,_this.handleChangeFriendDeclineStateAction),
_this.bind(__WEBPACK_IMPORTED_MODULE_7__actions_ToggleAddFriendsTabAction__.a.name,_this.handleShowAddFriendsTab),_this}return _inherits(FriendsActionsStore,_ReducerStore),_createClass(FriendsActionsStore,[{key:"handleLoggedOutAction",value:function(state,action){return{currentUserId:null,currentDeclineUserId:null,isStillLoading:!1,showMoreFriendRequests:!0,showMoreFriendInvitations:!0,showAddFriendsTab:!1}}},{key:"handleChangeFriendStateAction",value:function(state,action){return Object.assign({},state,{currentUserId:action.userId,isStillLoading:action.isStillLoading})}},{key:"handleChangeShowFriendRequestsAction",value:function(state,action){return Object.assign({},state,{showMoreFriendRequests:action.toggle})}},{key:"handleChangeShowFriendInvitationsAction",value:function(state,action){return Object.assign({},state,{showMoreFriendInvitations:action.toggle})}},{key:"handleChangeFriendDeclineStateAction",value:function(state,action){return Object.assign({},state,{currentDeclineUserId:action.userId})}},{key:"handleShowAddFriendsTab",value:function(state,action){return Object.assign({},state,{showAddFriendsTab:action.showAddFriendsTab})}}]),FriendsActionsStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);FriendsActionsStore.getState=function(state){return state.FriendsActionsStore},FriendsActionsStore.getCurrentUserId=function(state){return state.FriendsActionsStore.currentUserId},FriendsActionsStore.getCurrentDeclineUserId=function(state){return state.FriendsActionsStore.currentDeclineUserId},FriendsActionsStore.getIsStillLoading=function(state){return state.FriendsActionsStore.isStillLoading},FriendsActionsStore.getShowMoreFriendRequests=function(state){return state.FriendsActionsStore.showMoreFriendRequests},FriendsActionsStore.getShowMoreFriendInvitations=function(state){return state.FriendsActionsStore.showMoreFriendInvitations},FriendsActionsStore.getShowAddFriendsTab=function(state){return state.FriendsActionsStore.showAddFriendsTab},FriendsActionsStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],FriendsActionsStore)},107:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_3__actions_ChangeSocialNetworkTabAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(351)),__WEBPACK_IMPORTED_MODULE_4__actions_ErrorLoadingPsnAction__=__webpack_require__(352),__WEBPACK_IMPORTED_MODULE_5__actions_ErrorLoadingXboxAction__=__webpack_require__(354),__WEBPACK_IMPORTED_MODULE_6__actions_IsReloadFailedXboxAction__=__webpack_require__(527),__WEBPACK_IMPORTED_MODULE_7__actions_IsReloadFailedPsnAction__=__webpack_require__(526),__WEBPACK_IMPORTED_MODULE_8__actions_ToggleMoreFriendsOnPsnAction__=__webpack_require__(375),__WEBPACK_IMPORTED_MODULE_9__actions_ToggleMoreFriendsOnXboxAction__=__webpack_require__(377),__WEBPACK_IMPORTED_MODULE_10__actions_ToggleMoreFriendsOnSteamAction__=__webpack_require__(376),__WEBPACK_IMPORTED_MODULE_11__actions_ErrorLoadingSteamAction__=__webpack_require__(353);__webpack_require__.d(exports,"a",function(){return SocialNetworkStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},SocialNetworkStore=function(_ReducerStore){function SocialNetworkStore(){_classCallCheck(this,SocialNetworkStore);var _this=_possibleConstructorReturn(this,(SocialNetworkStore.__proto__||Object.getPrototypeOf(SocialNetworkStore)).call(this));return _this.bind(null,function(){return{selectedTab:"PSN",errorLoadingPsn:!1,errorLoadingXbox:!1,errorLoadingSteam:!1,isReloadFailedPsn:!1,isReloadFailedXbox:!1,showMoreFriendsOnPsn:!1,showMoreFriendsOnXbox:!1,showMoreFriendsOnSteam:!1}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_ChangeSocialNetworkTabAction__.a.name,_this.handleChangeSocialNetworkTabAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_ErrorLoadingPsnAction__.a.name,_this.handleErrorLoadingPsnAction),_this.bind(__WEBPACK_IMPORTED_MODULE_5__actions_ErrorLoadingXboxAction__.a.name,_this.handleErrorLoadingXboxAction),_this.bind(__WEBPACK_IMPORTED_MODULE_11__actions_ErrorLoadingSteamAction__.a.name,_this.handleErrorLoadingSteamAction),_this.bind(__WEBPACK_IMPORTED_MODULE_6__actions_IsReloadFailedXboxAction__.a.name,_this.handleIsReloadFailedXboxAction),_this.bind(__WEBPACK_IMPORTED_MODULE_7__actions_IsReloadFailedPsnAction__.a.name,_this.handleIsReloadFailedPsnAction),_this.bind(__WEBPACK_IMPORTED_MODULE_8__actions_ToggleMoreFriendsOnPsnAction__.a.name,_this.handleToggleMoreFriendsOnPsnAction),_this.bind(__WEBPACK_IMPORTED_MODULE_9__actions_ToggleMoreFriendsOnXboxAction__.a.name,_this.handleToggleMoreFriendsOnXboxAction),_this.bind(__WEBPACK_IMPORTED_MODULE_10__actions_ToggleMoreFriendsOnSteamAction__.a.name,_this.handleToggleMoreFriendsOnSteamAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this}return _inherits(SocialNetworkStore,_ReducerStore),_createClass(SocialNetworkStore,[{key:"handleLoggedOutAction",value:function(state,action){return{selectedTab:"PSN",errorLoadingPsn:!1,errorLoadingXbox:!1,errorLoadingSteam:!1,isReloadFailedPsn:!1,isReloadFailedXbox:!1,showMoreFriendsOnPsn:!1,showMoreFriendsOnXbox:!1,showMoreFriendsOnSteam:!1}}},{key:"handleChangeSocialNetworkTabAction",value:function(state,action){return Object.assign({},state,{selectedTab:action.tab})}},{key:"handleErrorLoadingPsnAction",value:function(state,action){return Object.assign({},state,{errorLoadingPsn:action.error})}},{key:"handleErrorLoadingXboxAction",value:function(state,action){return Object.assign({},state,{errorLoadingXbox:action.error})}},{key:"handleErrorLoadingSteamAction",value:function(state,action){return Object.assign({},state,{errorLoadingSteam:action.error})}},{key:"handleIsReloadFailedPsnAction",value:function(state,action){return Object.assign({},state,{isReloadFailedPsn:action.error})}},{key:"handleIsReloadFailedXboxAction",value:function(state,action){return Object.assign({},state,{isReloadFailedXbox:action.error})}},{key:"handleToggleMoreFriendsOnPsnAction",value:function(state,action){return Object.assign({},state,{showMoreFriendsOnPsn:action.toggle})}},{key:"handleToggleMoreFriendsOnXboxAction",value:function(state,action){return Object.assign({},state,{showMoreFriendsOnXbox:action.toggle})}},{key:"handleToggleMoreFriendsOnSteamAction",value:function(state,action){return Object.assign({},state,{showMoreFriendsOnSteam:action.toggle})}}]),SocialNetworkStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);SocialNetworkStore.getState=function(state){return state.SocialNetworkStore},SocialNetworkStore.getSelectedTab=function(state){return state.SocialNetworkStore.selectedTab},SocialNetworkStore.getErrorLoadingPsn=function(state){return state.SocialNetworkStore.errorLoadingPsn},SocialNetworkStore.getErrorLoadingXbox=function(state){return state.SocialNetworkStore.errorLoadingXbox},SocialNetworkStore.getIsReloadFailedPsn=function(state){return state.SocialNetworkStore.isReloadFailedPsn},SocialNetworkStore.getIsReloadFailedXbox=function(state){return state.SocialNetworkStore.isReloadFailedXbox},SocialNetworkStore.getShowMoreFriendsOnPsn=function(state){return state.SocialNetworkStore.showMoreFriendsOnPsn},SocialNetworkStore.getShowMoreFriendsOnXbox=function(state){return state.SocialNetworkStore.showMoreFriendsOnXbox},SocialNetworkStore.getShowMoreFriendsOnSteam=function(state){return state.SocialNetworkStore.showMoreFriendsOnSteam},SocialNetworkStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],SocialNetworkStore)},115:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return HideAddFriendsAction});var HideAddFriendsAction=function HideAddFriendsAction(isHidden){_classCallCheck(this,HideAddFriendsAction),this.isHidden=isHidden}},116:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedFriendsAction});var LoadedFriendsAction=function LoadedFriendsAction(byId,ids,expiration){_classCallCheck(this,LoadedFriendsAction),this.byId=byId,this.ids=ids,this.expiration=expiration}},117:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedGamesAction});var LoadedGamesAction=function LoadedGamesAction(gamesByIds,gamesIds,platformsBySpaceIds,platformsSpaceIds,gamesPlatforms,platformsGames,expiration){_classCallCheck(this,LoadedGamesAction),this.gamesByIds=gamesByIds,this.gamesIds=gamesIds,this.platformsBySpaceIds=platformsBySpaceIds,this.platformsSpaceIds=platformsSpaceIds,this.gamesPlatforms=gamesPlatforms,this.platformsGames=platformsGames,this.expiration=expiration}},118:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedGamesOwnedAction});var LoadedGamesOwnedAction=function LoadedGamesOwnedAction(bySpaceId,userId){_classCallCheck(this,LoadedGamesOwnedAction),this.bySpaceId=bySpaceId,this.userId=userId}},119:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadingAddFriendsAction});var LoadingAddFriendsAction=function LoadingAddFriendsAction(isLoading,userName){_classCallCheck(this,LoadingAddFriendsAction),this.isLoading=isLoading,this.userName=userName}},120:function(module,exports,__webpack_require__){"use strict";__webpack_require__.d(exports,"a",function(){return LOGIN_TYPE}),__webpack_require__.d(exports,"d",function(){return EXTERANL_LOGIN_TYPE}),__webpack_require__.d(exports,"c",function(){return CLICK_FRIENDS_PROFILE_TYPE}),__webpack_require__.d(exports,"b",function(){return OVERWRITTEN_LINKS_TYPE});var LOGIN_TYPE;!function(LOGIN_TYPE){LOGIN_TYPE[LOGIN_TYPE.LOGIN_TYPE_MODAL="modal"]="LOGIN_TYPE_MODAL",LOGIN_TYPE[LOGIN_TYPE.LOGIN_TYPE_POPUP="popup"]="LOGIN_TYPE_POPUP"}(LOGIN_TYPE||(LOGIN_TYPE={}));var EXTERANL_LOGIN_TYPE;!function(EXTERANL_LOGIN_TYPE){EXTERANL_LOGIN_TYPE[EXTERANL_LOGIN_TYPE.LOGIN_PSN="psn"]="LOGIN_PSN",EXTERANL_LOGIN_TYPE[EXTERANL_LOGIN_TYPE.LOGIN_XBOX="xbox"]="LOGIN_XBOX",EXTERANL_LOGIN_TYPE[EXTERANL_LOGIN_TYPE.LOGIN_TWITCH="twitch"]="LOGIN_TWITCH"}(EXTERANL_LOGIN_TYPE||(EXTERANL_LOGIN_TYPE={}));var CLICK_FRIENDS_PROFILE_TYPE;!function(CLICK_FRIENDS_PROFILE_TYPE){CLICK_FRIENDS_PROFILE_TYPE[CLICK_FRIENDS_PROFILE_TYPE.TYPE_SELF="Self"]="TYPE_SELF",CLICK_FRIENDS_PROFILE_TYPE[CLICK_FRIENDS_PROFILE_TYPE.TYPE_BLANK="Blank"]="TYPE_BLANK",CLICK_FRIENDS_PROFILE_TYPE[CLICK_FRIENDS_PROFILE_TYPE.TYPE_POST_MESSAGE="PostMessage"]="TYPE_POST_MESSAGE"}(CLICK_FRIENDS_PROFILE_TYPE||(CLICK_FRIENDS_PROFILE_TYPE={}));var OVERWRITTEN_LINKS_TYPE;!function(OVERWRITTEN_LINKS_TYPE){OVERWRITTEN_LINKS_TYPE[OVERWRITTEN_LINKS_TYPE.EDIT="edit"]="EDIT",OVERWRITTEN_LINKS_TYPE[OVERWRITTEN_LINKS_TYPE.ACCOUNT="account"]="ACCOUNT",OVERWRITTEN_LINKS_TYPE[OVERWRITTEN_LINKS_TYPE.SUPPORT="support"]="SUPPORT"}(OVERWRITTEN_LINKS_TYPE||(OVERWRITTEN_LINKS_TYPE={}))},121:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return Swiper});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Swiper=function(){function Swiper(element,onSwipe,threshold,allowedTime,preventDefault){_classCallCheck(this,Swiper),this.touchSurface=element,this.callback=onSwipe,this.addEvents()}return _createClass(Swiper,[{key:"addEvents",value:function(){this.touchSurface&&(this.touchSurface.addEventListener("touchstart",this.onTouchStart.bind(this),!1),this.touchSurface.addEventListener("touchmove",this.onTouchMove.bind(this),!1))}},{key:"onTouchStart",value:function(e){this.xDown=e.touches[0].clientX,this.yDown=e.touches[0].clientY}},{key:"onTouchMove",value:function(e){if(this.xDown&&this.yDown){this.xUp=e.touches[0].clientX,this.yUp=e.touches[0].clientY;var xDiff=this.xDown-this.xUp,yDiff=this.yDown-this.yUp,swipeRightBol=!1,swipeLeftBol=!1;Math.abs(xDiff)>Math.abs(yDiff)&&(swipeLeftBol=xDiff>0,swipeRightBol=xDiff<=0),this.callback({swipeRight:swipeRightBol,swipeLeft:swipeLeftBol}),this.xDown=null,this.yDown=null,this.xUp=null,this.yUp=null}}},{key:"removeEvents",value:function(){this.touchSurface&&(this.touchSurface.removeEventListener("touchstart",this.onTouchStart.bind(this),!1),this.touchSurface.removeEventListener("touchmove",this.onTouchMove.bind(this),!1))}}]),Swiper}()},122:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_app_services_FriendsService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(104)),__WEBPACK_IMPORTED_MODULE_3_app_actions_ChangeFriendStateAction__=__webpack_require__(347),__WEBPACK_IMPORTED_MODULE_4_app_stores_FriendsStore__=__webpack_require__(67),__WEBPACK_IMPORTED_MODULE_5_ubisoft_api__=__webpack_require__(17),__WEBPACK_IMPORTED_MODULE_6_moment__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_ubisoft_api__),__webpack_require__(1)),__WEBPACK_IMPORTED_MODULE_6_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_moment__),__WEBPACK_IMPORTED_MODULE_7_app_actions_LoadedFriendsAction__=__webpack_require__(116),__WEBPACK_IMPORTED_MODULE_8_app_services_ProfilesService__=__webpack_require__(85),__WEBPACK_IMPORTED_MODULE_9_app_services_ConnectionsService__=__webpack_require__(386),__WEBPACK_IMPORTED_MODULE_10_app_services_ApplicationsService__=__webpack_require__(174),__WEBPACK_IMPORTED_MODULE_11__actions_ChangeFriendDeclineStateAction__=__webpack_require__(154);__webpack_require__.d(exports,"a",function(){return NotificationsPanelService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},NotificationsPanelService=function(_AbstractActions){function NotificationsPanelService(friendsService,profilesService,connectionsService,applicationsService){_classCallCheck(this,NotificationsPanelService);var _this=_possibleConstructorReturn(this,(NotificationsPanelService.__proto__||Object.getPrototypeOf(NotificationsPanelService)).call(this));return _this.friendsService=friendsService,_this.profilesService=profilesService,_this.connectionsService=connectionsService,_this.applicationsService=applicationsService,_this}return _inherits(NotificationsPanelService,_AbstractActions),_createClass(NotificationsPanelService,[{key:"handleDeclineRequest",value:function(pid){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_11__actions_ChangeFriendDeclineStateAction__.a(null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_ChangeFriendStateAction__.a(pid,(!0))),_context.next=4,this.friendsService.declineFriend(pid);case 4:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_ChangeFriendStateAction__.a(null,(!0))),_context.next=7,this.map(pid,__WEBPACK_IMPORTED_MODULE_5_ubisoft_api__.FRIEND_STATE.NO_RELATIONSHIP);case 7:this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_ChangeFriendStateAction__.a(null,(!1)));case 8:case"end":return _context.stop()}},_callee,this)}))}},{key:"handleAcceptRequest",value:function(pid){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var _this2=this;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_ChangeFriendStateAction__.a(pid,(!0))),_context2.next=3,this.friendsService.acceptFriend(pid);case 3:return _context2.next=5,Promise.all([this.profilesService.loadFriendClubProfiles(pid),this.profilesService.loadFriendUserProfiles(pid).then(function(){return Promise.all([_this2.connectionsService.loadFriendConnections(pid),_this2.applicationsService.loadApplicationsProfilesForAFriend(pid)])})]);case 5:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_ChangeFriendStateAction__.a(null,(!0))),_context2.next=8,this.map(pid,__WEBPACK_IMPORTED_MODULE_5_ubisoft_api__.FRIEND_STATE.FRIENDS);case 8:this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_ChangeFriendStateAction__.a(null,(!1)));case 9:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"map",value:function(pid,state){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var promise,friends;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,new Promise(function(resolve){return setTimeout(function(){return resolve()},1500)});case 2:return promise=_context3.sent,friends=Object.assign({},__WEBPACK_IMPORTED_MODULE_4_app_stores_FriendsStore__.a.getByIds(this.state)),friends[pid]=Object.assign({},friends[pid],{state:state,lastModified:__WEBPACK_IMPORTED_MODULE_6_moment___default.a.utc().format("YYYY-MM-DDTHH:mm:ss.SSSS"),stillInRequests:!1}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_7_app_actions_LoadedFriendsAction__.a(friends,__WEBPACK_IMPORTED_MODULE_4_app_stores_FriendsStore__.a.getIds(this.state),__WEBPACK_IMPORTED_MODULE_4_app_stores_FriendsStore__.a.getExpiration(this.getState()))),_context3.abrupt("return",promise);case 7:case"end":return _context3.stop()}},_callee3,this)}))}}]),NotificationsPanelService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);NotificationsPanelService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2_app_services_FriendsService__.a,__WEBPACK_IMPORTED_MODULE_8_app_services_ProfilesService__.a,__WEBPACK_IMPORTED_MODULE_9_app_services_ConnectionsService__.a,__WEBPACK_IMPORTED_MODULE_10_app_services_ApplicationsService__.a])],NotificationsPanelService)},123:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedMyApplicationsProfilesAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(163)),__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsApplicationsProfilesAction__=__webpack_require__(159),__WEBPACK_IMPORTED_MODULE_5__actions_ReloadAction__=__webpack_require__(72);__webpack_require__.d(exports,"a",function(){return ApplicationsProfilesStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},ApplicationsProfilesStore=function(_ReducerStore){function ApplicationsProfilesStore(){_classCallCheck(this,ApplicationsProfilesStore);var _this=_possibleConstructorReturn(this,(ApplicationsProfilesStore.__proto__||Object.getPrototypeOf(ApplicationsProfilesStore)).call(this));return _this.bind(null,function(){return{byId:{},byProfileId:{},ids:[],friendsExpiration:0,selfExpiration:0}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedMyApplicationsProfilesAction__.a.name,_this.handleLoadedMyApplicationsProfilesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsApplicationsProfilesAction__.a.name,_this.handleLoadedFriendsApplicationsProfilesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_5__actions_ReloadAction__.a.name,_this.handleLoggedOutAction),_this}return _inherits(ApplicationsProfilesStore,_ReducerStore),_createClass(ApplicationsProfilesStore,[{key:"handleLoggedOutAction",value:function(state,action){return{byId:{},byProfileId:{},ids:[],friendsExpiration:0,selfExpiration:0}}},{key:"handleLoadedMyApplicationsProfilesAction",value:function(state,action){return Object.assign({},state,{byId:Object.assign({},state.byId,action.byId),byProfileId:Object.assign({},state.byProfileId,action.byProfileId),ids:state.ids.filter(function(id){return!action.ids.includes(id)}).concat(action.ids),selfExpiration:action.expiration})}},{key:"handleLoadedFriendsApplicationsProfilesAction",value:function(state,action){return Object.assign({},state,{byId:Object.assign({},state.byId,action.byId),byProfileId:Object.assign({},state.byProfileId,action.byProfileId),ids:state.ids.filter(function(id){return!action.ids.includes(id)}).concat(action.ids),friendsExpiration:action.friendsExpiration})}}]),ApplicationsProfilesStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);ApplicationsProfilesStore.getState=function(state){return state.ApplicationsProfilesStore},ApplicationsProfilesStore.getByProfileId=function(state){return state.ApplicationsProfilesStore.byProfileId},ApplicationsProfilesStore.getById=function(state){return state.ApplicationsProfilesStore.byId},ApplicationsProfilesStore.getIds=function(state){return state.ApplicationsProfilesStore.ids},ApplicationsProfilesStore.getFriendsExpiration=function(state){return state.ApplicationsProfilesStore.friendsExpiration},ApplicationsProfilesStore.getSelfExpiration=function(state){return state.ApplicationsProfilesStore.selfExpiration},ApplicationsProfilesStore.loadedMyApplicationsProfiles=function(state){return state.LoadersStore.MyApplicationsProfiles},ApplicationsProfilesStore.loadedFriendsApplicationsProfiles=function(state){return state.LoadersStore.FriendsApplicationsProfiles},ApplicationsProfilesStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],ApplicationsProfilesStore)},124:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedApplicationsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(157)),__WEBPACK_IMPORTED_MODULE_4__actions_ReloadAction__=__webpack_require__(72);__webpack_require__.d(exports,"a",function(){return ApplicationsStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];
descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},ApplicationsStore=function(_ReducerStore){function ApplicationsStore(){_classCallCheck(this,ApplicationsStore);var _this=_possibleConstructorReturn(this,(ApplicationsStore.__proto__||Object.getPrototypeOf(ApplicationsStore)).call(this));return _this.bind(null,function(){return{byId:{},bySpaceId:{},ids:[],expiration:0}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedApplicationsAction__.a.name,_this.handleLoadedApplicationsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_ReloadAction__.a.name,_this.handleLoggedOutAction),_this}return _inherits(ApplicationsStore,_ReducerStore),_createClass(ApplicationsStore,[{key:"handleLoggedOutAction",value:function(state,action){return{byId:{},bySpaceId:{},ids:[],expiration:0}}},{key:"handleLoadedApplicationsAction",value:function(state,action){return Object.assign({},state,{byId:Object.assign({},state.byId,action.byId),bySpaceId:Object.assign({},state.bySpaceId,action.bySpaceId),ids:state.ids.filter(function(id){return!action.ids.includes(id)}).concat(action.ids),expiration:action.expiration})}}]),ApplicationsStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);ApplicationsStore.getState=function(state){return state.ApplicationsStore},ApplicationsStore.getById=function(state){return state.ApplicationsStore.byId},ApplicationsStore.getBySpaceId=function(state){return state.ApplicationsStore.bySpaceId},ApplicationsStore.getIds=function(state){return state.ApplicationsStore.ids},ApplicationsStore.getExpiration=function(state){return state.ApplicationsStore.expiration},ApplicationsStore.loaded=function(state){return state.LoadersStore.Applications},ApplicationsStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],ApplicationsStore)},125:function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedGamesAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(117)),__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedGamesOwnedAction__=__webpack_require__(118);__webpack_require__.d(exports,"a",function(){return GamesStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},GamesStore=function(_ReducerStore){function GamesStore(){_classCallCheck(this,GamesStore);var _this=_possibleConstructorReturn(this,(GamesStore.__proto__||Object.getPrototypeOf(GamesStore)).call(this));return _this.bind(null,function(){return{byId:{},byPlatformId:{},ids:[],ownershipByUserId:{},expiration:0}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedGamesAction__.a.name,_this.handleLoadedGamesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedGamesOwnedAction__.a.name,_this.handleLoadedGamesOwnedAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this}return _inherits(GamesStore,_ReducerStore),_createClass(GamesStore,[{key:"handleLoggedOutAction",value:function(state,action){return{byId:{},byPlatformId:{},ids:[],ownershipByUserId:{},expiration:0}}},{key:"handleLoadedGamesAction",value:function(state,action){return Object.assign({},state,{byId:Object.assign({},state.byId,action.gamesByIds),byPlatformId:Object.assign({},state.byPlatformId,action.platformsGames),ids:state.ids.filter(function(id){return!action.gamesIds.includes(id)}).concat(action.gamesIds),expiration:action.expiration})}},{key:"handleLoadedGamesOwnedAction",value:function(state,action){return Object.assign({},state,{ownershipByUserId:Object.assign({},state.ownershipByUserId,_defineProperty({},action.userId,action.bySpaceId.map(function(spaceId){return state.byPlatformId[spaceId]}).filter(function(id,idx,self){return self.indexOf(id)==idx}).filter(function(item){return!!item})))})}}]),GamesStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);GamesStore.getState=function(state){return state.GamesStore},GamesStore.getById=function(state){return state.GamesStore.byId},GamesStore.getIds=function(state){return state.GamesStore.ids},GamesStore.getByPlatformId=function(state){return state.GamesStore.byPlatformId},GamesStore.getOwnershipByUserId=function(state){return state.GamesStore.ownershipByUserId},GamesStore.getExpiration=function(state){return state.GamesStore.expiration},GamesStore.loaded=function(state){return state.LoadersStore.Games},GamesStore.loadedOwnership=function(state){return state.LoadersStore.GamesOwnership},GamesStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],GamesStore)},126:function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedGamesAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(117)),__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedGamesOwnedAction__=__webpack_require__(118);__webpack_require__.d(exports,"a",function(){return PlatformsStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},PlatformsStore=function(_ReducerStore){function PlatformsStore(){_classCallCheck(this,PlatformsStore);var _this=_possibleConstructorReturn(this,(PlatformsStore.__proto__||Object.getPrototypeOf(PlatformsStore)).call(this));return _this.bind(null,function(){return{byId:{},byGameId:{},ids:[],ownershipByUserId:{}}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedGamesAction__.a.name,_this.handleLoadedGamesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedGamesOwnedAction__.a.name,_this.handleLoadedGamesOwnedAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this}return _inherits(PlatformsStore,_ReducerStore),_createClass(PlatformsStore,[{key:"handleLoggedOutAction",value:function(state,action){return{byId:{},byGameId:{},ids:[],ownershipByUserId:{}}}},{key:"handleLoadedGamesAction",value:function(state,action){return Object.assign({},state,{byId:Object.assign({},state.byId,action.platformsBySpaceIds),byGameId:Object.assign({},state.byGameId,action.gamesPlatforms),ids:state.ids.filter(function(id){return!action.platformsSpaceIds.includes(id)}).concat(action.platformsSpaceIds)})}},{key:"handleLoadedGamesOwnedAction",value:function(state,action){return Object.assign({},state,{ownershipByUserId:Object.assign({},state.ownershipByUserId,_defineProperty({},action.userId,action.bySpaceId))})}}]),PlatformsStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);PlatformsStore.getState=function(state){return state.PlatformsStore},PlatformsStore.getById=function(state){return state.PlatformsStore.byId},PlatformsStore.getByGameId=function(state){return state.PlatformsStore.byGameId},PlatformsStore.getOwnershipByUserId=function(state){return state.PlatformsStore.ownershipByUserId},PlatformsStore.getIds=function(state){return state.PlatformsStore.ids},PlatformsStore.loaded=function(state){return state.LoadersStore.Games},PlatformsStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],PlatformsStore)},15:function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(62),__WEBPACK_IMPORTED_MODULE_1_moment__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__webpack_require__(1)),__WEBPACK_IMPORTED_MODULE_1_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_moment__),__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__),__webpack_require__(17)),__WEBPACK_IMPORTED_MODULE_4_app_stores_ApplicationsStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__),__webpack_require__(124)),__WEBPACK_IMPORTED_MODULE_5_app_stores_GamesStore__=__webpack_require__(125),__WEBPACK_IMPORTED_MODULE_6_app_stores_PlatformsStore__=__webpack_require__(126),__WEBPACK_IMPORTED_MODULE_7_app_modules_authentication_queries_IdentityQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_8_app_stores_UserProfilesStore__=__webpack_require__(59),__WEBPACK_IMPORTED_MODULE_9_app_stores_ApplicationsProfilesStore__=__webpack_require__(123),__WEBPACK_IMPORTED_MODULE_10_app_stores_ConnectionsStore__=__webpack_require__(177),__WEBPACK_IMPORTED_MODULE_11_app_stores_FriendsStore__=__webpack_require__(67),__WEBPACK_IMPORTED_MODULE_12_app_stores_ClubProfilesStore__=__webpack_require__(105),__WEBPACK_IMPORTED_MODULE_13_app_stores_GameStatsStore__=__webpack_require__(391),__WEBPACK_IMPORTED_MODULE_14_app_queries_WidgetQueries__=__webpack_require__(58),__WEBPACK_IMPORTED_MODULE_15_app_modules_configuration_queries_ConfigurationQueries__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_16_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_17_app_stores_AddFriendStore__=__webpack_require__(176),__WEBPACK_IMPORTED_MODULE_18_app_stores_UserEmailVerificationStore__=__webpack_require__(392),__WEBPACK_IMPORTED_MODULE_19__stores_FilterFriendStore__=__webpack_require__(178),__WEBPACK_IMPORTED_MODULE_20__stores_FriendsActionsStore__=__webpack_require__(106);__webpack_require__.d(exports,"F",function(){return myUserProfiles$}),__webpack_require__.d(exports,"a",function(){return friendsInFriendsStateIds$}),__webpack_require__.d(exports,"b",function(){return friendsInRequestStateIds$}),__webpack_require__.d(exports,"e",function(){return myUserProfilesIds$}),__webpack_require__.d(exports,"f",function(){return friendsUserProfilesIds$}),__webpack_require__.d(exports,"k",function(){return getUsername$}),__webpack_require__.d(exports,"r",function(){return getLevel$}),__webpack_require__.d(exports,"l",function(){return getUnits$}),__webpack_require__.d(exports,"t",function(){return getProgressionPercentage$}),__webpack_require__.d(exports,"s",function(){return getXpToLevelUp$}),__webpack_require__.d(exports,"j",function(){return hasMyLastPlayedGame$}),__webpack_require__.d(exports,"m",function(){return myLastPlayedGame$_Name}),__webpack_require__.d(exports,"n",function(){return myLastPlayedGame$_CleanUrl}),__webpack_require__.d(exports,"v",function(){return myLastPlayedGame$_Date}),__webpack_require__.d(exports,"o",function(){return myLastPlayedGame$_Platform}),__webpack_require__.d(exports,"d",function(){return myLastPlayedGame$_SpaceID}),__webpack_require__.d(exports,"y",function(){return myLastPlayedGame$_ImageUrl}),__webpack_require__.d(exports,"L",function(){return getNbOfFriendsOnline$}),__webpack_require__.d(exports,"J",function(){return getLoadedFriendsActivityFeed$}),__webpack_require__.d(exports,"Q",function(){return getLoadedFriendsRequests$}),__webpack_require__.d(exports,"I",function(){return getLoadedOnlineFriends$}),__webpack_require__.d(exports,"A",function(){return hasLastPlayedGameStats$}),__webpack_require__.d(exports,"B",function(){return lastPlayedGameStats$}),__webpack_require__.d(exports,"u",function(){return gameCustomerSupport$}),__webpack_require__.d(exports,"w",function(){return myLastPlayedGame$_ShopUrl}),__webpack_require__.d(exports,"x",function(){return myLastPlayedGame$_Platforms}),__webpack_require__.d(exports,"z",function(){return myLastPlayedGame$_IsOwned}),__webpack_require__.d(exports,"C",function(){return hasFoundProfilesByName$}),__webpack_require__.d(exports,"D",function(){return foundProfilesByNameIds$}),__webpack_require__.d(exports,"H",function(){return friendsToAdd$}),__webpack_require__.d(exports,"G",function(){return hasFoundFriendsToAdd$}),__webpack_require__.d(exports,"E",function(){return friendsToAddState$}),__webpack_require__.d(exports,"c",function(){return myUserIdByLastPlayedGamePlatform$}),__webpack_require__.d(exports,"q",function(){return showUserEmailVerificationButton$}),__webpack_require__.d(exports,"V",function(){return isEmailVerificationSent$}),__webpack_require__.d(exports,"W",function(){return getTotalNotificationsNb$}),__webpack_require__.d(exports,"p",function(){return getHasProfileCallError$}),__webpack_require__.d(exports,"h",function(){return getHasFriendsInFriendsState$}),__webpack_require__.d(exports,"i",function(){return getHasFriendsInRequestState$}),__webpack_require__.d(exports,"g",function(){return getAllFriends$}),__webpack_require__.d(exports,"K",function(){return getFriendsActivityFeedFiltered$}),__webpack_require__.d(exports,"O",function(){return getOnlineFeedFilteredToShow$}),__webpack_require__.d(exports,"P",function(){return getHasOnlineFeedAfterFiltered$}),__webpack_require__.d(exports,"M",function(){return getHasFriendsActivityFeedAfterFiltered$}),__webpack_require__.d(exports,"N",function(){return getNbFriendsInActivityFeed$}),__webpack_require__.d(exports,"R",function(){return getFriendsRequestsRelatedToTooggleParam$}),__webpack_require__.d(exports,"T",function(){return getFriendsInvitationsRelatedToTooggleParam$}),__webpack_require__.d(exports,"S",function(){return getFriendsRequestsLength$}),__webpack_require__.d(exports,"U",function(){return getFriendsInvitationsLength$});var defaultLoadedSelector=function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return args.reduce(function(prev,curr){return prev&&curr})},applicationsIds$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("applicationsIds$",__WEBPACK_IMPORTED_MODULE_4_app_stores_ApplicationsStore__.a.getIds,function(ids){return ids}),spaceIdByAppId$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("spaceIdByAppId$",__WEBPACK_IMPORTED_MODULE_4_app_stores_ApplicationsStore__.a.getIds,__WEBPACK_IMPORTED_MODULE_4_app_stores_ApplicationsStore__.a.getById,function(appsIds,appById){var tmp={};return appsIds.forEach(function(id){return tmp[id]=appById[id].spaceId}),tmp}),appIdBySpaceId$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("appIdBySpaceId$",__WEBPACK_IMPORTED_MODULE_4_app_stores_ApplicationsStore__.a.getIds,__WEBPACK_IMPORTED_MODULE_4_app_stores_ApplicationsStore__.a.getById,function(appsIds,appById){var tmp={};return appsIds.forEach(function(id){return tmp[appById[id].spaceId]=id}),tmp}),gamesBySpaceId$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("gamesBySpaceId$",__WEBPACK_IMPORTED_MODULE_5_app_stores_GamesStore__.a.getByPlatformId,__WEBPACK_IMPORTED_MODULE_5_app_stores_GamesStore__.a.getById,function(gamesByPlatformId,gamesById){var tmp={};return Object.keys(gamesByPlatformId).forEach(function(spaceId){tmp[spaceId]=gamesById[gamesByPlatformId[spaceId]]}),tmp}),platformsBySpaceId$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("platformsBySpaceId$",__WEBPACK_IMPORTED_MODULE_6_app_stores_PlatformsStore__.a.getById,function(platforms){return platforms}),myUserProfiles$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("myUserProfiles$",__WEBPACK_IMPORTED_MODULE_7_app_modules_authentication_queries_IdentityQueries__.a.getUserId,__WEBPACK_IMPORTED_MODULE_8_app_stores_UserProfilesStore__.a.getIds,__WEBPACK_IMPORTED_MODULE_8_app_stores_UserProfilesStore__.a.getById,function(userId,profilesIds,profilesByIds){return profilesIds.filter(function(id){return profilesByIds[id].userId===userId}).map(function(id){return profilesByIds[id]})}),friendsInFriendsState$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendsInFriendsState$",__WEBPACK_IMPORTED_MODULE_11_app_stores_FriendsStore__.a.getByIds,function(friends){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.filter)(friends,function(friend){return friend.state===__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.FRIEND_STATE.FRIENDS})}),friendsInFriendsStateIds$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendsInFriendsStateIds$",friendsInFriendsState$,function(friends){return friends.map(function(friend){return friend.pid})}),friendsInRequestState$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendsInRequestState$",__WEBPACK_IMPORTED_MODULE_11_app_stores_FriendsStore__.a.getByIds,function(friends){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.filter)(friends,function(friend){return friend.state===__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.FRIEND_STATE.PENDING_RECEIVED_INVITE})}),friendsInSentInviteState$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendsInSentInviteState$",__WEBPACK_IMPORTED_MODULE_11_app_stores_FriendsStore__.a.getByIds,function(friends){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.filter)(friends,function(friend){return friend.state===__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.FRIEND_STATE.PENDING_SENT_INVITE})}),friendsInRequestStateIds$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendsInRequestStateIds$",friendsInRequestState$,function(friends){return friends.map(function(friend){return friend.pid})}),friendsUserProfiles$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendsUserProfiles$",friendsInFriendsStateIds$,__WEBPACK_IMPORTED_MODULE_8_app_stores_UserProfilesStore__.a.getIds,__WEBPACK_IMPORTED_MODULE_8_app_stores_UserProfilesStore__.a.getById,function(userIds,profilesIds,profilesByIds){return profilesIds.filter(function(id){return userIds.includes(profilesByIds[id].userId)}).map(function(id){return profilesByIds[id]})}),myUserProfilesIds$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("myUserProfilesIds$",myUserProfiles$,function(profiles){return profiles.map(function(p){return p.profileId})}),friendsUserProfilesIds$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendsUserProfilesIds$",friendsUserProfiles$,function(profiles){return profiles.map(function(p){return p.profileId})}),friendsUserProfilesIdsByUserId$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendsUserProfilesIdsByUserId$",friendsUserProfiles$,function(profiles){var tmp={};return profiles.forEach(function(profile){tmp[profile.userId]||(tmp[profile.userId]=[]),tmp[profile.userId].push(profile.profileId)}),tmp}),getUsername$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getUsername$",myUserProfilesIds$,__WEBPACK_IMPORTED_MODULE_8_app_stores_UserProfilesStore__.a.getById,function(profileIds,profiles){var id=profileIds.find(function(id){return profiles[id].platformType===__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.PLATFORM_TYPE.UPLAY});return profiles[id]?profiles[id].nameOnPlatform:null}),getMyClubProfile$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getMyClubProfile$",__WEBPACK_IMPORTED_MODULE_12_app_stores_ClubProfilesStore__.a.getIds,__WEBPACK_IMPORTED_MODULE_12_app_stores_ClubProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_7_app_modules_authentication_queries_IdentityQueries__.a.getUserId,function(ids,byId,userId){return byId[ids.find(function(id){return byId[id].profileId===userId})]}),getLevel$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getLevel$",getMyClubProfile$,function(profile){return profile&&profile.currentLevel?profile.currentLevel.levelNumber:0}),getUnits$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getUnits$",getMyClubProfile$,function(profile){return profile?profile.units:0}),getProgressionPercentage$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getProgressionPercentage$",getMyClubProfile$,function(profile){return profile&&profile.currentLevel&&profile.xp?Math.round((profile.xp-profile.currentLevel.xpLowBound)/(profile.currentLevel.xpHighBound-profile.currentLevel.xpLowBound)*100):0}),getXpToLevelUp$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getXpToLevelUp$",getMyClubProfile$,function(profile){return profile&&profile.currentLevel&&profile.xp?profile.currentLevel.xpHighBound-profile.xp+1:0}),myApplicationsProfiles$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("myApplicationsProfiles$",myUserProfilesIds$,__WEBPACK_IMPORTED_MODULE_9_app_stores_ApplicationsProfilesStore__.a.getIds,__WEBPACK_IMPORTED_MODULE_9_app_stores_ApplicationsProfilesStore__.a.getById,function(profileIds,appProfilesIds,appProfilesById){return appProfilesIds.filter(function(id){return profileIds.includes(appProfilesById[id].profileId)}).map(function(id){return appProfilesById[id]})}),friendsApplicationsProfiles$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendsApplicationsProfiles$",friendsUserProfilesIds$,__WEBPACK_IMPORTED_MODULE_9_app_stores_ApplicationsProfilesStore__.a.getIds,__WEBPACK_IMPORTED_MODULE_9_app_stores_ApplicationsProfilesStore__.a.getById,function(profileIds,appProfilesIds,appProfilesById){return appProfilesIds.filter(function(id){return profileIds.includes(appProfilesById[id].profileId)}).map(function(id){return appProfilesById[id]})}),computeLpgByUserIds=function(userProfilesIdsByUserId,appProfiles,appsIds,spaceIdsByAppId,gamesBySpaceId,platformsBySpaceId,userIds){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.keyBy)(userIds.map(function(userId){var userProfilesIds=userProfilesIdsByUserId[userId]||[],userAppProfiles=appProfiles.filter(function(item){return appsIds.includes(item.applicationId)});if(userAppProfiles=userAppProfiles.filter(function(appProfile){return userProfilesIds.includes(appProfile.profileId)}).slice(0).sort(function(a,b){return __WEBPACK_IMPORTED_MODULE_1_moment___default()(a.lastSessionDate).isBefore(__WEBPACK_IMPORTED_MODULE_1_moment___default()(b.lastSessionDate))?1:-1}),0!==userAppProfiles.length){var lastAppProfileUsed=userAppProfiles[0],spaceId=spaceIdsByAppId[lastAppProfileUsed.applicationId],lastSessionDate=lastAppProfileUsed.lastSessionDate;return{id:gamesBySpaceId[spaceId].id,gameName:gamesBySpaceId[spaceId].title,gameCleanUrl:gamesBySpaceId[spaceId].cleanUrl,lastPlayedDate:lastSessionDate,platformCode:platformsBySpaceId[spaceId].code,imageUrl:gamesBySpaceId[spaceId].thumbUrl,userId:userId,spaceId:spaceId}}}).filter(function(item){return!!item}),"userId")},myProfileIdsByUserId$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("myProfileIdsByUserId$",myUserProfilesIds$,__WEBPACK_IMPORTED_MODULE_7_app_modules_authentication_queries_IdentityQueries__.a.getUserId,function(profileIds,userId){return _defineProperty({},userId,profileIds)}),myUserIdAsArray=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("myUserIdAsArray",__WEBPACK_IMPORTED_MODULE_7_app_modules_authentication_queries_IdentityQueries__.a.getUserId,function(userId){return[userId]}),myLastPlayedGameDict$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("myLastPlayedGameDict$",myProfileIdsByUserId$,myApplicationsProfiles$,applicationsIds$,spaceIdByAppId$,gamesBySpaceId$,platformsBySpaceId$,myUserIdAsArray,computeLpgByUserIds),myLastPlayedGameEvenIfOwned$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("myLastPlayedGameEvenIfOwned$",myLastPlayedGameDict$,__WEBPACK_IMPORTED_MODULE_7_app_modules_authentication_queries_IdentityQueries__.a.getUserId,function(lpg,userId){return lpg[userId]}),myOwnedGamesIds=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("myOwnedGamesIds",__WEBPACK_IMPORTED_MODULE_5_app_stores_GamesStore__.a.getOwnershipByUserId,__WEBPACK_IMPORTED_MODULE_7_app_modules_authentication_queries_IdentityQueries__.a.getUserId,function(byUserId,userId){return byUserId[userId]||[]}),myLastPlayedGame$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("myLastPlayedGame$",myLastPlayedGameEvenIfOwned$,myOwnedGamesIds,__WEBPACK_IMPORTED_MODULE_5_app_stores_GamesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_6_app_stores_PlatformsStore__.a.getById,__WEBPACK_IMPORTED_MODULE_6_app_stores_PlatformsStore__.a.getByGameId,__WEBPACK_IMPORTED_MODULE_6_app_stores_PlatformsStore__.a.getOwnershipByUserId,__WEBPACK_IMPORTED_MODULE_7_app_modules_authentication_queries_IdentityQueries__.a.getUserId,__WEBPACK_IMPORTED_MODULE_14_app_queries_WidgetQueries__.a.getNewLastPlayGameInstallmentId,myApplicationsProfiles$,appIdBySpaceId$,spaceIdByAppId$,function(lpg,ownedGamesIds,gamesById,platformsById,platformsByGameId,platformsOwnedByUserId,userId,installmentId,myApplicationsProfiles,appIdBySpaceId,spaceIdByAppId){if(installmentId){var gameId=null;if(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.find)(gamesById,function(game,id){return game.installmentId==installmentId&&(gameId=id),game.installmentId==installmentId}),!gameId)return lpg;var ownedSpaceIDs=platformsOwnedByUserId[userId].filter(function(platform){
return platformsByGameId[gameId].indexOf(platform)!==-1});ownedSpaceIDs=ownedSpaceIDs.length?ownedSpaceIDs:[platformsByGameId[gameId][0]];var spaceId=ownedSpaceIDs[0],applicationsBySpaceIDs=myApplicationsProfiles.filter(function(item){return!!ownedSpaceIDs.find(function(spaceId){return item.applicationId==appIdBySpaceId[spaceId]})}).sort(function(a,b){return __WEBPACK_IMPORTED_MODULE_1_moment___default()(a.lastSessionDate).isBefore(__WEBPACK_IMPORTED_MODULE_1_moment___default()(b.lastSessionDate))?1:-1}),lastSessionDate=null;return applicationsBySpaceIDs.length&&(spaceId=spaceIdByAppId[applicationsBySpaceIDs[0].applicationId],lastSessionDate=applicationsBySpaceIDs[0].lastSessionDate),{spaceId:spaceId,gameName:gamesById[gameId].title,gameCleanUrl:gamesById[gameId].cleanUrl,id:gamesById[gameId].id,platformCode:platformsById[spaceId].code,userId:userId,imageUrl:gamesById[gameId].thumbUrl,lastPlayedDate:lastSessionDate}}if(lpg)return lpg;var ownedGamesIdsByPublishedAt=Object.keys(gamesById).filter(function(id){return ownedGamesIds.includes(id)}).slice(0).sort(function(a,b){return __WEBPACK_IMPORTED_MODULE_1_moment___default()(gamesById[a].publishedAt).isAfter(__WEBPACK_IMPORTED_MODULE_1_moment___default()(gamesById[b].publishedAt))?-1:1});if(0===ownedGamesIdsByPublishedAt.length)return null;var lastOwnedPublishedGame=ownedGamesIdsByPublishedAt[0],lastOwnedPlatformPublished=platformsByGameId[lastOwnedPublishedGame].filter(function(spaceId){return platformsOwnedByUserId[userId].includes(spaceId)})[0],platform=platformsById[lastOwnedPlatformPublished];return{spaceId:platform.spaceId,gameName:gamesById[lastOwnedPublishedGame].title,gameCleanUrl:gamesById[lastOwnedPublishedGame].cleanUrl,id:gamesById[lastOwnedPublishedGame].id,platformCode:platform.code,userId:userId,imageUrl:gamesById[lastOwnedPublishedGame].thumbUrl,lastPlayedDate:null}}),hasMyLastPlayedGame$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("hasMyLastPlayedGame$",myLastPlayedGame$,function(data){return!!data}),myLastPlayedGame$_Name=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("myLastPlayedGame$_Name",myLastPlayedGame$,function(data){return data.gameName}),myLastPlayedGame$_CleanUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("myLastPlayedGame$_CleanUrl",myLastPlayedGame$,function(data){return data.gameCleanUrl}),myLastPlayedGame$_Date=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("myLastPlayedGame$_Date",myLastPlayedGame$,function(data){return data.lastPlayedDate}),myLastPlayedGame$_Platform=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("myLastPlayedGame$_Platform",myLastPlayedGame$,function(data){return data?"switch"!==data.platformCode.toLowerCase()?data.platformCode:"NINTENDO SWITCH":null}),myLastPlayedGame$_SpaceID=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("myLastPlayedGame$_SpaceID",myLastPlayedGame$,__WEBPACK_IMPORTED_MODULE_14_app_queries_WidgetQueries__.a.getNewLastPlayGameInstallmentId,__WEBPACK_IMPORTED_MODULE_5_app_stores_GamesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_6_app_stores_PlatformsStore__.a.getOwnershipByUserId,__WEBPACK_IMPORTED_MODULE_7_app_modules_authentication_queries_IdentityQueries__.a.getUserId,__WEBPACK_IMPORTED_MODULE_6_app_stores_PlatformsStore__.a.getByGameId,myApplicationsProfiles$,appIdBySpaceId$,spaceIdByAppId$,function(data,installmentId,gamesById,platformsOwnedByUserId,userId,platformsByGameId,myApplicationsProfiles,appIdBySpaceId,spaceIdByAppId){var gameId=null;if(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.find)(gamesById,function(game,id){return game.installmentId==installmentId&&(gameId=id),game.code==installmentId}),!gameId)return data?data.spaceId:null;var ownedSpaceIDs=platformsOwnedByUserId[userId].filter(function(platform){return platformsByGameId[gameId].indexOf(platform)!==-1});ownedSpaceIDs=ownedSpaceIDs.length?ownedSpaceIDs:[platformsByGameId[gameId][0]];var platformFoundSpaceId=null,applicationsBySpaceIDs=myApplicationsProfiles.filter(function(item){return!!ownedSpaceIDs.find(function(spaceId){return item.applicationId==appIdBySpaceId[spaceId]})}).sort(function(a,b){return __WEBPACK_IMPORTED_MODULE_1_moment___default()(a.lastSessionDate).isBefore(__WEBPACK_IMPORTED_MODULE_1_moment___default()(b.lastSessionDate))?1:-1});return applicationsBySpaceIDs.length&&(platformFoundSpaceId=spaceIdByAppId[applicationsBySpaceIDs[0].applicationId]),installmentId?platformFoundSpaceId?platformFoundSpaceId:platformsByGameId[gameId][0]:data.spaceId}),myLastPlayedGame$_ImageUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("myLastPlayedGame$_ImageUrl",myLastPlayedGame$,function(data){return data.imageUrl}),getNbOfFriendsOnline$=(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getLoadedNbOfFriendsOnline$",__WEBPACK_IMPORTED_MODULE_10_app_stores_ConnectionsStore__.a.loaded,__WEBPACK_IMPORTED_MODULE_11_app_stores_FriendsStore__.a.loaded,defaultLoadedSelector),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getNbOfFriendsOnline$",__WEBPACK_IMPORTED_MODULE_10_app_stores_ConnectionsStore__.a.getById,__WEBPACK_IMPORTED_MODULE_8_app_stores_UserProfilesStore__.a.getById,function(connections,friends){return Object.keys(connections).filter(function(id,index,self){return self.map(function(item){return friends[connections[item].profileId].userId}).indexOf(friends[connections[id].profileId].userId)===index}).length})),getOnlineFeed$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getOnlineFeed$",__WEBPACK_IMPORTED_MODULE_10_app_stores_ConnectionsStore__.a.getById,__WEBPACK_IMPORTED_MODULE_8_app_stores_UserProfilesStore__.a.getById,friendsUserProfilesIds$,__WEBPACK_IMPORTED_MODULE_6_app_stores_PlatformsStore__.a.getById,__WEBPACK_IMPORTED_MODULE_5_app_stores_GamesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_5_app_stores_GamesStore__.a.getByPlatformId,__WEBPACK_IMPORTED_MODULE_15_app_modules_configuration_queries_ConfigurationQueries__.a.getAvatarsUrl,__WEBPACK_IMPORTED_MODULE_16_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId,function(connections,friends,friendsProfilesIds,platforms,games,gamesByPlatformId,avatarsUrl,appId){var spaceIds=Object.keys(platforms),connectionsIdsWithUser=Object.keys(connections).filter(function(id){return friendsProfilesIds.includes(connections[id].profileId)}),withAGame=connectionsIdsWithUser.filter(function(id){return spaceIds.includes(connections[id].spaceIds[0])}),withoutAGame=connectionsIdsWithUser.filter(function(id){return!spaceIds.includes(connections[id].spaceIds[0])}).filter(function(id){return!withAGame.map(function(i){return connections[i].profileId}).includes(connections[id].profileId)}),currentlyPlaying=[];withAGame.forEach(function(id){currentlyPlaying.find(function(playing){return playing.userId==connections[id].profileId})||currentlyPlaying.push(Object.assign({userId:friends[connections[id].profileId].userId,username:friends[friends[connections[id].profileId].userId].nameOnPlatform,avatarUrl:avatarsUrl+"/"+friends[connections[id].profileId].userId+"/default_146_146.png?appId="+appId,game:games[gamesByPlatformId[connections[id].spaceIds.filter(function(spaceId){return spaceIds.includes(spaceId)})[0]]].title,platform:"switch"==platforms[connections[id].spaceIds.filter(function(spaceId){return spaceIds.includes(spaceId)})[0]].code.toLowerCase()?"NINTENDO SWITCH":platforms[connections[id].spaceIds.filter(function(spaceId){return spaceIds.includes(spaceId)})[0]].code,isOnline:!0,isCurrentlyPlayingAGame:!0}))}),currentlyPlaying=currentlyPlaying.slice(0).sort(function(a,b){return a.username.toLowerCase()>b.username.toLowerCase()?1:-1});var justOnline=withoutAGame.map(function(id){return Object.assign({userId:connections[id].profileId,username:friends[connections[id].profileId].nameOnPlatform,avatarUrl:avatarsUrl+"/"+friends[connections[id].profileId].userId+"/default_146_146.png?appId="+appId,isOnline:!0,isCurrentlyPlayingAGame:!1})}).slice(0).sort(function(a,b){return a.username.toLowerCase()>b.username.toLowerCase()?1:-1});return currentlyPlaying.concat(justOnline)}),offlineFriendsIds$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("offlineFriendsIds$",friendsInFriendsStateIds$,__WEBPACK_IMPORTED_MODULE_10_app_stores_ConnectionsStore__.a.getByProfileId,function(friends,connections){return friends.filter(function(id){return!Object.keys(connections).includes(id)})}),getOfflineFriendsWithLPG=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getOfflineFriendsWithLPG",friendsUserProfilesIdsByUserId$,friendsApplicationsProfiles$,applicationsIds$,spaceIdByAppId$,gamesBySpaceId$,platformsBySpaceId$,offlineFriendsIds$,computeLpgByUserIds),getOfflineFeed$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getOfflineFeed$",__WEBPACK_IMPORTED_MODULE_11_app_stores_FriendsStore__.a.getByIds,offlineFriendsIds$,getOfflineFriendsWithLPG,__WEBPACK_IMPORTED_MODULE_15_app_modules_configuration_queries_ConfigurationQueries__.a.getAvatarsUrl,__WEBPACK_IMPORTED_MODULE_16_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId,function(friends,offlineFriendsIds,friendsWithLPG,avatarUrl,appId){var offlineWithLPG=Object.keys(friendsWithLPG).map(function(userId){return{userId:userId,username:friends[friendsWithLPG[userId].userId].nameOnPlatform,avatarUrl:avatarUrl+"/"+userId+"/default_146_146.png?appId="+appId,game:friendsWithLPG[userId].gameName,platform:"switch"==friendsWithLPG[userId].platformCode.toLowerCase()?"NINTENDO SWITCH":friendsWithLPG[userId].platformCode,lastDatePlayed:friendsWithLPG[userId].lastPlayedDate,isOnline:!1,isCurrentlyPlayingAGame:!1}}).slice(0).sort(function(a,b){return __WEBPACK_IMPORTED_MODULE_1_moment___default()(a.lastDatePlayed).isBefore(__WEBPACK_IMPORTED_MODULE_1_moment___default()(b.lastDatePlayed))?1:-1}),friendsWithoutLPG=offlineFriendsIds.filter(function(pid){return!Object.keys(friendsWithLPG).includes(pid)}).map(function(userId){return{userId:userId,username:friends[userId].nameOnPlatform,avatarUrl:avatarUrl+"/"+userId+"/default_146_146.png?appId="+appId,isOnline:!1,isCurrentlyPlayingAGame:!1}}).slice(0).sort(function(a,b){return a.username.toLowerCase()>b.username.toLowerCase()?1:-1});return offlineWithLPG.concat(friendsWithoutLPG)}),getLoadedFriendsActivityFeed$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getLoadedFriendsActivityFeed$",__WEBPACK_IMPORTED_MODULE_5_app_stores_GamesStore__.a.loaded,__WEBPACK_IMPORTED_MODULE_11_app_stores_FriendsStore__.a.loaded,__WEBPACK_IMPORTED_MODULE_12_app_stores_ClubProfilesStore__.a.loadedFriendsProfiles,__WEBPACK_IMPORTED_MODULE_8_app_stores_UserProfilesStore__.a.loadedFriendsProfiles,__WEBPACK_IMPORTED_MODULE_10_app_stores_ConnectionsStore__.a.loaded,__WEBPACK_IMPORTED_MODULE_4_app_stores_ApplicationsStore__.a.loaded,__WEBPACK_IMPORTED_MODULE_9_app_stores_ApplicationsProfilesStore__.a.loadedFriendsApplicationsProfiles,defaultLoadedSelector),getLoadedFriendsRequests$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getLoadedFriendsRequests$",__WEBPACK_IMPORTED_MODULE_11_app_stores_FriendsStore__.a.loaded,__WEBPACK_IMPORTED_MODULE_12_app_stores_ClubProfilesStore__.a.loadedFriendsProfiles,defaultLoadedSelector),getLoadedOnlineFriends$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getLoadedOnlineFriends$",__WEBPACK_IMPORTED_MODULE_10_app_stores_ConnectionsStore__.a.loaded,__WEBPACK_IMPORTED_MODULE_11_app_stores_FriendsStore__.a.loaded,__WEBPACK_IMPORTED_MODULE_8_app_stores_UserProfilesStore__.a.loadedFriendsProfiles,__WEBPACK_IMPORTED_MODULE_5_app_stores_GamesStore__.a.loaded,defaultLoadedSelector),getFriendsActivityFeed$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getFriendsActivityFeed$",getOnlineFeed$,getOfflineFeed$,function(online,offline){return online.concat(offline.filter(function(offlineFriend){return online.map(function(onlineFriend){return onlineFriend.username}).indexOf(offlineFriend.username)===-1}))}),hasLastPlayedGameStats$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("hasLastPlayedGameStats$",myLastPlayedGame$_SpaceID,__WEBPACK_IMPORTED_MODULE_13_app_stores_GameStatsStore__.a.getBySpaceId,function(spaceId,bySpaceId){return!!bySpaceId[spaceId]&&bySpaceId[spaceId].length>0}),lastPlayedGameStats$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("hasLastPlayedGameStats$",myLastPlayedGame$_SpaceID,__WEBPACK_IMPORTED_MODULE_13_app_stores_GameStatsStore__.a.getBySpaceId,__WEBPACK_IMPORTED_MODULE_13_app_stores_GameStatsStore__.a.getById,function(spaceId,bySpaceId,byId){return(bySpaceId[spaceId]||[]).map(function(id){return byId[id]}).sort(function(A,B){return A.ordinal-B.ordinal}).slice(0,3)}),gameCustomerSupport$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("gameCustomerSupport$",__WEBPACK_IMPORTED_MODULE_14_app_queries_WidgetQueries__.a.getNewLastPlayGameInstallmentId,__WEBPACK_IMPORTED_MODULE_15_app_modules_configuration_queries_ConfigurationQueries__.a.getCustomerSupportUrl,__WEBPACK_IMPORTED_MODULE_5_app_stores_GamesStore__.a.getByPlatformId,__WEBPACK_IMPORTED_MODULE_5_app_stores_GamesStore__.a.getById,function(spaceId,customerSupportUrl,gamesByPlatformId,gamesById){return spaceId&&gamesById[gamesByPlatformId[spaceId]]&&gamesById[gamesByPlatformId[spaceId]].relatedLinks&&gamesById[gamesByPlatformId[spaceId]].relatedLinks.find(function(link){return"Support"==link.name})?gamesById[gamesByPlatformId[spaceId]].relatedLinks.find(function(link){return"Support"==link.name}).url:customerSupportUrl}),myLastPlayedGame$_ShopUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("myLastPlayedGame$_ShopUrl",myLastPlayedGame$,function(data){return"http://store.ubi.com/search?q="+encodeURIComponent(data.gameCleanUrl.replace(/-/g," "))}),myLastPlayedGame$_Platforms=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("myLastPlayedGame$_ShopUrl",myLastPlayedGame$,__WEBPACK_IMPORTED_MODULE_6_app_stores_PlatformsStore__.a.getByGameId,__WEBPACK_IMPORTED_MODULE_6_app_stores_PlatformsStore__.a.getById,function(data,platformsByGameId,platformsById){return platformsByGameId[data.id].map(function(spaceId){return"switch"!==platformsById[spaceId].code?platformsById[spaceId].code:"NINTENDO SWITCH"})}),myLastPlayedGame$_IsOwned=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("myLastPlayedGame$_IsOwned",myLastPlayedGame$,__WEBPACK_IMPORTED_MODULE_6_app_stores_PlatformsStore__.a.getOwnershipByUserId,__WEBPACK_IMPORTED_MODULE_7_app_modules_authentication_queries_IdentityQueries__.a.getUserId,function(data,ownedGamesIds,userId){return!!ownedGamesIds[userId].includes(data.spaceId)}),getFriendsRequestsNb$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getFriendsRequestsNb$",__WEBPACK_IMPORTED_MODULE_11_app_stores_FriendsStore__.a.getByIds,function(friends){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.filter)(friends,function(friend){return friend.state==__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.FRIEND_STATE.PENDING_RECEIVED_INVITE||friend.stillInRequests===!0}).length}),getNotificationsNb$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getNotificationsNb$",getFriendsRequestsNb$,function(friends){return friends}),getFriendsRequests$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getFriendsRequests$",__WEBPACK_IMPORTED_MODULE_11_app_stores_FriendsStore__.a.getByIds,__WEBPACK_IMPORTED_MODULE_12_app_stores_ClubProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_15_app_modules_configuration_queries_ConfigurationQueries__.a.getAvatarsUrl,__WEBPACK_IMPORTED_MODULE_16_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId,getNotificationsNb$,function(friends,clubProfiles,avatarsUrl,appId,notificationsNb){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.filter)(friends,function(friend){return friend.state==__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.FRIEND_STATE.PENDING_RECEIVED_INVITE||friend.stillInRequests===!0}).sort(function(a,b){return __WEBPACK_IMPORTED_MODULE_1_moment___default()(a.lastModified).isBefore(__WEBPACK_IMPORTED_MODULE_1_moment___default()(b.lastModified))?1:-1}).map(function(friend,offset){return{userId:friend.pid,userAvatarUrl:avatarsUrl+"/"+friend.pid+"/default_146_146.png?appId="+appId,userAvatarName:friend.nameOnPlatform,userLevel:clubProfiles[friend.pid]?clubProfiles[friend.pid].currentLevel.levelNumber:0,invitationRequestDate:friend.lastModified,friendState:friend.state,isLatestNotification:offset<notificationsNb}})}),getFriendsInvitations$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getFriendsInvitations$",__WEBPACK_IMPORTED_MODULE_11_app_stores_FriendsStore__.a.getByIds,__WEBPACK_IMPORTED_MODULE_12_app_stores_ClubProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_15_app_modules_configuration_queries_ConfigurationQueries__.a.getAvatarsUrl,__WEBPACK_IMPORTED_MODULE_16_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId,getNotificationsNb$,function(friends,clubProfiles,avatarsUrl,appId,notificationsNb){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.filter)(friends,function(friend){return friend.state==__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.FRIEND_STATE.PENDING_SENT_INVITE||friend.stillInRequests===!0}).sort(function(a,b){return __WEBPACK_IMPORTED_MODULE_1_moment___default()(a.lastModified).isBefore(__WEBPACK_IMPORTED_MODULE_1_moment___default()(b.lastModified))?1:-1}).map(function(friend,offset){return{userId:friend.pid,userAvatarUrl:avatarsUrl+"/"+friend.pid+"/default_146_146.png?appId="+appId,userAvatarName:friend.nameOnPlatform,userLevel:clubProfiles[friend.pid]?clubProfiles[friend.pid].currentLevel.levelNumber:0,invitationRequestDate:friend.lastModified,friendState:friend.state,isLatestNotification:offset<notificationsNb}})}),foundProfilesByName$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("foundProfilesByName$",__WEBPACK_IMPORTED_MODULE_8_app_stores_UserProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_17_app_stores_AddFriendStore__.a.getUserNameToSearch,function(friends,name){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.filter)(friends,function(friend){return friend.nameOnPlatform==name})}),hasFoundProfilesByName$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("hasFoundProfilesByName$",foundProfilesByName$,function(friends){return friends.length>=1}),foundProfilesByNameIds$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("foundProfilesByNameIds$",foundProfilesByName$,function(friends){return friends.map(function(friend){return friend.profileId})}),friendsToAdd$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendsToAdd$",__WEBPACK_IMPORTED_MODULE_11_app_stores_FriendsStore__.a.getByIds,__WEBPACK_IMPORTED_MODULE_8_app_stores_UserProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_12_app_stores_ClubProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_15_app_modules_configuration_queries_ConfigurationQueries__.a.getAvatarsUrl,__WEBPACK_IMPORTED_MODULE_16_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId,foundProfilesByName$,hasFoundProfilesByName$,function(friends,userProfiles,clubProfiles,avatarUrl,applicationId,friendsProfilesByName,hasFoundProfilesByName){var friendsToAddFiltered=friendsProfilesByName.slice();if(hasFoundProfilesByName||(friendsToAddFiltered=friendsProfilesByName.filter(function(item){return item.platformType==__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.PLATFORM_TYPE.UPLAY})),friendsToAddFiltered.length){var friendsToAddMaped=friendsToAddFiltered.filter(function(item){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.find)(clubProfiles,function(profile){return profile.profileId==item.userId})}).map(function(item){var friend=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.find)(friends,function(profile){return profile.pid==item.profileId||profile.pid==item.userId}),clubProfile=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.find)(clubProfiles,function(profile){return profile.profileId==item.userId});return{pid:item.userId,friendState:friend?friend.state:__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.FRIEND_STATE.NO_RELATIONSHIP,userAvatarUrl:avatarUrl+"/"+item.userId+"/default_146_146.png?appId="+applicationId,userName:userProfiles[item.userId].nameOnPlatform,level:clubProfile&&clubProfile.currentLevel?clubProfile.currentLevel.levelNumber:0,invitationRequestDate:friend?friend.lastModified:null,hasPsnProfile:item.platformType==__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.PLATFORM_TYPE.PSN,psnName:item.platformType==__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.PLATFORM_TYPE.PSN?item.nameOnPlatform:null,hasSteamProfile:item.platformType==__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.PLATFORM_TYPE.STEAM,steamName:item.platformType==__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.PLATFORM_TYPE.STEAM?item.nameOnPlatform:null,hasXboxProfile:item.platformType==__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.PLATFORM_TYPE.XBOX_LIVE,xboxName:item.platformType==__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.PLATFORM_TYPE.XBOX_LIVE?item.nameOnPlatform:null}}).sort(function(a,b){return a.level>b.level?-1:1});return friendsToAddMaped.length?[friendsToAddMaped[0]]:[]}return[]}),hasFoundFriendsToAdd$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("hasFoundFriendsToAdd$",friendsToAdd$,function(friends){return friends.length>=1}),friendsToAddState$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("friendsToAddState$",friendsToAdd$,function(friends){var state={};return friends.map(function(item){return state[item.pid]=!1}),state}),myUserIdByLastPlayedGamePlatform$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("myUserIdByLastPlayedGamePlatform$",myLastPlayedGame$_Platform,myUserProfiles$,__WEBPACK_IMPORTED_MODULE_7_app_modules_authentication_queries_IdentityQueries__.a.getUserId,function(platform,myUserProfiles,userId){var myUserProfile=null;return"PC"==platform&&(myUserProfile=myUserProfiles.find(function(myUserProfile){return myUserProfile.platformType==__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.PLATFORM_TYPE.UPLAY})),platform&&platform.indexOf("PS")!==-1&&(myUserProfile=myUserProfiles.find(function(myUserProfile){return myUserProfile.platformType==__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.PLATFORM_TYPE.PSN})),platform&&platform.indexOf("X")!==-1&&(myUserProfile=myUserProfiles.find(function(myUserProfile){return myUserProfile.platformType==__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.PLATFORM_TYPE.XBOX_LIVE})),myUserProfile?myUserProfile.profileId:userId}),showUserEmailVerificationButton$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("showUserEmailVerificationButton$",__WEBPACK_IMPORTED_MODULE_18_app_stores_UserEmailVerificationStore__.a.getShowUserEmailVerificationButton,function(showUserEmailVerificationButton){return showUserEmailVerificationButton}),isEmailVerificationSent$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("isEmailVerificationSent$",__WEBPACK_IMPORTED_MODULE_18_app_stores_UserEmailVerificationStore__.a.getIsEmailVerificationSent,function(isEmailVerificationSent){return isEmailVerificationSent}),getTotalNotificationsNb$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getTotalNotificationsNb$",showUserEmailVerificationButton$,isEmailVerificationSent$,function(showUserEmailVerificationButton,isEmailVerificationSent){return showUserEmailVerificationButton&&!isEmailVerificationSent?1:0}),getHasProfileCallError$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getHasProfileCallError$",__WEBPACK_IMPORTED_MODULE_12_app_stores_ClubProfilesStore__.a.getHasError,function(error){return error}),getHasFriendsInFriendsState$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getHasFriendsInFriendsState$",friendsInFriendsState$,function(friends){return friends&&friends.length>0}),getHasFriendsInRequestState$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getHasFriendsInRequestState$",friendsInRequestState$,function(friends){return friends&&friends.length>0}),getAllFriends$=(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getHasFriendsInSentInviteState$",friendsInSentInviteState$,function(friends){return friends&&friends.length>0}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getAllFriends$",__WEBPACK_IMPORTED_MODULE_11_app_stores_FriendsStore__.a.getByIds,function(friends){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__.map)(friends,function(friend){return friend})})),getFriendsActivityFeedFiltered$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getFriendsActivityFeedFiltered$",getFriendsActivityFeed$,__WEBPACK_IMPORTED_MODULE_19__stores_FilterFriendStore__.a.getUserNameToFilterBy,function(friends,name){return name?friends.filter(function(friend){return friend.username.toLowerCase().indexOf(name.toLowerCase())!==-1}):friends}),getOnlineFeedFiltered$=(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getFriendsActivityFeedFilteredToShow$",getFriendsActivityFeedFiltered$,getFriendsActivityFeed$,__WEBPACK_IMPORTED_MODULE_19__stores_FilterFriendStore__.a.getUserNameToFilterBy,function(friendsFiltered,friends,name){return name&&0==friendsFiltered.length&&friends.length>=1?friends:friendsFiltered}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getOnlineFeedFiltered$",getOnlineFeed$,__WEBPACK_IMPORTED_MODULE_19__stores_FilterFriendStore__.a.getUserNameToFilterBy,function(friends,name){return name?friends.filter(function(friend){return friend.username.toLowerCase().indexOf(name.toLowerCase())!==-1}):friends})),getOnlineFeedFilteredToShow$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getOnlineFeedFilteredToShow$",getOnlineFeedFiltered$,getOnlineFeed$,__WEBPACK_IMPORTED_MODULE_19__stores_FilterFriendStore__.a.getUserNameToFilterBy,function(friendsFiltered,friends,name){return name&&0==friendsFiltered.length&&friends.length>=1?friends:friendsFiltered}),getHasOnlineFeedAfterFiltered$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getHasOnlineFeedAfterFiltered$",getOnlineFeedFiltered$,function(friends){return friends.length>=1}),getHasFriendsActivityFeedAfterFiltered$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getHasFriendsActivityFeedAfterFiltered$",getFriendsActivityFeedFiltered$,function(friends){return friends.length>=1}),getNbFriendsInActivityFeed$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getNbFriendsInActivityFeed$",getFriendsActivityFeed$,function(friends){return friends.length}),getFriendsRequestsRelatedToTooggleParam$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getFriendsRequestsRelatedToTooggleParam$",getFriendsRequests$,__WEBPACK_IMPORTED_MODULE_20__stores_FriendsActionsStore__.a.getShowMoreFriendRequests,function(friends,toggle){return toggle?friends.slice(0,2):friends}),getFriendsInvitationsRelatedToTooggleParam$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getFriendsInvitationsRelatedToTooggleParam$",getFriendsInvitations$,__WEBPACK_IMPORTED_MODULE_20__stores_FriendsActionsStore__.a.getShowMoreFriendInvitations,function(friends,toggle){return toggle?friends.slice(0,2):friends}),getFriendsRequestsLength$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getFriendsRequestsLength$",getFriendsRequests$,function(friends){return friends.length}),getFriendsInvitationsLength$=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("getFriendsInvitationsLength$",getFriendsInvitations$,function(friends){return friends.length});__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.createSelector)("nbConnections$",getFriendsRequestsLength$,getNbOfFriendsOnline$,function(nbFriendsRequests,nbOfFriendsOnline){return nbFriendsRequests+nbOfFriendsOnline})},154:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeFriendDeclineStateAction});var ChangeFriendDeclineStateAction=function ChangeFriendDeclineStateAction(userId){_classCallCheck(this,ChangeFriendDeclineStateAction),this.userId=userId}},155:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return DeselectArabLanguageAction});var DeselectArabLanguageAction=function DeselectArabLanguageAction(){_classCallCheck(this,DeselectArabLanguageAction)}},156:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedAddFriendsStatAction});var LoadedAddFriendsStatAction=function LoadedAddFriendsStatAction(friendsSate){_classCallCheck(this,LoadedAddFriendsStatAction),this.friendsSate=friendsSate}},157:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedApplicationsAction});var LoadedApplicationsAction=function LoadedApplicationsAction(byId,bySpaceId,ids,expiration){_classCallCheck(this,LoadedApplicationsAction),this.byId=byId,this.bySpaceId=bySpaceId,this.ids=ids,this.expiration=expiration}},158:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedConnectionsAction});var LoadedConnectionsAction=function LoadedConnectionsAction(byId,byProfileId,bySpaceId,ids,profileIdsForCall,expiration){_classCallCheck(this,LoadedConnectionsAction),this.byId=byId,this.byProfileId=byProfileId,this.bySpaceId=bySpaceId,this.ids=ids,this.profileIdsForCall=profileIdsForCall,this.expiration=expiration}},159:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedFriendsApplicationsProfilesAction;
});var LoadedFriendsApplicationsProfilesAction=function LoadedFriendsApplicationsProfilesAction(byId,byProfileId,ids,friendsExpiration){_classCallCheck(this,LoadedFriendsApplicationsProfilesAction),this.byId=byId,this.byProfileId=byProfileId,this.ids=ids,this.friendsExpiration=friendsExpiration}},160:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedFriendsClubProfilesAction});var LoadedFriendsClubProfilesAction=function LoadedFriendsClubProfilesAction(byId,ids,hasError,expiration){_classCallCheck(this,LoadedFriendsClubProfilesAction),this.byId=byId,this.ids=ids,this.hasError=hasError,this.expiration=expiration}},161:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedFriendsUserProfilesAction});var LoadedFriendsUserProfilesAction=function LoadedFriendsUserProfilesAction(byId,byNameOnPlatform,byUserId,ids,hasError,expiration){_classCallCheck(this,LoadedFriendsUserProfilesAction),this.byId=byId,this.byNameOnPlatform=byNameOnPlatform,this.byUserId=byUserId,this.ids=ids,this.hasError=hasError,this.expiration=expiration}},162:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedGameStatsAction});var LoadedGameStatsAction=function LoadedGameStatsAction(stats,bySpaceId,ids){_classCallCheck(this,LoadedGameStatsAction),this.stats=stats,this.bySpaceId=bySpaceId,this.ids=ids}},163:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedMyApplicationsProfilesAction});var LoadedMyApplicationsProfilesAction=function LoadedMyApplicationsProfilesAction(byId,byProfileId,ids,expiration){_classCallCheck(this,LoadedMyApplicationsProfilesAction),this.byId=byId,this.byProfileId=byProfileId,this.ids=ids,this.expiration=expiration}},164:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedMyClubProfilesAction});var LoadedMyClubProfilesAction=function LoadedMyClubProfilesAction(byId,ids,hasError){_classCallCheck(this,LoadedMyClubProfilesAction),this.byId=byId,this.ids=ids,this.hasError=hasError}},165:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedMyUserProfilesAction});var LoadedMyUserProfilesAction=function LoadedMyUserProfilesAction(byId,byNameOnPlatform,byUserId,ids,hasError){_classCallCheck(this,LoadedMyUserProfilesAction),this.byId=byId,this.byNameOnPlatform=byNameOnPlatform,this.byUserId=byUserId,this.ids=ids,this.hasError=hasError}},166:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedRewardsAction});var LoadedRewardsAction=function LoadedRewardsAction(rewards,rewardsIds){_classCallCheck(this,LoadedRewardsAction),this.rewards=rewards,this.rewardsIds=rewardsIds}},167:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return SelectArabLanguageAction});var SelectArabLanguageAction=function SelectArabLanguageAction(){_classCallCheck(this,SelectArabLanguageAction)}},168:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return UserEmailVerificationAction});var UserEmailVerificationAction=function UserEmailVerificationAction(showUserEmailVerificationButton,isEmailVerificationSent){_classCallCheck(this,UserEmailVerificationAction),this.showUserEmailVerificationButton=showUserEmailVerificationButton,this.isEmailVerificationSent=isEmailVerificationSent}},169:function(module,exports,__webpack_require__){"use strict";__webpack_require__.d(exports,"a",function(){return steamLimit}),__webpack_require__.d(exports,"b",function(){return xboxLimit}),__webpack_require__.d(exports,"c",function(){return psnLimit});var steamLimit=50,xboxLimit=500,psnLimit=500},170:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_ubisoft_connect__=__webpack_require__(65),__WEBPACK_IMPORTED_MODULE_1__stejar_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_ubisoft_connect__),__webpack_require__(3));__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_di__);__webpack_require__.d(exports,"a",function(){return ConnectConfigurationAdapter});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},ConnectConfigurationAdapter=function(_ConnectConfiguration){function ConnectConfigurationAdapter(){return _classCallCheck(this,ConnectConfigurationAdapter),_possibleConstructorReturn(this,(ConnectConfigurationAdapter.__proto__||Object.getPrototypeOf(ConnectConfigurationAdapter)).call(this))}return _inherits(ConnectConfigurationAdapter,_ConnectConfiguration),ConnectConfigurationAdapter}(__WEBPACK_IMPORTED_MODULE_0_ubisoft_connect__.ConnectConfigurationService);ConnectConfigurationAdapter=__decorate([__WEBPACK_IMPORTED_MODULE_1__stejar_di__.injectable,__metadata("design:paramtypes",[])],ConnectConfigurationAdapter)},171:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_app_actions_UserEmailVerificationAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(168)),__WEBPACK_IMPORTED_MODULE_3_app_selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_4_ubisoft_connect__=__webpack_require__(65),__WEBPACK_IMPORTED_MODULE_5_app_modules_authentication_queries_IdentityQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_ubisoft_connect__),__webpack_require__(22));__webpack_require__.d(exports,"a",function(){return EmailVerificationService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},EmailVerificationService=function(_AbstractActions){function EmailVerificationService(ubisoftConnectService){_classCallCheck(this,EmailVerificationService);var _this=_possibleConstructorReturn(this,(EmailVerificationService.__proto__||Object.getPrototypeOf(EmailVerificationService)).call(this));return _this.ubisoftConnectService=ubisoftConnectService,_this}return _inherits(EmailVerificationService,_AbstractActions),_createClass(EmailVerificationService,[{key:"onTriggerEmailActivation",value:function(){var _this2=this;this.ubisoftConnectService.triggerEmailActivation(__WEBPACK_IMPORTED_MODULE_5_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.state).ticket,__WEBPACK_IMPORTED_MODULE_5_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.state).sessionId,function(userData){_this2.dispatch(new __WEBPACK_IMPORTED_MODULE_2_app_actions_UserEmailVerificationAction__.a(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_app_selectors__.q)(_this2.state),(!0))),new Promise(function(resolve){return setTimeout(function(){return resolve()},3500)}).then(function(){_this2.dispatch(new __WEBPACK_IMPORTED_MODULE_2_app_actions_UserEmailVerificationAction__.a((!1),(!1)))})})}},{key:"afterTriggeredEmailVerification",value:function(){this.dispatch(new __WEBPACK_IMPORTED_MODULE_2_app_actions_UserEmailVerificationAction__.a((!1),(!0)))}}]),EmailVerificationService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);EmailVerificationService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_4_ubisoft_connect__.UbisoftConnectService])],EmailVerificationService)},172:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_configuration_actions_LoadedIntegratorConfigurationAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(380));__webpack_require__.d(exports,"a",function(){return IntegratorConfigurationStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},IntegratorConfigurationStore=function(_ReducerStore){function IntegratorConfigurationStore(){_classCallCheck(this,IntegratorConfigurationStore);var _this=_possibleConstructorReturn(this,(IntegratorConfigurationStore.__proto__||Object.getPrototypeOf(IntegratorConfigurationStore)).call(this));return _this.bind(__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_configuration_actions_LoadedIntegratorConfigurationAction__.a.name,_this.loadedConfiguration),_this}return _inherits(IntegratorConfigurationStore,_ReducerStore),_createClass(IntegratorConfigurationStore,[{key:"loadedConfiguration",value:function(state,payload){return Object.assign({},state,payload.configuration)}}]),IntegratorConfigurationStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);IntegratorConfigurationStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],IntegratorConfigurationStore)},173:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_1_spark_overlay__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(50)),__WEBPACK_IMPORTED_MODULE_2__stejar_translate__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_spark_overlay__),__webpack_require__(24));__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_translate__);__webpack_require__.d(exports,"a",function(){return CustomTranslateQueries});var CustomTranslateQueries=function CustomTranslateQueries(){_classCallCheck(this,CustomTranslateQueries)};CustomTranslateQueries.getAddFriendTranslatedText=function(state){return CustomTranslateQueries.getTranslatedText(state,{valueToTranslate:"Enter full player name"})},CustomTranslateQueries.getFilterTranslatedText=function(state){return CustomTranslateQueries.getTranslatedText(state,{valueToTranslate:"Filter"})},CustomTranslateQueries.getTranslatedText=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("CustomTranslateQueries.getTranslatedText",__WEBPACK_IMPORTED_MODULE_1_spark_overlay__.getCurrentCatalog,function(state,props){return props.valueToTranslate},function(catalog,valueToTranslate){var translatedValue=null;try{translatedValue=catalog[valueToTranslate]||valueToTranslate}catch(error){translatedValue=valueToTranslate,console.error("[LOCALE MISSING] "+translatedValue)}return catalog&&Object.keys(catalog).forEach(function(name){translatedValue=translatedValue.replace("%("+name+")",catalog[name])}),translatedValue}),CustomTranslateQueries.getIsLocaleXpTranslationTooLong=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("CustomTranslateQueries.getTranslatedText",__WEBPACK_IMPORTED_MODULE_2__stejar_translate__.LocaleQueries.getCurrentLocale,function(locale){return["de-DE","es-ES","fr-FR","fr-CA","hu-HU","it-IT","pl-PL","uk-UA"].indexOf(locale)!==-1})},174:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(17)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedApplicationsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__),__webpack_require__(157)),__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedMyApplicationsProfilesAction__=__webpack_require__(163),__WEBPACK_IMPORTED_MODULE_5_app_actions_LoadedFriendsApplicationsProfilesAction__=__webpack_require__(159),__WEBPACK_IMPORTED_MODULE_6_app_stores_PlatformsStore__=__webpack_require__(126),__WEBPACK_IMPORTED_MODULE_7_app_selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_8_moment__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_8_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_moment__),__WEBPACK_IMPORTED_MODULE_9__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_10__stores_ApplicationsProfilesStore__=__webpack_require__(123),__WEBPACK_IMPORTED_MODULE_11__stores_ApplicationsStore__=__webpack_require__(124);__webpack_require__.d(exports,"a",function(){return ApplicationsService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},ApplicationsService=function(_AbstractActions){function ApplicationsService(applicationsApi,applicationsProfilesApi){_classCallCheck(this,ApplicationsService);var _this=_possibleConstructorReturn(this,(ApplicationsService.__proto__||Object.getPrototypeOf(ApplicationsService)).call(this));return _this.applicationsApi=applicationsApi,_this.applicationsProfilesApi=applicationsProfilesApi,_this}return _inherits(ApplicationsService,_AbstractActions),_createClass(ApplicationsService,[{key:"loadApplicationsForAllGames",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!__WEBPACK_IMPORTED_MODULE_9__modules_configuration_queries_ConfigurationQueries__.a.isExpired(__WEBPACK_IMPORTED_MODULE_11__stores_ApplicationsStore__.a.getExpiration(this.getState()),__WEBPACK_IMPORTED_MODULE_9__modules_configuration_queries_ConfigurationQueries__.a.getGamesToApplicationsCacheTime())){_context.next=5;break}return _context.next=3,this.getApplicationsForAllGames();case 3:_context.next=6;break;case 5:this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedApplicationsAction__.a(__WEBPACK_IMPORTED_MODULE_11__stores_ApplicationsStore__.a.getById(this.getState()),__WEBPACK_IMPORTED_MODULE_11__stores_ApplicationsStore__.a.getBySpaceId(this.getState()),__WEBPACK_IMPORTED_MODULE_11__stores_ApplicationsStore__.a.getIds(this.getState()),__WEBPACK_IMPORTED_MODULE_11__stores_ApplicationsStore__.a.getExpiration(this.getState())));case 6:case"end":return _context.stop()}},_callee,this)}))}},{key:"getApplicationsForAllGames",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var platformsById,byId,bySpaceId,ids,applications;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return platformsById=__WEBPACK_IMPORTED_MODULE_6_app_stores_PlatformsStore__.a.getState(this.getState()).ids,platformsById=platformsById.filter(function(spaceId){return!!spaceId&&spaceId.indexOf("-")!==-1}),byId={},bySpaceId={},ids=[],_context2.prev=5,_context2.next=8,this.applicationsApi.getApplicationsBySpaceIds(platformsById);case 8:applications=_context2.sent,applications.forEach(function(app){byId[app.applicationId]=app,bySpaceId[app.spaceId]=app.applicationId,ids.push(app.applicationId)}),_context2.next=15;break;case 12:_context2.prev=12,_context2.t0=_context2["catch"](5),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedApplicationsAction__.a(byId,bySpaceId,ids,__WEBPACK_IMPORTED_MODULE_8_moment___default()().unix()));case 15:this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedApplicationsAction__.a(byId,bySpaceId,ids,__WEBPACK_IMPORTED_MODULE_8_moment___default()().unix()));case 16:case"end":return _context2.stop()}},_callee2,this,[[5,12]])}))}},{key:"loadApplicationsProfilesForMyself",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(!__WEBPACK_IMPORTED_MODULE_9__modules_configuration_queries_ConfigurationQueries__.a.isExpired(__WEBPACK_IMPORTED_MODULE_10__stores_ApplicationsProfilesStore__.a.getSelfExpiration(this.getState()),__WEBPACK_IMPORTED_MODULE_9__modules_configuration_queries_ConfigurationQueries__.a.getDefaultDataCacheTime())){_context3.next=5;break}return _context3.next=3,this.getApplicationsProfilesForMyself();case 3:_context3.next=6;break;case 5:this.dispatch(new __WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedMyApplicationsProfilesAction__.a(__WEBPACK_IMPORTED_MODULE_10__stores_ApplicationsProfilesStore__.a.getById(this.getState()),__WEBPACK_IMPORTED_MODULE_10__stores_ApplicationsProfilesStore__.a.getByProfileId(this.getState()),__WEBPACK_IMPORTED_MODULE_10__stores_ApplicationsProfilesStore__.a.getIds(this.getState()),__WEBPACK_IMPORTED_MODULE_10__stores_ApplicationsProfilesStore__.a.getSelfExpiration(this.getState())));case 6:case"end":return _context3.stop()}},_callee3,this)}))}},{key:"getApplicationsProfilesForMyself",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var byId,byProfileId,ids,applications;return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return byId={},byProfileId={},ids=[],_context4.next=5,this.applicationsProfilesApi.getApplicationsProfiles(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7_app_selectors__.e)(this.getState()));case 5:applications=_context4.sent,applications.forEach(function(app){var id=app.applicationId+"_"+app.profileId;byId[id]=app,byProfileId[app.profileId]||(byProfileId[app.profileId]=[]),byProfileId[app.profileId].push(id),ids.push(id)}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedMyApplicationsProfilesAction__.a(byId,byProfileId,ids,__WEBPACK_IMPORTED_MODULE_8_moment___default()().unix()));case 8:case"end":return _context4.stop()}},_callee4,this)}))}},{key:"loadApplicationsProfilesForAllFriends",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){return regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,this.loadApplicationsProfiles(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7_app_selectors__.f)(this.getState()));case 2:case"end":return _context5.stop()}},_callee5,this)}))}},{key:"loadApplicationsProfilesForAFriend",value:function(pid){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee6(){return regeneratorRuntime.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,this.loadApplicationsProfiles([pid]);case 2:case"end":return _context6.stop()}},_callee6,this)}))}},{key:"loadApplicationsProfiles",value:function(profileIds){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee7(){var byId,byProfileId,ids,isExpired,getProfileIds,friendIdNotFound;return regeneratorRuntime.wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:if(byId={},byProfileId={},ids=[],isExpired=__WEBPACK_IMPORTED_MODULE_9__modules_configuration_queries_ConfigurationQueries__.a.isExpired(__WEBPACK_IMPORTED_MODULE_10__stores_ApplicationsProfilesStore__.a.getFriendsExpiration(this.getState()),__WEBPACK_IMPORTED_MODULE_9__modules_configuration_queries_ConfigurationQueries__.a.getDefaultDataCacheTime()),getProfileIds=Object.keys(__WEBPACK_IMPORTED_MODULE_10__stores_ApplicationsProfilesStore__.a.getByProfileId(this.getState())),friendIdNotFound=!1,getProfileIds.length>0&&(friendIdNotFound=!!profileIds.map(function(profileId){return getProfileIds.indexOf(profileId)!==-1}).reduce(function(previousValue,currentValue){return previousValue&&currentValue},null)),!isExpired&&!friendIdNotFound){_context7.next=12;break}return _context7.next=10,this.getApplicationsProfiles(profileIds,byId,byProfileId,ids);case 10:_context7.next=16;break;case 12:byId=__WEBPACK_IMPORTED_MODULE_10__stores_ApplicationsProfilesStore__.a.getById(this.getState()),byProfileId=__WEBPACK_IMPORTED_MODULE_10__stores_ApplicationsProfilesStore__.a.getByProfileId(this.getState()),ids=__WEBPACK_IMPORTED_MODULE_10__stores_ApplicationsProfilesStore__.a.getIds(this.getState()),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5_app_actions_LoadedFriendsApplicationsProfilesAction__.a(byId,byProfileId,ids,__WEBPACK_IMPORTED_MODULE_10__stores_ApplicationsProfilesStore__.a.getFriendsExpiration(this.getState())));case 16:case"end":return _context7.stop()}},_callee7,this)}))}},{key:"getApplicationsProfiles",value:function(profileIds,byId,byProfileId,ids){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee8(){var applications;return regeneratorRuntime.wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.next=2,this.applicationsProfilesApi.getApplicationsProfiles(profileIds);case 2:applications=_context8.sent,applications.forEach(function(app){var id=app.applicationId+"_"+app.profileId;byId[id]=app,byProfileId[app.profileId]||(byProfileId[app.profileId]=[]),byProfileId[app.profileId].push(id),ids.push(id)}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5_app_actions_LoadedFriendsApplicationsProfilesAction__.a(byId,byProfileId,ids,__WEBPACK_IMPORTED_MODULE_8_moment___default()().unix()));case 5:case"end":return _context8.stop()}},_callee8,this)}))}}]),ApplicationsService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);ApplicationsService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.ApplicationsApi,__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.ApplicationsProfilesApi])],ApplicationsService)},175:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);
subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_translate__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(24)),__WEBPACK_IMPORTED_MODULE_3__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_translate__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_4_app_services_ProfilesService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_authentication__),__webpack_require__(85)),__WEBPACK_IMPORTED_MODULE_5_app_services_GamesService__=__webpack_require__(387),__WEBPACK_IMPORTED_MODULE_6_app_services_ApplicationsService__=__webpack_require__(174),__WEBPACK_IMPORTED_MODULE_7_app_services_RewardsService__=__webpack_require__(389),__WEBPACK_IMPORTED_MODULE_8_app_modules_pageLoader_services_PageLoaderService__=__webpack_require__(103),__WEBPACK_IMPORTED_MODULE_9_app_selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_10_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_11_app_actions_BootedWidgetAction__=__webpack_require__(344),__WEBPACK_IMPORTED_MODULE_12_app_modules_integrator_communication_services_CommunicationService__=__webpack_require__(42),__WEBPACK_IMPORTED_MODULE_13_app_modules_authentication_queries_IdentityQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_14_app_services_NotificationsService__=__webpack_require__(388),__WEBPACK_IMPORTED_MODULE_15_app_modules_configuration_queries_ConfigurationQueries__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_16_app_actions_SelectArabLanguageAction__=__webpack_require__(167),__WEBPACK_IMPORTED_MODULE_17_app_actions_DeselectArabLanguageAction__=__webpack_require__(155),__WEBPACK_IMPORTED_MODULE_18_ubisoft_connect__=__webpack_require__(65),__WEBPACK_IMPORTED_MODULE_19_app_actions_UserEmailVerificationAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_18_ubisoft_connect__),__webpack_require__(168)),__WEBPACK_IMPORTED_MODULE_20_ubisoft_api__=__webpack_require__(17),__WEBPACK_IMPORTED_MODULE_21__FriendsService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_20_ubisoft_api__),__webpack_require__(104)),__WEBPACK_IMPORTED_MODULE_22__AvatarService__=__webpack_require__(565),__WEBPACK_IMPORTED_MODULE_23__actions_ReloadAction__=__webpack_require__(72);__webpack_require__.d(exports,"a",function(){return BootstrapService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},BootstrapService=function(_AbstractActions){function BootstrapService(authenticationService,authenticationStore,profilesService,gamesService,applicationsService,rewardsService,translatorService,pageLoaderService,communicationService,notificationsService,ubisoftConnectService,uplayWSApi,friendsService,avatarService){_classCallCheck(this,BootstrapService);var _this=_possibleConstructorReturn(this,(BootstrapService.__proto__||Object.getPrototypeOf(BootstrapService)).call(this));return _this.authenticationService=authenticationService,_this.authenticationStore=authenticationStore,_this.profilesService=profilesService,_this.gamesService=gamesService,_this.applicationsService=applicationsService,_this.rewardsService=rewardsService,_this.translatorService=translatorService,_this.pageLoaderService=pageLoaderService,_this.communicationService=communicationService,_this.notificationsService=notificationsService,_this.ubisoftConnectService=ubisoftConnectService,_this.uplayWSApi=uplayWSApi,_this.friendsService=friendsService,_this.avatarService=avatarService,_this}return _inherits(BootstrapService,_AbstractActions),_createClass(BootstrapService,[{key:"bootstrap",value:function(afterLogin,isReInit,query){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var localeString,locale,selectedLocale,_this2=this;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!__WEBPACK_IMPORTED_MODULE_15_app_modules_configuration_queries_ConfigurationQueries__.a.getCurrentEnv(this.state)){_context.next=3;break}return _context.next=3,this.communicationService.changeEnv(__WEBPACK_IMPORTED_MODULE_15_app_modules_configuration_queries_ConfigurationQueries__.a.getCurrentEnv(this.state),!0);case 3:if(_context.prev=3,localeString=["en-GB","en-US","en-CA","fr-FR","fr-CA","zh-CN","cs-CZ","da-DK","fi-FI","de-DE","hu-HU","it-IT","ja-JP","nb-NO","pl-PL","pt-PT","pt-BR","ru-RU","es-ES","es-MX","sv-SE","tr-TR","nl-NL","uk-UA","ar-AE","ko-KR","zh-TW","th-TH"],locale=__WEBPACK_IMPORTED_MODULE_2__stejar_translate__.LocaleQueries.getCurrentLocale(this.store.getState())?__WEBPACK_IMPORTED_MODULE_2__stejar_translate__.LocaleQueries.getCurrentLocale(this.store.getState()):__WEBPACK_IMPORTED_MODULE_10_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getLocaleCode(this.store.getState()),"ar-AE"===locale?this.dispatch(new __WEBPACK_IMPORTED_MODULE_16_app_actions_SelectArabLanguageAction__.a):this.dispatch(new __WEBPACK_IMPORTED_MODULE_17_app_actions_DeselectArabLanguageAction__.a),selectedLocale=locale.split("-")[1]?locale.split("-")[0].toLowerCase()+"-"+locale.split("-")[1].toUpperCase():locale,localeString.find(function(loc){return loc.toLowerCase()==locale.toLowerCase()})||console.warn(locale+" is an invalid locale. Therefore "+selectedLocale+" will be used"),localeString.indexOf(selectedLocale)===-1&&(console.warn(locale+" is an invalid locale. Pleas set locale on init with one of the following: "+localeString.join(", ")),selectedLocale="en-GB"),this.pageLoaderService.$display.getValue()){_context.next=13;break}return _context.next=13,this.pageLoaderService.showPageLoader();case 13:return _context.next=15,this.translatorService.loadLocale(selectedLocale);case 15:return this.translatorService.changeLocale(selectedLocale),_context.next=18,this.authenticationService.refreshIdentity();case 18:if(!(query&&query.query&&query.query.platform&&query.query.formerUserId!==__WEBPACK_IMPORTED_MODULE_13_app_modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()))){_context.next=21;break}return _context.next=21,this.dispatch(new __WEBPACK_IMPORTED_MODULE_23__actions_ReloadAction__.a);case 21:return afterLogin&&this.ubisoftConnectService.getUserData(__WEBPACK_IMPORTED_MODULE_13_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket,__WEBPACK_IMPORTED_MODULE_13_app_modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),function(userData){userData.userData.status.generalStatus==__WEBPACK_IMPORTED_MODULE_18_ubisoft_connect__.GeneralStatus.PENDING_ACTIVATION&&_this2.dispatch(new __WEBPACK_IMPORTED_MODULE_19_app_actions_UserEmailVerificationAction__.a((!0),(!1))),userData.userData.status.generalStatus==__WEBPACK_IMPORTED_MODULE_18_ubisoft_connect__.GeneralStatus.ACTIVATED&&_this2.dispatch(new __WEBPACK_IMPORTED_MODULE_19_app_actions_UserEmailVerificationAction__.a((!1),(!1)))}),this.communicationService.loggedIn(__WEBPACK_IMPORTED_MODULE_13_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.getState()),afterLogin,isReInit),this.avatarService.getMyAvatar(),_context.next=26,this.uplayWSApi.initializeUser(__WEBPACK_IMPORTED_MODULE_13_app_modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),"WEB");case 26:return _context.next=28,Promise.all([this.profilesService.loadMyUserProfile(),this.profilesService.loadMyClubProfile()]);case 28:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_11_app_actions_BootedWidgetAction__.a),_context.next=31,this.pageLoaderService.hidePageLoader();case 31:return Promise.all([this.applicationsService.loadApplicationsProfilesForMyself(),this.gamesService.loadGames().then(function(){return Promise.all([_this2.applicationsService.loadApplicationsForAllGames(),_this2.gamesService.loadMyGames()])})]).then(function(){__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_9_app_selectors__.j)(_this2.getState())&&(_this2.gamesService.loadMyLastPlayedGameStats(),_this2.rewardsService.loadUserRewards())}),_context.next=34,this.friendsService.loadMyFriends();case 34:return _context.abrupt("return",Promise.resolve());case 37:return _context.prev=37,_context.t0=_context["catch"](3),_context.t0&&console.error(_context.t0),this.pageLoaderService.hidePageLoader(),this.dispatch(new __WEBPACK_IMPORTED_MODULE_11_app_actions_BootedWidgetAction__.a),_context.abrupt("return",Promise.reject(""));case 43:case"end":return _context.stop()}},_callee,this,[[3,37]])}))}}]),BootstrapService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);BootstrapService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_3__stejar_authentication__.AuthenticationService,__WEBPACK_IMPORTED_MODULE_3__stejar_authentication__.AuthenticationStore,__WEBPACK_IMPORTED_MODULE_4_app_services_ProfilesService__.a,__WEBPACK_IMPORTED_MODULE_5_app_services_GamesService__.a,__WEBPACK_IMPORTED_MODULE_6_app_services_ApplicationsService__.a,__WEBPACK_IMPORTED_MODULE_7_app_services_RewardsService__.a,__WEBPACK_IMPORTED_MODULE_2__stejar_translate__.TranslatorService,__WEBPACK_IMPORTED_MODULE_8_app_modules_pageLoader_services_PageLoaderService__.a,__WEBPACK_IMPORTED_MODULE_12_app_modules_integrator_communication_services_CommunicationService__.a,__WEBPACK_IMPORTED_MODULE_14_app_services_NotificationsService__.a,__WEBPACK_IMPORTED_MODULE_18_ubisoft_connect__.UbisoftConnectService,__WEBPACK_IMPORTED_MODULE_20_ubisoft_api__.UplayWSApi,__WEBPACK_IMPORTED_MODULE_21__FriendsService__.a,__WEBPACK_IMPORTED_MODULE_22__AvatarService__.a])],BootstrapService)},176:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadingAddFriendsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(119)),__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedAddFriendsStatAction__=__webpack_require__(156),__WEBPACK_IMPORTED_MODULE_5_app_actions_ChangeAddFriendStateAction__=__webpack_require__(345),__WEBPACK_IMPORTED_MODULE_6_app_actions_HideAddFriendsAction__=__webpack_require__(115);__webpack_require__.d(exports,"a",function(){return AddFriendStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},AddFriendStore=function(_ReducerStore){function AddFriendStore(){_classCallCheck(this,AddFriendStore);var _this=_possibleConstructorReturn(this,(AddFriendStore.__proto__||Object.getPrototypeOf(AddFriendStore)).call(this));return _this.bind(null,function(){return{userNameToSearch:null,isLoading:!1,show:!1,friendsSate:{}}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadingAddFriendsAction__.a.name,_this.handleLoadedFriendsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedAddFriendsStatAction__.a.name,_this.handleLoadedFriendsSateAction),_this.bind(__WEBPACK_IMPORTED_MODULE_5_app_actions_ChangeAddFriendStateAction__.a.name,_this.handleChangeFriendSateAction),_this.bind(__WEBPACK_IMPORTED_MODULE_6_app_actions_HideAddFriendsAction__.a.name,_this.handleHideFriendsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this}return _inherits(AddFriendStore,_ReducerStore),_createClass(AddFriendStore,[{key:"handleLoggedOutAction",value:function(state,action){return{userNameToSearch:null,isLoading:!1,show:!1,friendsSate:{}}}},{key:"handleLoadedFriendsAction",value:function(state,action){return Object.assign({},state,{userNameToSearch:action.userName,isLoading:action.isLoading})}},{key:"handleHideFriendsAction",value:function(state,action){return Object.assign({},state,{show:!action.isHidden})}},{key:"handleLoadedFriendsSateAction",value:function(state,action){return Object.assign({},state,{friendsSate:Object.assign({},state.friendsSate,action.friendsSate)})}},{key:"handleChangeFriendSateAction",value:function(state,action){var friendsSate=Object.assign({},state.friendsSate);return friendsSate[action.pid]=action.state,Object.assign({},state,{friendsSate:Object.assign({},state.friendsSate,friendsSate)})}}]),AddFriendStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);AddFriendStore.getState=function(state){return state.AddFriendStore},AddFriendStore.getUserNameToSearch=function(state){return state.AddFriendStore.userNameToSearch},AddFriendStore.getFriendsSate=function(state){return state.AddFriendStore.friendsSate},AddFriendStore.getIsLoading=function(state){return state.AddFriendStore.isLoading},AddFriendStore.getShow=function(state){return state.AddFriendStore.show},AddFriendStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],AddFriendStore)},177:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedConnectionsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(158)),__WEBPACK_IMPORTED_MODULE_4__actions_ReloadAction__=__webpack_require__(72);__webpack_require__.d(exports,"a",function(){return ConnectionsStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},ConnectionsStore=function(_ReducerStore){function ConnectionsStore(){_classCallCheck(this,ConnectionsStore);var _this=_possibleConstructorReturn(this,(ConnectionsStore.__proto__||Object.getPrototypeOf(ConnectionsStore)).call(this));return _this.bind(null,function(){return{byId:{},byProfileId:{},bySpaceId:{},ids:[],profileIdsForCall:[],expiration:0}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedConnectionsAction__.a.name,_this.handleLoadedConnectionsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_ReloadAction__.a.name,_this.handleLoggedOutAction),_this}return _inherits(ConnectionsStore,_ReducerStore),_createClass(ConnectionsStore,[{key:"handleLoggedOutAction",value:function(state,action){return{byId:{},byProfileId:{},bySpaceId:{},ids:[],profileIdsForCall:[],expiration:0}}},{key:"handleLoadedConnectionsAction",value:function(state,action){return Object.assign({},state,{byId:Object.assign({},state.byId,action.byId),byProfileId:Object.assign({},state.byProfileId,action.byProfileId),bySpaceId:Object.assign({},state.bySpaceId,action.bySpaceId),ids:state.ids.filter(function(id){return!action.ids.includes(id)}).concat(action.ids),profileIdsForCall:state.profileIdsForCall.filter(function(id){return!action.profileIdsForCall.includes(id)}).concat(action.profileIdsForCall),expiration:action.expiration})}}]),ConnectionsStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);ConnectionsStore.getState=function(state){return state.ConnectionsStore},ConnectionsStore.getByProfileId=function(state){return state.ConnectionsStore.byProfileId},ConnectionsStore.getById=function(state){return state.ConnectionsStore.byId},ConnectionsStore.getIds=function(state){return state.ConnectionsStore.ids},ConnectionsStore.getProfileIdsForCall=function(state){return state.ConnectionsStore.profileIdsForCall},ConnectionsStore.getBySpaceId=function(state){return state.ConnectionsStore.bySpaceId},ConnectionsStore.getExpiration=function(state){return state.ConnectionsStore.expiration},ConnectionsStore.loaded=function(state){return state.LoadersStore.Connections},ConnectionsStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],ConnectionsStore)},178:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_3__actions_ChangeFilterFriendsByNameAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(346));__webpack_require__.d(exports,"a",function(){return FilterFriendStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},FilterFriendStore=function(_ReducerStore){function FilterFriendStore(){_classCallCheck(this,FilterFriendStore);var _this=_possibleConstructorReturn(this,(FilterFriendStore.__proto__||Object.getPrototypeOf(FilterFriendStore)).call(this));return _this.bind(null,function(){return{userNameToFilterBy:null}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_ChangeFilterFriendsByNameAction__.a.name,_this.handleChangeFriendSateAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this}return _inherits(FilterFriendStore,_ReducerStore),_createClass(FilterFriendStore,[{key:"handleLoggedOutAction",value:function(state,action){return{userNameToFilterBy:null}}},{key:"handleChangeFriendSateAction",value:function(state,action){return __assign({},state,{userNameToFilterBy:action.userNameToFilterBy})}}]),FilterFriendStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);FilterFriendStore.getState=function(state){return state.FilterFriendStore},FilterFriendStore.getUserNameToFilterBy=function(state){return state.FilterFriendStore.userNameToFilterBy},FilterFriendStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],FilterFriendStore)},179:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_3__actions_LoadedPsnFriendsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(360)),__WEBPACK_IMPORTED_MODULE_4__actions_LoadingPsnAction__=__webpack_require__(365);__webpack_require__.d(exports,"a",function(){return PsnAccountsStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},PsnAccountsStore=function(_ReducerStore){function PsnAccountsStore(){_classCallCheck(this,PsnAccountsStore);var _this=_possibleConstructorReturn(this,(PsnAccountsStore.__proto__||Object.getPrototypeOf(PsnAccountsStore)).call(this));return _this.bind(null,function(){return{psnFriends:[],isLoading:!0}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_LoadedPsnFriendsAction__.a.name,_this.handleLoadedPsnFriendsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_LoadingPsnAction__.a.name,_this.handleLoadingPsnAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this}return _inherits(PsnAccountsStore,_ReducerStore),_createClass(PsnAccountsStore,[{key:"handleLoggedOutAction",value:function(state,action){return{psnFriends:[],isLoading:!0}}},{key:"handleLoadedPsnFriendsAction",value:function(state,action){return Object.assign({},state,{psnFriends:state.psnFriends.concat([action.psnFriends])})}},{key:"handleLoadingPsnAction",value:function(state,action){return Object.assign({},state,{isLoading:action.loading})}}]),PsnAccountsStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);PsnAccountsStore.getState=function(state){return state.PsnAccountsStore},PsnAccountsStore.getPsnFriends=function(state){return state.PsnAccountsStore.psnFriends},PsnAccountsStore.getIsLoading=function(state){return state.PsnAccountsStore.isLoading},PsnAccountsStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],PsnAccountsStore)},18:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);
subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_1__stejar_configuration__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(68)),__WEBPACK_IMPORTED_MODULE_2_app_modules_configuration_stores_EnvironmentStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_configuration__),__webpack_require__(379)),__WEBPACK_IMPORTED_MODULE_3_moment__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_3_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_moment__);__webpack_require__.d(exports,"a",function(){return ConfigurationQueries});var ConfigurationQueries=function(_StejarConfigurationQ){function ConfigurationQueries(){return _classCallCheck(this,ConfigurationQueries),_possibleConstructorReturn(this,(ConfigurationQueries.__proto__||Object.getPrototypeOf(ConfigurationQueries)).apply(this,arguments))}return _inherits(ConfigurationQueries,_StejarConfigurationQ),ConfigurationQueries}(__WEBPACK_IMPORTED_MODULE_1__stejar_configuration__.ConfigurationQueries);ConfigurationQueries.getConfiguration=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ConfigurationQueries.getConfiguration",ConfigurationQueries.getConfiguration,function(configuration){return configuration}),ConfigurationQueries.getEnv=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ConfigurationQueries.getEnv",function(state){return state.ConfigurationStore},function(configuration){return configuration.env}),ConfigurationQueries.getBadgesSpaceId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ConfigurationQueries.getBadgesSpaceId",ConfigurationQueries.getConfiguration,function(configuration){return configuration.badgesSpaceId}),ConfigurationQueries.getRewardsBaseUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ConfigurationQueries.getRewardsBaseUrl",ConfigurationQueries.getConfiguration,function(configuration){return configuration.rewardsUrl}),ConfigurationQueries.getClubUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ConfigurationQueries.getClubUrl",ConfigurationQueries.getConfiguration,function(configuration){return configuration.clubUrl}),ConfigurationQueries.getAccountUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ConfigurationQueries.getAccountUrl",ConfigurationQueries.getConfiguration,function(configuration){return configuration.accountUrl}),ConfigurationQueries.getCustomerSupportUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ConfigurationQueries.getCustomerSupportUrl",ConfigurationQueries.getConfiguration,function(configuration){return configuration.customerSupportUrl}),ConfigurationQueries.getTagCommanderUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ConfigurationQueries.getTagCommanderUrl",ConfigurationQueries.getConfiguration,function(configuration){return configuration.tagCommanderUrl}),ConfigurationQueries.getTwitchClientId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ConfigurationQueries.getTwitchClientId",ConfigurationQueries.getConfiguration,function(configuration){return configuration.twitchClientId}),ConfigurationQueries.getAvatarsUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ConfigurationQueries.getAvatarsUrl",ConfigurationQueries.getConfiguration,function(configuration){return configuration.avatarsUrl}),ConfigurationQueries.getCurrentEnv=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ConfigurationQueries.getCurrentEnv",__WEBPACK_IMPORTED_MODULE_2_app_modules_configuration_stores_EnvironmentStore__.a.getCurrentEnv,function(env){return env}),ConfigurationQueries.getEnableDebug=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("ConfigurationQueries.enableDebug",ConfigurationQueries.getConfiguration,function(configuration){return configuration.enableDebug}),ConfigurationQueries.getDefaultDataCacheTime=function(){return 900},ConfigurationQueries.getConnectionsCacheTime=function(){return 120},ConfigurationQueries.getGamesToApplicationsCacheTime=function(){return 86400},ConfigurationQueries.isExpired=function(expiration,cacheTime){return!__WEBPACK_IMPORTED_MODULE_3_moment___default.a.unix(expiration).isAfter(__WEBPACK_IMPORTED_MODULE_3_moment___default()().subtract(cacheTime,"seconds"))}},180:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedRewardsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(166));__webpack_require__.d(exports,"a",function(){return RewardsStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},RewardsStore=function(_ReducerStore){function RewardsStore(){_classCallCheck(this,RewardsStore);var _this=_possibleConstructorReturn(this,(RewardsStore.__proto__||Object.getPrototypeOf(RewardsStore)).call(this));return _this.bind(null,function(){return{rewards:[],ids:[]}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedRewardsAction__.a.name,_this.handleLoadedRewardsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this}return _inherits(RewardsStore,_ReducerStore),_createClass(RewardsStore,[{key:"handleLoggedOutAction",value:function(state,action){return{rewards:[],ids:[]}}},{key:"handleLoadedRewardsAction",value:function(state,action){return Object.assign({},state,{rewards:action.rewards,ids:action.rewardsIds})}}]),RewardsStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);RewardsStore.getState=function(state){return state.RewardsStore},RewardsStore.getRewards=function(state){return state.RewardsStore.rewards},RewardsStore.getIds=function(state){return state.RewardsStore.ids},RewardsStore.loaded=function(state){return state.LoadersStore.Rewards},RewardsStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],RewardsStore)},181:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_3__actions_LoadedSteamFriendsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(361)),__WEBPACK_IMPORTED_MODULE_4__actions_LoadingSteamAction__=__webpack_require__(367);__webpack_require__.d(exports,"a",function(){return SteamAccountsStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},SteamAccountsStore=function(_ReducerStore){function SteamAccountsStore(){_classCallCheck(this,SteamAccountsStore);var _this=_possibleConstructorReturn(this,(SteamAccountsStore.__proto__||Object.getPrototypeOf(SteamAccountsStore)).call(this));return _this.bind(null,function(){return{steamFriends:[],isLoading:!0}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_LoadedSteamFriendsAction__.a.name,_this.handleLoadedSteamFriendsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_LoadingSteamAction__.a.name,_this.handleLoadingSteamAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this}return _inherits(SteamAccountsStore,_ReducerStore),_createClass(SteamAccountsStore,[{key:"handleLoggedOutAction",value:function(state,action){return{steamFriends:[],isLoading:!0}}},{key:"handleLoadedSteamFriendsAction",value:function(state,action){return Object.assign({},state,{steamFriends:state.steamFriends.concat([action.steamFriends])})}},{key:"handleLoadingSteamAction",value:function(state,action){return Object.assign({},state,{isLoading:action.loading})}}]),SteamAccountsStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);SteamAccountsStore.getState=function(state){return state.SteamAccountsStore},SteamAccountsStore.getSteamFriends=function(state){return state.SteamAccountsStore.steamFriends},SteamAccountsStore.getIsLoading=function(state){return state.SteamAccountsStore.isLoading},SteamAccountsStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],SteamAccountsStore)},182:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_3__actions_LoadedXboxFriendsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(362)),__WEBPACK_IMPORTED_MODULE_4__actions_LoadingXboxAction__=__webpack_require__(368);__webpack_require__.d(exports,"a",function(){return XboxAccountsStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},XboxAccountsStore=function(_ReducerStore){function XboxAccountsStore(){_classCallCheck(this,XboxAccountsStore);var _this=_possibleConstructorReturn(this,(XboxAccountsStore.__proto__||Object.getPrototypeOf(XboxAccountsStore)).call(this));return _this.bind(null,function(){return{xboxFriends:[],isLoading:!0}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3__actions_LoadedXboxFriendsAction__.a.name,_this.handleLoadedXboxFriendsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_LoadingXboxAction__.a.name,_this.handleLoadingXboxAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this}return _inherits(XboxAccountsStore,_ReducerStore),_createClass(XboxAccountsStore,[{key:"handleLoggedOutAction",value:function(state,action){return{xboxFriends:[],isLoading:!0}}},{key:"handleLoadedXboxFriendsAction",value:function(state,action){return Object.assign({},state,{xboxFriends:state.xboxFriends.concat([action.xboxFriends])})}},{key:"handleLoadingXboxAction",value:function(state,action){return Object.assign({},state,{isLoading:action.loading})}}]),XboxAccountsStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);XboxAccountsStore.getState=function(state){return state.XboxAccountsStore},XboxAccountsStore.getXboxFriends=function(state){return state.XboxAccountsStore.xboxFriends},XboxAccountsStore.getIsLoading=function(state){return state.XboxAccountsStore.isLoading},XboxAccountsStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],XboxAccountsStore)},22:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_authentication__=__webpack_require__(9),__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_authentication__),__webpack_require__(28));__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__);__webpack_require__.d(exports,"a",function(){return IdentityQueries});var IdentityQueries=function(_AuthenticationQuerie){function IdentityQueries(){return _classCallCheck(this,IdentityQueries),_possibleConstructorReturn(this,(IdentityQueries.__proto__||Object.getPrototypeOf(IdentityQueries)).apply(this,arguments))}return _inherits(IdentityQueries,_AuthenticationQuerie),IdentityQueries}(__WEBPACK_IMPORTED_MODULE_0__stejar_authentication__.AuthenticationQueries);IdentityQueries.getIdentity=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("IdentityQueries.getIdentity",__WEBPACK_IMPORTED_MODULE_0__stejar_authentication__.AuthenticationQueries.getIdentity,function(identity){return identity}),IdentityQueries.getHasIdentity=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("IdentityQueries.getIdentity",__WEBPACK_IMPORTED_MODULE_0__stejar_authentication__.AuthenticationQueries.hasIdentity,function(hasIdentity){return hasIdentity}),IdentityQueries.getUserId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("IdentityQueries.getUserId",__WEBPACK_IMPORTED_MODULE_0__stejar_authentication__.AuthenticationQueries.getIdentity,function(identity){return identity?identity.user_id:null})},25:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(120)),__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_configuration_stores_IntegratorConfigurationStore__=__webpack_require__(172),__WEBPACK_IMPORTED_MODULE_3__stejar_translate__=__webpack_require__(24);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_translate__);__webpack_require__.d(exports,"a",function(){return IntegratorConfigurationQueries});var IntegratorConfigurationQueries=function IntegratorConfigurationQueries(){_classCallCheck(this,IntegratorConfigurationQueries)};IntegratorConfigurationQueries.getConfiguration=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getConfiguration",function(state){return state[__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_configuration_stores_IntegratorConfigurationStore__.a.name]},function(configuration){return configuration}),IntegratorConfigurationQueries.getLoginType=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getLoginType",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.loginType||__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.a.LOGIN_TYPE_POPUP}),IntegratorConfigurationQueries.getLocaleCode=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getLocaleCode",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.locale?configuration.locale:"en-GB"}),IntegratorConfigurationQueries.getApplicationId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getApplicationId",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.appId}),IntegratorConfigurationQueries.getGenomeId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getGenomeId",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.genomeId}),IntegratorConfigurationQueries.getHeight=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getHeight",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.height||50}),IntegratorConfigurationQueries.getBackgroundColor=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getBackgroundColor",IntegratorConfigurationQueries.getConfiguration,function(configuration){return"transparent"}),IntegratorConfigurationQueries.getTrackingSiteSection=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getTrackingSiteSection",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.trackingSiteSection}),IntegratorConfigurationQueries.getTrackingSiteName=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getTrackingSiteName",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.trackingSiteName}),IntegratorConfigurationQueries.getTrackingSiteType=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getTrackingSiteType",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.trackingSiteType}),IntegratorConfigurationQueries.getHasCustomerSupportLinks=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getHasCustomerSupportLinks",IntegratorConfigurationQueries.getConfiguration,function(configuration){return!!configuration.customerSupportLinks&&configuration.customerSupportLinks.length>0}),IntegratorConfigurationQueries.getHasOverwrittenLinks=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getHasOverwrittenLinks",IntegratorConfigurationQueries.getConfiguration,function(configuration){return!!configuration.overwrittenLinks&&Object.keys(configuration.overwrittenLinks).length>0}),IntegratorConfigurationQueries.getOverwrittenEditLink=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getOverwrittenEditLinks",IntegratorConfigurationQueries.getConfiguration,IntegratorConfigurationQueries.getHasOverwrittenLinks,function(configuration,hasOverwrittenLinks){return hasOverwrittenLinks&&configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.b.EDIT]?configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.b.EDIT]:null}),IntegratorConfigurationQueries.getOverwrittenAccountLink=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getOverwrittenAccountLinks",IntegratorConfigurationQueries.getConfiguration,IntegratorConfigurationQueries.getHasOverwrittenLinks,function(configuration,hasOverwrittenLinks){return hasOverwrittenLinks&&configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.b.ACCOUNT]?configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.b.ACCOUNT]:null}),IntegratorConfigurationQueries.getOverwrittenSupportLink=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getOverwrittenSupportLinks",IntegratorConfigurationQueries.getConfiguration,IntegratorConfigurationQueries.getHasOverwrittenLinks,function(configuration,hasOverwrittenLinks){return hasOverwrittenLinks&&configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.b.SUPPORT]?configuration.overwrittenLinks[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.b.SUPPORT]:null}),IntegratorConfigurationQueries.getCustomerSupportLinks=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getCustomerSupportLinks",IntegratorConfigurationQueries.getConfiguration,IntegratorConfigurationQueries.getHasCustomerSupportLinks,__WEBPACK_IMPORTED_MODULE_3__stejar_translate__.LocaleQueries.getCurrentLocale,function(configuration,hasCustomerSupportLinks,locale){return hasCustomerSupportLinks?configuration.customerSupportLinks.map(function(link){return{name:link.locs[locale]?link.locs[locale]:link.locs["en-GB"]?link.locs["en-GB"]:"link",url:link.link?link.link:null}}):[]}),IntegratorConfigurationQueries.getHasDarkBackground=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getCustomerSupportLinks",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.darkBackground}),IntegratorConfigurationQueries.getInstallmentId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getTrackingSiteType",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.installmentId}),IntegratorConfigurationQueries.getClickFriendsProfileType=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getTrackingSiteType",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.clickFriendsProfileType&&(configuration.clickFriendsProfileType===__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.c.TYPE_SELF||configuration.clickFriendsProfileType===__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.c.TYPE_BLANK||configuration.clickFriendsProfileType===__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.c.TYPE_POST_MESSAGE)?configuration.clickFriendsProfileType:__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.c.TYPE_SELF}),IntegratorConfigurationQueries.getHasExternalLoginType=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getHasExternalLoginType",IntegratorConfigurationQueries.getConfiguration,function(configuration){return!!configuration.loginExternalType&&[__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.d.LOGIN_PSN,__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.d.LOGIN_XBOX,__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_entities_IntegratorConfig__.d.LOGIN_TWITCH].indexOf(configuration.loginExternalType)!==-1}),IntegratorConfigurationQueries.getExternalLoginType=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getExternalLoginType",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.loginExternalType}),IntegratorConfigurationQueries.getShowSignInText=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getShowSignInText",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.showSignInText}),IntegratorConfigurationQueries.getHasArabLanguage=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getShowSignInText",IntegratorConfigurationQueries.getConfiguration,function(configuration){return!!configuration.locale&&"ar-AE"==configuration.locale}),IntegratorConfigurationQueries.getIsInDesktopResize=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("IntegratorConfigurationQueries.getShowSignInText",IntegratorConfigurationQueries.getConfiguration,function(configuration){return configuration.isInDesktopResize})},344:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return BootedWidgetAction});var BootedWidgetAction=function BootedWidgetAction(){_classCallCheck(this,BootedWidgetAction)}},345:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeAddFriendStateAction});var ChangeAddFriendStateAction=function ChangeAddFriendStateAction(pid,state){
_classCallCheck(this,ChangeAddFriendStateAction),this.pid=pid,this.state=state}},346:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeFilterFriendsByNameAction});var ChangeFilterFriendsByNameAction=function ChangeFilterFriendsByNameAction(userNameToFilterBy){_classCallCheck(this,ChangeFilterFriendsByNameAction),this.userNameToFilterBy=userNameToFilterBy}},347:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeFriendStateAction});var ChangeFriendStateAction=function ChangeFriendStateAction(userId,isStillLoading){_classCallCheck(this,ChangeFriendStateAction),this.userId=userId,this.isStillLoading=isStillLoading}},348:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeLastPlayedGameAction});var ChangeLastPlayedGameAction=function ChangeLastPlayedGameAction(installmentId){_classCallCheck(this,ChangeLastPlayedGameAction),this.installmentId=installmentId}},349:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeShowFriendInvitationsAction});var ChangeShowFriendInvitationsAction=function ChangeShowFriendInvitationsAction(toggle){_classCallCheck(this,ChangeShowFriendInvitationsAction),this.toggle=toggle}},350:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeShowFriendRequestsAction});var ChangeShowFriendRequestsAction=function ChangeShowFriendRequestsAction(toggle){_classCallCheck(this,ChangeShowFriendRequestsAction),this.toggle=toggle}},351:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ChangeSocialNetworkTabAction});var ChangeSocialNetworkTabAction=function ChangeSocialNetworkTabAction(tab){_classCallCheck(this,ChangeSocialNetworkTabAction),this.tab=tab}},352:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ErrorLoadingPsnAction});var ErrorLoadingPsnAction=function ErrorLoadingPsnAction(error){_classCallCheck(this,ErrorLoadingPsnAction),this.error=error}},353:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ErrorLoadingSteamAction});var ErrorLoadingSteamAction=function ErrorLoadingSteamAction(error){_classCallCheck(this,ErrorLoadingSteamAction),this.error=error}},354:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ErrorLoadingXboxAction});var ErrorLoadingXboxAction=function ErrorLoadingXboxAction(error){_classCallCheck(this,ErrorLoadingXboxAction),this.error=error}},355:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return HideFriendsActivityAction});var HideFriendsActivityAction=function HideFriendsActivityAction(){_classCallCheck(this,HideFriendsActivityAction)}},356:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return HideMobileTabsAction});var HideMobileTabsAction=function HideMobileTabsAction(){_classCallCheck(this,HideMobileTabsAction)}},357:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return HideNotificationsPanelAction});var HideNotificationsPanelAction=function HideNotificationsPanelAction(){_classCallCheck(this,HideNotificationsPanelAction)}},358:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedAvatarAction});var LoadedAvatarAction=function LoadedAvatarAction(byId){_classCallCheck(this,LoadedAvatarAction),this.byId=byId}},359:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedEnvAction});var LoadedEnvAction=function LoadedEnvAction(env){_classCallCheck(this,LoadedEnvAction),this.env=env}},360:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedPsnFriendsAction});var LoadedPsnFriendsAction=function LoadedPsnFriendsAction(psnFriends){_classCallCheck(this,LoadedPsnFriendsAction),this.psnFriends=psnFriends}},361:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedSteamFriendsAction});var LoadedSteamFriendsAction=function LoadedSteamFriendsAction(steamFriends){_classCallCheck(this,LoadedSteamFriendsAction),this.steamFriends=steamFriends}},362:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedXboxFriendsAction});var LoadedXboxFriendsAction=function LoadedXboxFriendsAction(xboxFriends){_classCallCheck(this,LoadedXboxFriendsAction),this.xboxFriends=xboxFriends}},363:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadingGameStatsAction});var LoadingGameStatsAction=function LoadingGameStatsAction(){_classCallCheck(this,LoadingGameStatsAction)}},364:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadingGamesAction});var LoadingGamesAction=function LoadingGamesAction(loading){_classCallCheck(this,LoadingGamesAction),this.loading=loading}},365:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadingPsnAction});var LoadingPsnAction=function LoadingPsnAction(loading){_classCallCheck(this,LoadingPsnAction),this.loading=loading}},366:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadingRewardsAction});var LoadingRewardsAction=function LoadingRewardsAction(){_classCallCheck(this,LoadingRewardsAction)}},367:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadingSteamAction});var LoadingSteamAction=function LoadingSteamAction(loading){_classCallCheck(this,LoadingSteamAction),this.loading=loading}},368:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadingXboxAction});var LoadingXboxAction=function LoadingXboxAction(loading){_classCallCheck(this,LoadingXboxAction),this.loading=loading}},369:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ResizeWidgetAction});var ResizeWidgetAction=function ResizeWidgetAction(isInMobileView){_classCallCheck(this,ResizeWidgetAction),this.isInMobileView=isInMobileView}},370:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ResizeWidgetHeightAction});var ResizeWidgetHeightAction=function ResizeWidgetHeightAction(height){_classCallCheck(this,ResizeWidgetHeightAction),this.height=height}},371:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ShowFriendsActivityAction});var ShowFriendsActivityAction=function ShowFriendsActivityAction(){_classCallCheck(this,ShowFriendsActivityAction)}},372:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ShowMobileTabsAction});var ShowMobileTabsAction=function ShowMobileTabsAction(){_classCallCheck(this,ShowMobileTabsAction)}},373:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ShowNotificationsPanelAction});var ShowNotificationsPanelAction=function ShowNotificationsPanelAction(){_classCallCheck(this,ShowNotificationsPanelAction)}},374:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleAddFriendsTabAction});var ToggleAddFriendsTabAction=function ToggleAddFriendsTabAction(showAddFriendsTab){_classCallCheck(this,ToggleAddFriendsTabAction),this.showAddFriendsTab=showAddFriendsTab}},375:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleMoreFriendsOnPsnAction});var ToggleMoreFriendsOnPsnAction=function ToggleMoreFriendsOnPsnAction(toggle){_classCallCheck(this,ToggleMoreFriendsOnPsnAction),this.toggle=toggle}},376:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleMoreFriendsOnSteamAction});var ToggleMoreFriendsOnSteamAction=function ToggleMoreFriendsOnSteamAction(toggle){_classCallCheck(this,ToggleMoreFriendsOnSteamAction),this.toggle=toggle}},377:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleMoreFriendsOnXboxAction});var ToggleMoreFriendsOnXboxAction=function ToggleMoreFriendsOnXboxAction(toggle){_classCallCheck(this,ToggleMoreFriendsOnXboxAction),this.toggle=toggle}},378:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleOnClickActiveMenuAction});var ToggleOnClickActiveMenuAction=function ToggleOnClickActiveMenuAction(active){_classCallCheck(this,ToggleOnClickActiveMenuAction),this.active=active}},379:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_app_actions_LoadedEnvAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(359));__webpack_require__.d(exports,"a",function(){return EnvironmentStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},EnvironmentStore=function(_ReducerStore){function EnvironmentStore(){_classCallCheck(this,EnvironmentStore);var _this=_possibleConstructorReturn(this,(EnvironmentStore.__proto__||Object.getPrototypeOf(EnvironmentStore)).call(this));return _this.bind(__WEBPACK_IMPORTED_MODULE_2_app_actions_LoadedEnvAction__.a.name,_this.loadedConfiguration),_this}return _inherits(EnvironmentStore,_ReducerStore),_createClass(EnvironmentStore,[{key:"loadedConfiguration",value:function(state,payload){return Object.assign({},state,{currentEnv:payload.env})}}]),EnvironmentStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);EnvironmentStore.getCurrentEnv=function(state){return state.EnvironmentStore.currentEnv},EnvironmentStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],EnvironmentStore)},380:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedIntegratorConfigurationAction});var LoadedIntegratorConfigurationAction=function LoadedIntegratorConfigurationAction(configuration){_classCallCheck(this,LoadedIntegratorConfigurationAction),this.configuration=configuration}},381:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_1__selectors__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(15)),__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__=__webpack_require__(17),__WEBPACK_IMPORTED_MODULE_3__stores_PsnAccountsStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__),__webpack_require__(179)),__WEBPACK_IMPORTED_MODULE_4_lodash__=__webpack_require__(62),__WEBPACK_IMPORTED_MODULE_5__stores_UserProfilesStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_lodash__),__webpack_require__(59)),__WEBPACK_IMPORTED_MODULE_6__modules_authentication_queries_IdentityQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_7__stores_FriendsStore__=__webpack_require__(67),__WEBPACK_IMPORTED_MODULE_8__stores_SocialNetworkStore__=__webpack_require__(107);__webpack_require__.d(exports,"a",function(){return PsnAccountsQueries});var PsnAccountsQueries=function PsnAccountsQueries(){_classCallCheck(this,PsnAccountsQueries)};PsnAccountsQueries.getPsnProfileForCurrentUser=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("PsnAccountsQueries.getPsnProfileForCurrentUser",__WEBPACK_IMPORTED_MODULE_1__selectors__.F,function(myProfiles){return myProfiles.find(function(profile){return profile.platformType==__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PLATFORM_TYPE.PSN})}),PsnAccountsQueries.getPsnFriendsEntitiesForCurrentUser=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("PsnAccountsQueries.getPsnFriendsEntitiesForCurrentUser",__WEBPACK_IMPORTED_MODULE_3__stores_PsnAccountsStore__.a.getPsnFriends,PsnAccountsQueries.getPsnProfileForCurrentUser,function(friends,myProfile){return myProfile?friends.filter(function(friend){return friend.User.OnlineId==myProfile.nameOnPlatform}):[]}),PsnAccountsQueries.getPsnFriends=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("PsnAccountsQueries.getPsnFriends",PsnAccountsQueries.getPsnFriendsEntitiesForCurrentUser,function(friends){return friends.length?friends.map(function(friend){return friend.Friends.FriendList}).reduce(function(previousValue,currentValue){return previousValue.concat(currentValue)}):[]}),PsnAccountsQueries.getNbOfPsnFriendsInList=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("PsnAccountsQueries.getNbOfPsnFriendsInList",PsnAccountsQueries.getPsnFriends,function(friends){return friends.length}),PsnAccountsQueries.getNbOfPsnFriends=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("PsnAccountsQueries.getNbOfPsnFriends",PsnAccountsQueries.getPsnFriendsEntitiesForCurrentUser,function(friends){return friends.length?friends[0].Friends.TotalResults:0}),PsnAccountsQueries.getOnlyPsnUserProfiles=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("PsnAccountsQueries.getOnlyPsnUserProfiles",__WEBPACK_IMPORTED_MODULE_5__stores_UserProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_6__modules_authentication_queries_IdentityQueries__.a.getUserId,function(byId,selfId){var stemUserProfilesById={};return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_lodash__.each)(byId,function(userProfile){userProfile.userId!==selfId&&userProfile.platformType==__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PLATFORM_TYPE.PSN&&(stemUserProfilesById[userProfile.userId]=userProfile)}),stemUserProfilesById}),PsnAccountsQueries.getUplayFriendsWhoAreOnPsn=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("XboxAccountsQueries.getUplayFriendsWhoAreOnXbox",PsnAccountsQueries.getPsnFriends,PsnAccountsQueries.getOnlyPsnUserProfiles,__WEBPACK_IMPORTED_MODULE_7__stores_FriendsStore__.a.getByIds,__WEBPACK_IMPORTED_MODULE_5__stores_UserProfilesStore__.a.getById,function(friendsOnPsn,userProfilesById,friendsById,byId){var friendsWithLinkedAccount=[];return friendsOnPsn.length&&Object.keys(userProfilesById).length&&Object.keys(friendsById).length?(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_lodash__.each)(userProfilesById,function(userProfileById,userId){var friendOnPsn=friendsOnPsn.find(function(friend){return friend.OnlineId==userProfileById.nameOnPlatform}),isFriend=!!friendsById[userId];friendOnPsn&&byId[userId]&&friendsWithLinkedAccount.push({pid:isFriend?friendsById[userId].pid:userProfileById.userId,userName:isFriend?friendsById[userId].nameOnPlatform:byId[userId]?byId[userId].nameOnPlatform:friendOnPsn.OnlineId,userAvatarUrl:friendOnPsn.AvatarUrl,hasPsnProfile:!0,psnName:friendOnPsn.OnlineId,hasXboxProfile:!1,xboxName:null,hasSteamProfile:!1,steamName:null,friendState:isFriend?friendsById[userId].state:__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.FRIEND_STATE.NO_RELATIONSHIP,invitationRequestDate:isFriend?friendsById[userId].lastModified:null})}),friendsWithLinkedAccount):friendsWithLinkedAccount}),PsnAccountsQueries.getNbOfUplayFriendsWhoAreOnPsn=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("PsnAccountsQueries.getNbOfUplayFriendsWhoAreOnXbox",PsnAccountsQueries.getUplayFriendsWhoAreOnPsn,function(friends){return friends.length}),PsnAccountsQueries.getHasUplayFriendsWhoAreOnPsn=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("PsnAccountsQueries.getHasUplayFriendsWhoAreOnPsn",PsnAccountsQueries.getNbOfUplayFriendsWhoAreOnPsn,function(nbFriends){return nbFriends>0}),PsnAccountsQueries.getUplayFriendsWhoAreOnPsnToShow=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("PsnAccountsQueries.getUplayFriendsWhoAreOnPsnToShow",PsnAccountsQueries.getUplayFriendsWhoAreOnPsn,__WEBPACK_IMPORTED_MODULE_8__stores_SocialNetworkStore__.a.getShowMoreFriendsOnPsn,function(friends,show){return show?friends.slice(0,2):friends})},382:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_1__selectors__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(15)),__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__=__webpack_require__(17);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__);__webpack_require__.d(exports,"a",function(){return SocialNetworkQueries});var SocialNetworkQueries=function SocialNetworkQueries(){_classCallCheck(this,SocialNetworkQueries)};SocialNetworkQueries.getIsLinkedWithPsn=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("getIsLinkedWithPsn",__WEBPACK_IMPORTED_MODULE_1__selectors__.F,function(profiles){return!!profiles.find(function(profile){return profile.platformType==__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PLATFORM_TYPE.PSN})}),SocialNetworkQueries.getIsLinkedWithXbox=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("getIsLinkedWithXbox",__WEBPACK_IMPORTED_MODULE_1__selectors__.F,function(profiles){return!!profiles.find(function(profile){return profile.platformType==__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PLATFORM_TYPE.XBOX_LIVE})}),SocialNetworkQueries.getIsLinkedWithSteam=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("getIsLinkedWithSteam",__WEBPACK_IMPORTED_MODULE_1__selectors__.F,function(profiles){return!!profiles.find(function(profile){return profile.platformType==__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PLATFORM_TYPE.STEAM})})},383:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_1__selectors__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(15)),__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__=__webpack_require__(17),__WEBPACK_IMPORTED_MODULE_3__stores_SteamAccountsStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__),__webpack_require__(181)),__WEBPACK_IMPORTED_MODULE_4__stores_UserProfilesStore__=__webpack_require__(59),__WEBPACK_IMPORTED_MODULE_5_lodash__=__webpack_require__(62),__WEBPACK_IMPORTED_MODULE_6_app_modules_authentication_queries_IdentityQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_lodash__),__webpack_require__(22)),__WEBPACK_IMPORTED_MODULE_7__stores_FriendsStore__=__webpack_require__(67),__WEBPACK_IMPORTED_MODULE_8__stores_SocialNetworkStore__=__webpack_require__(107);__webpack_require__.d(exports,"a",function(){return SteamAccountsQueries});var SteamAccountsQueries=function SteamAccountsQueries(){_classCallCheck(this,SteamAccountsQueries)};SteamAccountsQueries.getSteamProfileForCurrentUser=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("SteamAccountsQueries.getSteamProfileForCurrentUser",__WEBPACK_IMPORTED_MODULE_1__selectors__.F,function(myProfiles){return myProfiles.find(function(profile){return profile.platformType==__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PLATFORM_TYPE.STEAM})}),SteamAccountsQueries.getSteamFriendsEntitiesForCurrentUser=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("SteamAccountsQueries.getSteamFriendsEntitiesForCurrentUser",__WEBPACK_IMPORTED_MODULE_3__stores_SteamAccountsStore__.a.getSteamFriends,SteamAccountsQueries.getSteamProfileForCurrentUser,function(friends,myProfile){return myProfile?friends.filter(function(friend){return friend.User.steamId==myProfile.idOnPlatform}):[]}),SteamAccountsQueries.getSteamFriends=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("SteamAccountsQueries.getSteamFriends",SteamAccountsQueries.getSteamFriendsEntitiesForCurrentUser,function(friends){return friends.length?friends.map(function(friend){return friend.FriendList.Friends}).reduce(function(previousValue,currentValue){return previousValue.concat(currentValue)}):[]}),SteamAccountsQueries.getNbOfSteamFriendsInList=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("SteamAccountsQueries.getNbOfSteamFriendsInList",SteamAccountsQueries.getSteamFriends,function(friends){return friends.length}),SteamAccountsQueries.getNbOfSteamFriends=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("SteamAccountsQueries.getNbOfSteamFriends",SteamAccountsQueries.getSteamFriendsEntitiesForCurrentUser,function(friends){return friends.length?friends[0].FriendList.TotalRecords:0}),SteamAccountsQueries.getOnlySteamUserProfiles=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("SteamAccountsQueries.getOnlySteamUserProfiles",__WEBPACK_IMPORTED_MODULE_4__stores_UserProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_6_app_modules_authentication_queries_IdentityQueries__.a.getUserId,function(byId,selfId){var stemUserProfilesById={};return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_lodash__.each)(byId,function(userProfile){userProfile.userId!==selfId&&userProfile.platformType===__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PLATFORM_TYPE.STEAM&&(stemUserProfilesById[userProfile.userId]=userProfile)}),stemUserProfilesById}),SteamAccountsQueries.getUplayFriendsWhoAreOnSteam=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("SteamAccountsQueries.getUplayFriendsWhoAreOnSteam",SteamAccountsQueries.getSteamFriends,SteamAccountsQueries.getOnlySteamUserProfiles,__WEBPACK_IMPORTED_MODULE_7__stores_FriendsStore__.a.getByIds,__WEBPACK_IMPORTED_MODULE_4__stores_UserProfilesStore__.a.getById,function(friendsOnSteam,userProfilesById,friendsById,byId){var friendsWithLinkedAccount=[];return friendsOnSteam.length&&Object.keys(userProfilesById).length&&Object.keys(friendsById).length?(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_lodash__.each)(userProfilesById,function(userProfileById,userId){var friendOnSteam=friendsOnSteam.find(function(friend){return friend.steamId==userProfileById.idOnPlatform}),isFriend=!!friendsById[userId];friendOnSteam&&byId[userId]&&friendsWithLinkedAccount.push({pid:isFriend?friendsById[userId].pid:userProfileById.userId,userName:isFriend?friendsById[userId].nameOnPlatform:byId[userId].nameOnPlatform,userAvatarUrl:friendOnSteam.avatar,hasPsnProfile:!1,psnName:null,hasSteamProfile:!0,steamName:friendOnSteam.personaname,hasXboxProfile:!1,xboxName:null,friendState:isFriend?friendsById[userId].state:__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.FRIEND_STATE.NO_RELATIONSHIP,invitationRequestDate:isFriend?friendsById[userId].lastModified:null})}),friendsWithLinkedAccount):friendsWithLinkedAccount}),SteamAccountsQueries.getNbOfUplayFriendsWhoAreOnSteam=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("SteamAccountsQueries.getNbOfUplayFriendsWhoAreOnSteam",SteamAccountsQueries.getUplayFriendsWhoAreOnSteam,function(friends){return friends.length}),SteamAccountsQueries.getHasUplayFriendsWhoAreOnSteam=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("SteamAccountsQueries.getNbOfUplayFriendsWhoAreOnSteam",SteamAccountsQueries.getNbOfUplayFriendsWhoAreOnSteam,function(nbFriends){return nbFriends>0}),SteamAccountsQueries.getUplayFriendsWhoAreOnSteamToShow=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("SteamAccountsQueries.getUplayFriendsWhoAreOnSteamToShow",SteamAccountsQueries.getUplayFriendsWhoAreOnSteam,__WEBPACK_IMPORTED_MODULE_8__stores_SocialNetworkStore__.a.getShowMoreFriendsOnSteam,function(friends,show){return show?friends.slice(0,2):friends;
})},384:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_1__selectors__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(15)),__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__=__webpack_require__(17),__WEBPACK_IMPORTED_MODULE_3__stores_XboxAccountsStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__),__webpack_require__(182)),__WEBPACK_IMPORTED_MODULE_4_lodash__=__webpack_require__(62),__WEBPACK_IMPORTED_MODULE_5__stores_UserProfilesStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_lodash__),__webpack_require__(59)),__WEBPACK_IMPORTED_MODULE_6__modules_authentication_queries_IdentityQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_7__stores_FriendsStore__=__webpack_require__(67),__WEBPACK_IMPORTED_MODULE_8__stores_SocialNetworkStore__=__webpack_require__(107);__webpack_require__.d(exports,"a",function(){return XboxAccountsQueries});var XboxAccountsQueries=function XboxAccountsQueries(){_classCallCheck(this,XboxAccountsQueries)};XboxAccountsQueries.getXboxProfileForCurrentUser=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("XboxAccountsQueries.getXboxProfileForCurrentUser",__WEBPACK_IMPORTED_MODULE_1__selectors__.F,function(myProfiles){return myProfiles.find(function(profile){return profile.platformType==__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PLATFORM_TYPE.XBOX_LIVE})}),XboxAccountsQueries.getXboxFriendsEntitiesForCurrentUser=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("XboxAccountsQueries.getXboxFriendsEntitiesForCurrentUser",__WEBPACK_IMPORTED_MODULE_3__stores_XboxAccountsStore__.a.getXboxFriends,XboxAccountsQueries.getXboxProfileForCurrentUser,function(friends,myProfile){return myProfile?friends.filter(function(friend){return friend.User.Xuid==myProfile.idOnPlatform}):[]}),XboxAccountsQueries.getXboxFriends=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("XboxAccountsQueries.getXboxFriends",XboxAccountsQueries.getXboxFriendsEntitiesForCurrentUser,function(friends){return friends.length?friends.map(function(friend){return friend.Friends.FriendList}).reduce(function(previousValue,currentValue){return previousValue.concat(currentValue)}):[]}),XboxAccountsQueries.getNbOfXboxFriendsInList=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("XboxAccountsQueries.getNbOfXboxFriendsInList",XboxAccountsQueries.getXboxFriends,function(friends){return friends.length}),XboxAccountsQueries.getNbOfXboxFriends=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("XboxAccountsQueries.getNbOfXboxFriends",XboxAccountsQueries.getXboxFriendsEntitiesForCurrentUser,function(friends){return friends.length?friends[0].Friends.TotalResults:0}),XboxAccountsQueries.getOnlyXboxUserProfiles=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("XboxAccountsQueries.getOnlyXboxUserProfiles",__WEBPACK_IMPORTED_MODULE_5__stores_UserProfilesStore__.a.getById,__WEBPACK_IMPORTED_MODULE_6__modules_authentication_queries_IdentityQueries__.a.getUserId,function(byId,selfId){var stemUserProfilesById={};return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_lodash__.each)(byId,function(userProfile){userProfile.userId!==selfId&&userProfile.platformType==__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PLATFORM_TYPE.XBOX_LIVE&&(stemUserProfilesById[userProfile.userId]=userProfile)}),stemUserProfilesById}),XboxAccountsQueries.getUplayFriendsWhoAreOnXbox=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("XboxAccountsQueries.getUplayFriendsWhoAreOnXbox",XboxAccountsQueries.getXboxFriends,XboxAccountsQueries.getOnlyXboxUserProfiles,__WEBPACK_IMPORTED_MODULE_7__stores_FriendsStore__.a.getByIds,__WEBPACK_IMPORTED_MODULE_5__stores_UserProfilesStore__.a.getById,function(friendsOnXbox,userProfilesById,friendsById,byId){var friendsWithLinkedAccount=[];return friendsOnXbox.length&&Object.keys(userProfilesById).length&&Object.keys(friendsById).length?(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_lodash__.each)(userProfilesById,function(userProfileById,userId){var friendOnXbox=friendsOnXbox.find(function(friend){return friend.Xuid==userProfileById.idOnPlatform}),isFriend=!!friendsById[userId];friendOnXbox&&byId[userId]&&friendsWithLinkedAccount.push({pid:isFriend?friendsById[userId].pid:userProfileById.userId,userName:isFriend?friendsById[userId].nameOnPlatform:byId[userId].nameOnPlatform,userAvatarUrl:friendOnXbox.AvatarUrl,hasPsnProfile:!1,psnName:null,hasXboxProfile:!0,xboxName:friendOnXbox.GamerTag,hasSteamProfile:!1,steamName:null,friendState:isFriend?friendsById[userId].state:__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.FRIEND_STATE.NO_RELATIONSHIP,invitationRequestDate:isFriend?friendsById[userId].lastModified:null})}),friendsWithLinkedAccount):friendsWithLinkedAccount}),XboxAccountsQueries.getNbOfUplayFriendsWhoAreOnXbox=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("XboxAccountsQueries.getNbOfUplayFriendsWhoAreOnXbox",XboxAccountsQueries.getUplayFriendsWhoAreOnXbox,function(friends){return friends.length}),XboxAccountsQueries.getHasUplayFriendsWhoAreOnXbox=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("XboxAccountsQueries.getNbOfUplayFriendsWhoAreOnXbox",XboxAccountsQueries.getNbOfUplayFriendsWhoAreOnXbox,function(nbFriends){return nbFriends>0}),XboxAccountsQueries.getUplayFriendsWhoAreOnXboxToShow=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("XboxAccountsQueries.getUplayFriendsWhoAreOnXboxToShow",XboxAccountsQueries.getUplayFriendsWhoAreOnXbox,__WEBPACK_IMPORTED_MODULE_8__stores_SocialNetworkStore__.a.getShowMoreFriendsOnXbox,function(friends,show){return show?friends.slice(0,2):friends})},385:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_app_modules_tagCommander_services_TagCommanderService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(66)),__WEBPACK_IMPORTED_MODULE_3_app_selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadingAddFriendsAction__=__webpack_require__(119),__WEBPACK_IMPORTED_MODULE_5_app_actions_HideAddFriendsAction__=__webpack_require__(115),__WEBPACK_IMPORTED_MODULE_6_app_services_ProfilesService__=__webpack_require__(85),__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__=__webpack_require__(17),__WEBPACK_IMPORTED_MODULE_8_app_services_FriendsService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__),__webpack_require__(104)),__WEBPACK_IMPORTED_MODULE_9_app_actions_LoadedAddFriendsStatAction__=__webpack_require__(156),__WEBPACK_IMPORTED_MODULE_10_app_actions_ChangeAddFriendStateAction__=__webpack_require__(345);__webpack_require__.d(exports,"a",function(){return AddFriendService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},AddFriendService=function(_AbstractActions){function AddFriendService(tagCommanderService,profilesService,friendsService){_classCallCheck(this,AddFriendService);var _this=_possibleConstructorReturn(this,(AddFriendService.__proto__||Object.getPrototypeOf(AddFriendService)).call(this));return _this.tagCommanderService=tagCommanderService,_this.profilesService=profilesService,_this.friendsService=friendsService,_this}return _inherits(AddFriendService,_AbstractActions),_createClass(AddFriendService,[{key:"onClickUserSearchInput",value:function(userName){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!(userName&&userName.length>=3&&userName.toLowerCase()!=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_app_selectors__.k)(this.state).toLowerCase())){_context.next=16;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_4_app_actions_LoadingAddFriendsAction__.a((!0),userName)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_5_app_actions_HideAddFriendsAction__.a((!0))),_context.next=5,Promise.all([this.profilesService.loadMyFriendProfilesByUserNameAndPlatforms([userName],__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.PLATFORM_TYPE.UPLAY),this.profilesService.loadMyFriendProfilesByUserNameAndPlatforms([userName],__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.PLATFORM_TYPE.PSN),this.profilesService.loadMyFriendProfilesByUserNameAndPlatforms([userName],__WEBPACK_IMPORTED_MODULE_7_ubisoft_api__.PLATFORM_TYPE.XBOX_LIVE)]);case 5:if(!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_app_selectors__.C)(this.state)){_context.next=9;break}return _context.next=8,Promise.all([this.profilesService.loadFriendsClubProfilesByIds(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_app_selectors__.D)(this.state)),this.profilesService.loadFriendsProfilesByIds(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_app_selectors__.D)(this.state))]);case 8:this.tagCommanderService.trackEvent("Nav - Ubibar - Search Friend","Overlay");case 9:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_9_app_actions_LoadedAddFriendsStatAction__.a(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_app_selectors__.E)(this.state))),_context.next=12,new Promise(function(resolve){return setTimeout(function(){return resolve()},100)});case 12:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_4_app_actions_LoadingAddFriendsAction__.a((!1),userName)),_context.next=15,new Promise(function(resolve){return setTimeout(function(){return resolve()},2)});case 15:this.dispatch(new __WEBPACK_IMPORTED_MODULE_5_app_actions_HideAddFriendsAction__.a((!1)));case 16:case"end":return _context.stop()}},_callee,this)}))}},{key:"onClickInviteRequest",value:function(pid,nameOnPlatform){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_10_app_actions_ChangeAddFriendStateAction__.a(pid,(!0))),_context2.next=3,new Promise(function(resolve){setTimeout(function(){return resolve()},305)});case 3:return _context2.next=5,_context2.sent;case 5:return _context2.next=7,this.friendsService.sendFriendInvite(pid,nameOnPlatform);case 7:case"end":return _context2.stop()}},_callee2,this)}))}}]),AddFriendService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);AddFriendService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2_app_modules_tagCommander_services_TagCommanderService__.a,__WEBPACK_IMPORTED_MODULE_6_app_services_ProfilesService__.a,__WEBPACK_IMPORTED_MODULE_8_app_services_FriendsService__.a])],AddFriendService)},386:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(17)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedConnectionsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__),__webpack_require__(158)),__WEBPACK_IMPORTED_MODULE_4_app_stores_UserProfilesStore__=__webpack_require__(59),__WEBPACK_IMPORTED_MODULE_5_app_selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_6__stores_ConnectionsStore__=__webpack_require__(177),__WEBPACK_IMPORTED_MODULE_7__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_8_moment__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_8_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_moment__);__webpack_require__.d(exports,"a",function(){return ConnectionsService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},ConnectionsService=function(_AbstractActions){function ConnectionsService(connectionsApi){_classCallCheck(this,ConnectionsService);var _this=_possibleConstructorReturn(this,(ConnectionsService.__proto__||Object.getPrototypeOf(ConnectionsService)).call(this));return _this.connectionsApi=connectionsApi,_this}return _inherits(ConnectionsService,_AbstractActions),_createClass(ConnectionsService,[{key:"loadMyFriendsConnections",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.loadConnections(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_app_selectors__.f)(this.getState()));case 2:case"end":return _context.stop()}},_callee,this)}))}},{key:"loadFriendConnections",value:function(pid){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.loadConnections([pid]);case 2:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"loadConnections",value:function(friendsIds){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var platforms,profiles,profileIds,byId,ids,byProfileId,bySpaceId,isExpired,getProfileIds,friendIdNotFound;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(platforms=[__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PLATFORM_TYPE.UPLAY,__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PLATFORM_TYPE.PSN,__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.PLATFORM_TYPE.XBOX_LIVE],profiles=__WEBPACK_IMPORTED_MODULE_4_app_stores_UserProfilesStore__.a.getById(this.getState()),profileIds=friendsIds.filter(function(item){return platforms.includes(profiles[item].platformType)}),byId={},ids=[],byProfileId={},bySpaceId={},isExpired=__WEBPACK_IMPORTED_MODULE_7__modules_configuration_queries_ConfigurationQueries__.a.isExpired(__WEBPACK_IMPORTED_MODULE_6__stores_ConnectionsStore__.a.getExpiration(this.getState()),__WEBPACK_IMPORTED_MODULE_7__modules_configuration_queries_ConfigurationQueries__.a.getConnectionsCacheTime()),getProfileIds=__WEBPACK_IMPORTED_MODULE_6__stores_ConnectionsStore__.a.getProfileIdsForCall(this.getState()),friendIdNotFound=!1,getProfileIds.length>0&&(friendIdNotFound=!profileIds.length||!profileIds.map(function(profileId){return getProfileIds.indexOf(profileId)!==-1}).reduce(function(previousValue,currentValue){return previousValue&&currentValue})),!isExpired&&!friendIdNotFound){_context3.next=16;break}return _context3.next=14,this.connectionsCall(profileIds,byId,byProfileId,bySpaceId,ids);case 14:_context3.next=21;break;case 16:byId=__WEBPACK_IMPORTED_MODULE_6__stores_ConnectionsStore__.a.getById(this.getState()),ids=__WEBPACK_IMPORTED_MODULE_6__stores_ConnectionsStore__.a.getIds(this.getState()),byProfileId=__WEBPACK_IMPORTED_MODULE_6__stores_ConnectionsStore__.a.getByProfileId(this.getState()),bySpaceId=__WEBPACK_IMPORTED_MODULE_6__stores_ConnectionsStore__.a.getBySpaceId(this.getState()),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedConnectionsAction__.a(byId,byProfileId,bySpaceId,ids,profileIds,__WEBPACK_IMPORTED_MODULE_6__stores_ConnectionsStore__.a.getExpiration(this.getState())));case 21:case"end":return _context3.stop()}},_callee3,this)}))}},{key:"connectionsCall",value:function(profileIds,byId,byProfileId,bySpaceId,ids){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var connections;return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,this.connectionsApi.getConnectionsByProfileIds(profileIds);case 2:connections=_context4.sent,connections.forEach(function(conn){byId[conn.connectionId]=conn,byProfileId[conn.profileId]=conn.connectionId,conn.spaceIds.forEach(function(spaceId){bySpaceId[spaceId]||(bySpaceId[spaceId]=[]),bySpaceId[spaceId].push(conn.connectionId)}),ids.push(conn.connectionId)}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedConnectionsAction__.a(byId,byProfileId,bySpaceId,ids,profileIds,__WEBPACK_IMPORTED_MODULE_8_moment___default()().unix()));case 5:case"end":return _context4.stop()}},_callee4,this)}))}}]),ConnectionsService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);ConnectionsService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.ConnectionsApi])],ConnectionsService)},387:function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(17)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedGamesAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__),__webpack_require__(117)),__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedGameStatsAction__=__webpack_require__(162),__WEBPACK_IMPORTED_MODULE_5_app_modules_authentication_queries_IdentityQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_6_app_selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_7_app_actions_LoadedGamesOwnedAction__=__webpack_require__(118),__WEBPACK_IMPORTED_MODULE_8_app_stores_PlatformsStore__=__webpack_require__(126),__WEBPACK_IMPORTED_MODULE_9_moment__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_9_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_moment__),__WEBPACK_IMPORTED_MODULE_10__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_11__stores_GamesStore__=__webpack_require__(125);__webpack_require__.d(exports,"a",function(){return GamesService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})};__webpack_require__(876);var GamesService=function(_AbstractActions){function GamesService(gamesApi,gameConfigApi){_classCallCheck(this,GamesService);var _this=_possibleConstructorReturn(this,(GamesService.__proto__||Object.getPrototypeOf(GamesService)).call(this));return _this.gamesApi=gamesApi,_this.gameConfigApi=gameConfigApi,_this}return _inherits(GamesService,_AbstractActions),_createClass(GamesService,[{key:"loadGames",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var games,gamesByIds,gamesIds,platformsByIds,platformsIds,gamesPlatforms,platformsGames;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(games=[],gamesByIds={},gamesIds=[],platformsByIds={},platformsIds=[],gamesPlatforms={},platformsGames={},!__WEBPACK_IMPORTED_MODULE_10__modules_configuration_queries_ConfigurationQueries__.a.isExpired(__WEBPACK_IMPORTED_MODULE_11__stores_GamesStore__.a.getExpiration(this.getState()),__WEBPACK_IMPORTED_MODULE_10__modules_configuration_queries_ConfigurationQueries__.a.getGamesToApplicationsCacheTime())){_context.next=12;break}return _context.next=10,this.getGames(games,gamesByIds,gamesIds,platformsByIds,platformsIds,gamesPlatforms,platformsGames);case 10:_context.next=13;break;case 12:this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedGamesAction__.a(__WEBPACK_IMPORTED_MODULE_11__stores_GamesStore__.a.getById(this.getState()),__WEBPACK_IMPORTED_MODULE_11__stores_GamesStore__.a.getIds(this.getState()),__WEBPACK_IMPORTED_MODULE_8_app_stores_PlatformsStore__.a.getById(this.getState()),__WEBPACK_IMPORTED_MODULE_8_app_stores_PlatformsStore__.a.getIds(this.getState()),__WEBPACK_IMPORTED_MODULE_8_app_stores_PlatformsStore__.a.getByGameId(this.getState()),__WEBPACK_IMPORTED_MODULE_11__stores_GamesStore__.a.getByPlatformId(this.getState()),__WEBPACK_IMPORTED_MODULE_11__stores_GamesStore__.a.getExpiration(this.getState())));case 13:case"end":return _context.stop()}},_callee,this)}))}},{key:"getGames",value:function(games,gamesByIds,gamesIds,platformsByIds,platformsIds,gamesPlatforms,platformsGames){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,this.gamesApi.getGames();case 3:games=_context2.sent,_context2.next=10;break;case 6:return _context2.prev=6,_context2.t0=_context2["catch"](0),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedGamesAction__.a(gamesByIds,gamesIds,platformsByIds,platformsIds,gamesPlatforms,platformsGames,__WEBPACK_IMPORTED_MODULE_9_moment___default()().unix())),_context2.abrupt("return");case 10:games.forEach(function(game){gamesByIds[game.id.toString()]={id:game.id.toString(),title:game.title,cleanUrl:game.cleanUrl,thumbUrl:game.images.find(function(image){return image.imageSpecification===__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.IMAGE_SPECIFICATION.IMAGE_MOBILE_BOX_ART})?game.images.find(function(image){return image.imageSpecification===__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.IMAGE_SPECIFICATION.IMAGE_MOBILE_BOX_ART}).url:null,publishedAt:game.publishDate,relatedLinks:game.relatedLinks,code:game.code,installmentId:game.installmentId},gamesIds.push(game.id.toString()),gamesPlatforms[game.id.toString()]=[],game.platforms.forEach(function(platform){platformsByIds[platform.spaceId]={code:platform.code,spaceId:platform.spaceId},platformsIds.push(platform.spaceId),gamesPlatforms[game.id.toString()].push(platform.spaceId),platformsGames[platform.spaceId]=game.id.toString()})}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedGamesAction__.a(gamesByIds,gamesIds,platformsByIds,platformsIds,gamesPlatforms,platformsGames,__WEBPACK_IMPORTED_MODULE_9_moment___default()().unix()));case 12:case"end":return _context2.stop()}},_callee2,this,[[0,6]])}))}},{key:"loadMyGames",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var games;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,this.gamesApi.getGameProfiles(__WEBPACK_IMPORTED_MODULE_5_app_modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()));case 2:games=_context3.sent,this.dispatch(new __WEBPACK_IMPORTED_MODULE_7_app_actions_LoadedGamesOwnedAction__.a(games.map(function(game){return game.spaceId}),__WEBPACK_IMPORTED_MODULE_5_app_modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState())));case 4:case"end":return _context3.stop()}},_callee3,this)}))}},{key:"loadMyLastPlayedGameStats",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var userId,spaceId,gameConfig,foundGameConfig,userStats,statsById,bySpaceId,ids,_this2=this;return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(userId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6_app_selectors__.c)(this.getState()),spaceId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6_app_selectors__.d)(this.getState()),__WEBPACK_IMPORTED_MODULE_8_app_stores_PlatformsStore__.a.getById(this.getState())[spaceId]){_context4.next=4;break}return _context4.abrupt("return");case 4:return _context4.next=6,this.gameConfigApi.getGameConfig([spaceId]);case 6:if(gameConfig=_context4.sent,foundGameConfig=gameConfig.find(function(config){
return config.spaceId==spaceId}),foundGameConfig.statsEnabled){_context4.next=10;break}return _context4.abrupt("return");case 10:return _context4.next=12,this.gamesApi.getStatsCard(spaceId,userId);case 12:userStats=_context4.sent,statsById={},bySpaceId=_defineProperty({},spaceId,[]),ids=[],userStats.forEach(function(userStat){ids.push(userStat.statName),bySpaceId[userStat.spaceId].push(userStat.statName),statsById[userStat.statName]={id:userStat.statName,formattedValue:_this2.computeGameStatsValue(userStat.value,userStat.format,userStat.unit,userStat.statName),iconUrl:null,name:userStat.displayName,ordinal:userStat.ordinal}}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedGameStatsAction__.a(statsById,bySpaceId,ids));case 18:case"end":return _context4.stop()}},_callee4,this)}))}},{key:"computeGameStatsValue",value:function(value,format,unit,stateName){if(!value&&!format&&!stateName)return"0";if(stateName.indexOf("Distance")!==-1)return value?parseFloat(value)/1e3+"km":"0km";switch(format){case __WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.STATS_FORMAT.PERCENTAGE:return value?parseFloat(value)<=1?Math.floor(100*parseFloat(value))+"%":parseFloat(value)>1&&parseFloat(value)<=100?Math.floor(parseFloat(value))+"%":value+"%":"0%";case __WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.STATS_FORMAT.LONG_TIMESPAN:if(!value)return"0 m";if(unit==__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.STATS_UNITS.MILLISECONDS&&parseFloat(value)<6e4||unit==__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.STATS_UNITS.SECONDS&&parseFloat(value)<60||unit==__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.STATS_UNITS.MINUTES&&parseFloat(value)<1||unit==__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.STATS_UNITS.HOURS&&parseFloat(value)<1/60||unit==__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.STATS_UNITS.DAYS&&parseFloat(value)<1/1440)return"< 1 m";switch(unit){case __WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.STATS_UNITS.MILLISECONDS:return this.computeDuration(value,unit,6e4,36e5,36e6);case __WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.STATS_UNITS.SECONDS:return this.computeDuration(value,unit,60,3600,36e3);case __WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.STATS_UNITS.MINUTES:return this.computeDuration(value,unit,1,60,600);case __WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.STATS_UNITS.HOURS:return this.computeDuration(value,unit,1/60,1,10);case __WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.STATS_UNITS.DAYS:return this.computeDuration(value,unit,1/1440,1/60,1/60*10);default:return __WEBPACK_IMPORTED_MODULE_9_moment___default.a.duration(parseFloat(value),unit.toLowerCase()).format("h[h]")}case __WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.STATS_FORMAT.INTEGER:return value?(value=value.replace(/\D/g,""),parseFloat(value)/1e6>=1?Math.floor(parseFloat(value)/1e6)+"M":Math.floor(parseFloat(value)/1e3)>=10&&Math.floor(parseFloat(value)/1e3)<1e3?Math.floor(parseFloat(value)/1e3)+"k":value):"0";case __WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.STATS_FORMAT.DECIMAL:return value?Math.round(100*parseFloat(value))/100:"0";default:return value?value:"0"}}},{key:"computeDuration",value:function(value,unit,lowerValue,middleValue,higherValue){return parseFloat(value)>=lowerValue&&parseFloat(value)<middleValue?__WEBPACK_IMPORTED_MODULE_9_moment___default.a.duration(parseFloat(value),unit.toLowerCase()).format("m[m]"):parseFloat(value)>=middleValue&&parseFloat(value)<higherValue?__WEBPACK_IMPORTED_MODULE_9_moment___default.a.duration(parseFloat(value),unit.toLowerCase()).format("h[h] m[m]"):__WEBPACK_IMPORTED_MODULE_9_moment___default.a.duration(parseFloat(value),unit.toLowerCase()).format("h[h]")}}]),GamesService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);GamesService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.GamesApi,__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.GameConfigApi])],GamesService)},388:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(17));__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__);__webpack_require__.d(exports,"a",function(){return NotificationsService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},NotificationsService=function(_AbstractActions){function NotificationsService(notificationsApi){_classCallCheck(this,NotificationsService);var _this=_possibleConstructorReturn(this,(NotificationsService.__proto__||Object.getPrototypeOf(NotificationsService)).call(this));return _this.notificationsApi=notificationsApi,_this}return _inherits(NotificationsService,_AbstractActions),_createClass(NotificationsService,[{key:"loadNotifications",value:function(){var onOpen=function(ev){console.log("onOpen"),console.log(ev)},onMessage=function(ev){console.log("onMessage"),console.log(ev)},onError=function(ev){console.log("onError"),console.log(ev)},onClose=function(ev){console.log("onClose"),console.log(ev)};this.notificationsApi.connect(onOpen,onMessage,onError,onClose,["beta"])}}]),NotificationsService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);NotificationsService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.NotificationsWebSocketApi])],NotificationsService)},389:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(17)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedRewardsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__),__webpack_require__(166)),__WEBPACK_IMPORTED_MODULE_4_app_modules_authentication_queries_IdentityQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_5_app_selectors__=__webpack_require__(15);__webpack_require__.d(exports,"a",function(){return RewardsService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},RewardsService=function(_AbstractActions){function RewardsService(rewardsApi){_classCallCheck(this,RewardsService);var _this=_possibleConstructorReturn(this,(RewardsService.__proto__||Object.getPrototypeOf(RewardsService)).call(this));return _this.rewardsApi=rewardsApi,_this}return _inherits(RewardsService,_AbstractActions),_createClass(RewardsService,[{key:"loadUserRewards",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var userId,spaceId,mappedRewards,rewardsIds,rewardsPromises,rewards,profileRewards;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return userId=__WEBPACK_IMPORTED_MODULE_4_app_modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),spaceId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_app_selectors__.d)(this.getState()),mappedRewards=[],rewardsIds=[],_context.prev=4,_context.next=7,Promise.all([this.rewardsApi.getRewards(spaceId),this.rewardsApi.getProfileRewards(userId,spaceId)]);case 7:rewardsPromises=_context.sent,rewards=rewardsPromises[0],profileRewards=rewardsPromises[1]||[],mappedRewards=rewards.filter(function(reward){return reward.spaceId===spaceId}).map(function(reward){rewardsIds.push(reward.id);var foundProfileReward=profileRewards.find(function(profileReward){return profileReward.profileId===userId&&profileReward.spaceId===spaceId&&profileReward.id===reward.id});return foundProfileReward?Object.assign({},reward,foundProfileReward):Object.assign({},reward,{condition:reward.condition?reward.condition.replace(/\u00a0/g," "):reward.condition,profileId:userId,units:reward.value,purchased:!1,purchasedDate:null,quantityPurchased:null,requirementsAccomplished:(null==reward.requiredActions||reward.requiredActions.accomplished)&&(null==reward.requiredSpaces||reward.requiredSpaces.accomplished)})}),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedRewardsAction__.a(mappedRewards,rewardsIds)),_context.next=18;break;case 14:_context.prev=14,_context.t0=_context["catch"](4),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedRewardsAction__.a(mappedRewards,rewardsIds)),console.error(_context.t0);case 18:case"end":return _context.stop()}},_callee,this,[[4,14]])}))}}]),RewardsService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);RewardsService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.RewardsApi])],RewardsService)},390:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__actions_ChangeSocialNetworkTabAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(351)),__WEBPACK_IMPORTED_MODULE_3__actions_ToggleMoreFriendsOnPsnAction__=__webpack_require__(375),__WEBPACK_IMPORTED_MODULE_4__actions_ToggleMoreFriendsOnXboxAction__=__webpack_require__(377),__WEBPACK_IMPORTED_MODULE_5__actions_ToggleMoreFriendsOnSteamAction__=__webpack_require__(376),__WEBPACK_IMPORTED_MODULE_6__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_7__stejar_translate__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_8__modules_integrator_configuration_queries_IntegratorConfigurationQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7__stejar_translate__),__webpack_require__(25)),__WEBPACK_IMPORTED_MODULE_9_ubisoft_connect__=__webpack_require__(65),__WEBPACK_IMPORTED_MODULE_10__stejar_utils__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_ubisoft_connect__),__webpack_require__(43)),__WEBPACK_IMPORTED_MODULE_11__queries_SocialNetworkQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10__stejar_utils__),__webpack_require__(382)),__WEBPACK_IMPORTED_MODULE_12__LinkedAccountsService__=__webpack_require__(566),__WEBPACK_IMPORTED_MODULE_13_ubisoft_api__=__webpack_require__(17),__WEBPACK_IMPORTED_MODULE_14__ProfilesService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_13_ubisoft_api__),__webpack_require__(85)),__WEBPACK_IMPORTED_MODULE_15__actions_ErrorLoadingSteamAction__=__webpack_require__(353),__WEBPACK_IMPORTED_MODULE_16__entities_LinkedAccounts__=__webpack_require__(169),__WEBPACK_IMPORTED_MODULE_17__queries_SteamAccountsQueries__=__webpack_require__(383),__WEBPACK_IMPORTED_MODULE_18__actions_LoadingSteamAction__=__webpack_require__(367),__WEBPACK_IMPORTED_MODULE_19__actions_ErrorLoadingXboxAction__=__webpack_require__(354),__WEBPACK_IMPORTED_MODULE_20__actions_LoadingXboxAction__=__webpack_require__(368),__WEBPACK_IMPORTED_MODULE_21__actions_ErrorLoadingPsnAction__=__webpack_require__(352),__WEBPACK_IMPORTED_MODULE_22__actions_LoadingPsnAction__=__webpack_require__(365),__WEBPACK_IMPORTED_MODULE_23__queries_PsnAccountsQueries__=__webpack_require__(381),__WEBPACK_IMPORTED_MODULE_24__queries_XboxAccountsQueries__=__webpack_require__(384),__WEBPACK_IMPORTED_MODULE_25__modules_authentication_queries_IdentityQueries__=__webpack_require__(22);__webpack_require__.d(exports,"a",function(){return SocialNetworkService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},SocialNetworkService=function(_AbstractActions){function SocialNetworkService(ubisoftConnectService,linkedAccountsService,profilesService){_classCallCheck(this,SocialNetworkService);var _this=_possibleConstructorReturn(this,(SocialNetworkService.__proto__||Object.getPrototypeOf(SocialNetworkService)).call(this));return _this.ubisoftConnectService=ubisoftConnectService,_this.linkedAccountsService=linkedAccountsService,_this.profilesService=profilesService,_this}return _inherits(SocialNetworkService,_AbstractActions),_createClass(SocialNetworkService,[{key:"onChangeTab",value:function(tab){tab||(tab="PSN"),this.dispatch(new __WEBPACK_IMPORTED_MODULE_2__actions_ChangeSocialNetworkTabAction__.a(tab))}},{key:"onToggleShowMorenPsn",value:function(toggle){this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_ToggleMoreFriendsOnPsnAction__.a(toggle))}},{key:"onToggleShowMorenXbox",value:function(toggle){this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_ToggleMoreFriendsOnXboxAction__.a(toggle))}},{key:"onToggleShowMorenSteam",value:function(toggle){this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_ToggleMoreFriendsOnSteamAction__.a(toggle))}},{key:"onClickLinkPsn",value:function(){this.onLink("PSN","psn","Login with PSN")}},{key:"onClickLinkXbox",value:function(){this.onLink("XBOX","xbox","Login with Xbox")}},{key:"onLink",value:function(platform,externalLogin,title){var lang=__WEBPACK_IMPORTED_MODULE_7__stejar_translate__.LocaleQueries.getCurrentLocale(this.getState()),env=__WEBPACK_IMPORTED_MODULE_6__modules_configuration_queries_ConfigurationQueries__.a.getEnv(this.getState());env="dev"==env?"uat":env;var connectUrl=this.ubisoftConnectService.getConnectUrl(),appId=__WEBPACK_IMPORTED_MODULE_8__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.getState()),genomeId=__WEBPACK_IMPORTED_MODULE_8__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getGenomeId(this.getState()),formerUserId=__WEBPACK_IMPORTED_MODULE_25__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()),nextUrl=__WEBPACK_IMPORTED_MODULE_6__modules_configuration_queries_ConfigurationQueries__.a.getConfiguration(this.getState()).overlayApplicationUrl+"/logged-in.html?env="+env+"&appId="+appId+"&genomeId="+genomeId+"&lang="+__WEBPACK_IMPORTED_MODULE_7__stejar_translate__.LocaleQueries.getCurrentLocale(this.getState())+"&platform="+platform+"&formerUserId="+formerUserId,loginUrl=connectUrl+"?appId="+appId+"&genomeId="+genomeId+"&lang="+lang+"&externalLogin="+externalLogin+"&nextUrl="+encodeURIComponent(nextUrl);genomeId||(nextUrl=__WEBPACK_IMPORTED_MODULE_6__modules_configuration_queries_ConfigurationQueries__.a.getConfiguration(this.getState()).overlayApplicationUrl+"/logged-in.html?env="+env+"&appId="+appId+"&lang="+__WEBPACK_IMPORTED_MODULE_7__stejar_translate__.LocaleQueries.getCurrentLocale(this.getState())+"&platform="+platform+"&formerUserId="+formerUserId,loginUrl=connectUrl+"?appId="+appId+"&lang="+lang+"&externalLogin="+externalLogin+"&nextUrl="+encodeURIComponent(nextUrl)),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_10__stejar_utils__.popupWindow)(loginUrl,title,500,700)}},{key:"loadSteamFriendsAccounts",value:function(offset,limit){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var steamAccounts,ids,userProfiles,userProfilesIds;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(__WEBPACK_IMPORTED_MODULE_11__queries_SocialNetworkQueries__.a.getIsLinkedWithSteam(this.getState())){_context.next=4;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_15__actions_ErrorLoadingSteamAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_18__actions_LoadingSteamAction__.a((!1))),_context.abrupt("return");case 4:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_18__actions_LoadingSteamAction__.a((!0))),_context.prev=5,_context.next=8,this.linkedAccountsService.loadSteamFriends(offset,limit);case 8:return steamAccounts=_context.sent,ids=steamAccounts.FriendList.Friends.map(function(friend){return friend.steamId}),_context.next=12,this.profilesService.getProfilesByPlatformIdsAndPlatformType(ids,__WEBPACK_IMPORTED_MODULE_13_ubisoft_api__.PLATFORM_TYPE.STEAM);case 12:return userProfiles=_context.sent,userProfilesIds=userProfiles.map(function(item){return item.userId}),_context.next=16,this.profilesService.loadFriendsProfilesByIds(userProfilesIds);case 16:if(0!=offset){_context.next=20;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_15__actions_ErrorLoadingSteamAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_18__actions_LoadingSteamAction__.a((!1))),_context.abrupt("return");case 20:if(!(__WEBPACK_IMPORTED_MODULE_17__queries_SteamAccountsQueries__.a.getNbOfSteamFriendsInList(this.getState())<__WEBPACK_IMPORTED_MODULE_17__queries_SteamAccountsQueries__.a.getNbOfSteamFriends(this.getState()))){_context.next=24;break}return _context.next=23,this.loadSteamFriendsAccounts(offset+__WEBPACK_IMPORTED_MODULE_16__entities_LinkedAccounts__.a,__WEBPACK_IMPORTED_MODULE_16__entities_LinkedAccounts__.a);case 23:return _context.abrupt("return");case 24:_context.next=31;break;case 26:return _context.prev=26,_context.t0=_context["catch"](5),this.dispatch(new __WEBPACK_IMPORTED_MODULE_15__actions_ErrorLoadingSteamAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_18__actions_LoadingSteamAction__.a((!1))),_context.abrupt("return");case 31:case"end":return _context.stop()}},_callee,this,[[5,26]])}))}},{key:"loadXboxFriendsAccounts",value:function(offset,limit){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var steamAccounts,ids,userProfiles,userProfilesIds;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(__WEBPACK_IMPORTED_MODULE_11__queries_SocialNetworkQueries__.a.getIsLinkedWithXbox(this.getState())){_context2.next=4;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_19__actions_ErrorLoadingXboxAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_20__actions_LoadingXboxAction__.a((!1))),_context2.abrupt("return");case 4:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_20__actions_LoadingXboxAction__.a((!0))),_context2.prev=5,_context2.next=8,this.linkedAccountsService.loadXboxFriends(offset,limit);case 8:return steamAccounts=_context2.sent,ids=steamAccounts.Friends.FriendList.map(function(friend){return friend.Xuid}),_context2.next=12,this.profilesService.getProfilesByPlatformIdsAndPlatformType(ids,__WEBPACK_IMPORTED_MODULE_13_ubisoft_api__.PLATFORM_TYPE.XBOX_LIVE);case 12:return userProfiles=_context2.sent,userProfilesIds=userProfiles.map(function(item){return item.userId}),_context2.next=16,this.profilesService.loadFriendsProfilesByIds(userProfilesIds);case 16:if(0!=offset){_context2.next=20;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_19__actions_ErrorLoadingXboxAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_20__actions_LoadingXboxAction__.a((!1))),_context2.abrupt("return");case 20:if(!(__WEBPACK_IMPORTED_MODULE_24__queries_XboxAccountsQueries__.a.getNbOfXboxFriendsInList(this.getState())<__WEBPACK_IMPORTED_MODULE_24__queries_XboxAccountsQueries__.a.getNbOfXboxFriends(this.getState()))){_context2.next=24;break}return _context2.next=23,this.loadXboxFriendsAccounts(offset+__WEBPACK_IMPORTED_MODULE_16__entities_LinkedAccounts__.b,__WEBPACK_IMPORTED_MODULE_16__entities_LinkedAccounts__.b);case 23:return _context2.abrupt("return");case 24:_context2.next=31;break;case 26:return _context2.prev=26,_context2.t0=_context2["catch"](5),this.dispatch(new __WEBPACK_IMPORTED_MODULE_19__actions_ErrorLoadingXboxAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_20__actions_LoadingXboxAction__.a((!1))),_context2.abrupt("return");case 31:case"end":return _context2.stop()}},_callee2,this,[[5,26]])}))}},{key:"loadPlayStationFriendsAccounts",value:function(offset,limit){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var steamAccounts,ids,userProfiles,userProfilesIds;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(__WEBPACK_IMPORTED_MODULE_11__queries_SocialNetworkQueries__.a.getIsLinkedWithPsn(this.getState())){_context3.next=4;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_21__actions_ErrorLoadingPsnAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_22__actions_LoadingPsnAction__.a((!1))),_context3.abrupt("return");case 4:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_22__actions_LoadingPsnAction__.a((!0))),_context3.prev=5,_context3.next=8,this.linkedAccountsService.loadPlayStationFriends(offset,limit);case 8:return steamAccounts=_context3.sent,ids=steamAccounts.Friends.FriendList.map(function(friend){return friend.OnlineId}),_context3.next=12,this.profilesService.loadMyFriendProfilesByUserNameAndPlatforms(ids,__WEBPACK_IMPORTED_MODULE_13_ubisoft_api__.PLATFORM_TYPE.PSN);case 12:return userProfiles=_context3.sent,userProfilesIds=userProfiles.map(function(item){return item.userId}),_context3.next=16,this.profilesService.loadFriendsProfilesByIds(userProfilesIds);case 16:if(0!=offset){_context3.next=20;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_21__actions_ErrorLoadingPsnAction__.a((!1))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_22__actions_LoadingPsnAction__.a((!1))),_context3.abrupt("return");case 20:if(!(__WEBPACK_IMPORTED_MODULE_23__queries_PsnAccountsQueries__.a.getNbOfPsnFriendsInList(this.getState())<__WEBPACK_IMPORTED_MODULE_23__queries_PsnAccountsQueries__.a.getNbOfPsnFriends(this.getState()))){_context3.next=24;break}return _context3.next=23,this.loadPlayStationFriendsAccounts(offset+__WEBPACK_IMPORTED_MODULE_16__entities_LinkedAccounts__.c,__WEBPACK_IMPORTED_MODULE_16__entities_LinkedAccounts__.c);case 23:return _context3.abrupt("return");case 24:_context3.next=31;break;case 26:return _context3.prev=26,_context3.t0=_context3["catch"](5),this.dispatch(new __WEBPACK_IMPORTED_MODULE_21__actions_ErrorLoadingPsnAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_22__actions_LoadingPsnAction__.a((!1))),_context3.abrupt("return");case 31:case"end":return _context3.stop()}},_callee3,this,[[5,26]])}))}}]),SocialNetworkService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);SocialNetworkService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_9_ubisoft_connect__.UbisoftConnectService,__WEBPACK_IMPORTED_MODULE_12__LinkedAccountsService__.a,__WEBPACK_IMPORTED_MODULE_14__ProfilesService__.a])],SocialNetworkService)},391:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedGameStatsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(162));__webpack_require__.d(exports,"a",function(){return GamesStatsStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;
},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},GamesStatsStore=function(_ReducerStore){function GamesStatsStore(){_classCallCheck(this,GamesStatsStore);var _this=_possibleConstructorReturn(this,(GamesStatsStore.__proto__||Object.getPrototypeOf(GamesStatsStore)).call(this));return _this.bind(null,function(){return{byId:{},bySpaceId:{},ids:[]}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedGameStatsAction__.a.name,_this.handleLoadedGameStatsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this}return _inherits(GamesStatsStore,_ReducerStore),_createClass(GamesStatsStore,[{key:"handleLoggedOutAction",value:function(state,action){return{byId:{},bySpaceId:{},ids:[]}}},{key:"handleLoadedGameStatsAction",value:function(state,action){return Object.assign({},state,{byId:Object.assign({},state.byId,action.stats),bySpaceId:Object.assign({},state.bySpaceId,action.bySpaceId),ids:state.ids.filter(function(id){return!action.ids.includes(id)}).concat(action.ids)})}}]),GamesStatsStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);GamesStatsStore.getState=function(state){return state.GamesStatsStore},GamesStatsStore.getById=function(state){return state.GamesStatsStore.byId},GamesStatsStore.getIds=function(state){return state.GamesStatsStore.ids},GamesStatsStore.getBySpaceId=function(state){return state.GamesStatsStore.bySpaceId},GamesStatsStore.loaded=function(state){return state.LoadersStore.GamesStats},GamesStatsStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],GamesStatsStore)},392:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_3_app_actions_UserEmailVerificationAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(168));__webpack_require__.d(exports,"a",function(){return UserEmailVerificationStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},UserEmailVerificationStore=function(_ReducerStore){function UserEmailVerificationStore(){_classCallCheck(this,UserEmailVerificationStore);var _this=_possibleConstructorReturn(this,(UserEmailVerificationStore.__proto__||Object.getPrototypeOf(UserEmailVerificationStore)).call(this));return _this.bind(null,function(){return{showUserEmailVerificationButton:!1,isEmailVerificationSent:!1}}),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3_app_actions_UserEmailVerificationAction__.a.name,_this.handleUserEmailVerificationAction),_this}return _inherits(UserEmailVerificationStore,_ReducerStore),_createClass(UserEmailVerificationStore,[{key:"handleLoggedOutAction",value:function(state,action){return{showUserEmailVerificationButton:!1,isEmailVerificationSent:!1}}},{key:"handleUserEmailVerificationAction",value:function(state,action){return Object.assign({},state,{showUserEmailVerificationButton:action.showUserEmailVerificationButton,isEmailVerificationSent:action.isEmailVerificationSent})}}]),UserEmailVerificationStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);UserEmailVerificationStore.getState=function(state){return state.UserEmailVerificationStore},UserEmailVerificationStore.getShowUserEmailVerificationButton=function(state){return state.UserEmailVerificationStore.showUserEmailVerificationButton},UserEmailVerificationStore.getIsEmailVerificationSent=function(state){return state.UserEmailVerificationStore.isEmailVerificationSent},UserEmailVerificationStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],UserEmailVerificationStore)},42:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_utils__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(43)),__WEBPACK_IMPORTED_MODULE_3__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_utils__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_4_app_modules_integrator_configuration_services_IntegratorConfigurationService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_authentication__),__webpack_require__(553)),__WEBPACK_IMPORTED_MODULE_5_messages__=__webpack_require__(51),__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__=__webpack_require__(58),__WEBPACK_IMPORTED_MODULE_7_app_actions_ShowFriendsActivityAction__=__webpack_require__(371),__WEBPACK_IMPORTED_MODULE_8_app_actions_HideFriendsActivityAction__=__webpack_require__(355),__WEBPACK_IMPORTED_MODULE_9_app_modules_pageLoader_services_PageLoaderService__=__webpack_require__(103),__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_11_app_actions_ResizeWidgetAction__=__webpack_require__(369),__WEBPACK_IMPORTED_MODULE_12__stejar_translate__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_13_app_modules_tagCommander_services_TagCommanderService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12__stejar_translate__),__webpack_require__(66)),__WEBPACK_IMPORTED_MODULE_14_app_services_GamesService__=__webpack_require__(387),__WEBPACK_IMPORTED_MODULE_15_app_services_RewardsService__=__webpack_require__(389),__WEBPACK_IMPORTED_MODULE_16_app_actions_LoadingRewardsAction__=__webpack_require__(366),__WEBPACK_IMPORTED_MODULE_17_app_actions_LoadingGameStatsAction__=__webpack_require__(363),__WEBPACK_IMPORTED_MODULE_18_app_selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_19_app_actions_ShowMobileTabsAction__=__webpack_require__(372),__WEBPACK_IMPORTED_MODULE_20_app_actions_HideMobileTabsAction__=__webpack_require__(356),__WEBPACK_IMPORTED_MODULE_21_app_actions_ToggleOnClickActiveMenuAction__=__webpack_require__(378),__WEBPACK_IMPORTED_MODULE_22_app_actions_ChangeLastPlayedGameAction__=__webpack_require__(348),__WEBPACK_IMPORTED_MODULE_23_app_actions_LoadingGamesAction__=__webpack_require__(364),__WEBPACK_IMPORTED_MODULE_24_app_modules_integrator_communication_services_WidgetService__=__webpack_require__(552),__WEBPACK_IMPORTED_MODULE_25_spark_overlay__=__webpack_require__(50),__WEBPACK_IMPORTED_MODULE_26_app_services_ProfilesService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_25_spark_overlay__),__webpack_require__(85)),__WEBPACK_IMPORTED_MODULE_27_app_services_FriendsService__=__webpack_require__(104),__WEBPACK_IMPORTED_MODULE_28_app_actions_HideAddFriendsAction__=__webpack_require__(115),__WEBPACK_IMPORTED_MODULE_29_app_actions_LoadingAddFriendsAction__=__webpack_require__(119),__WEBPACK_IMPORTED_MODULE_30_app_actions_HideNotificationsPanelAction__=__webpack_require__(357),__WEBPACK_IMPORTED_MODULE_31_app_actions_ShowNotificationsPanelAction__=__webpack_require__(373),__WEBPACK_IMPORTED_MODULE_32_app_services_NotificationsService__=__webpack_require__(388),__WEBPACK_IMPORTED_MODULE_33_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_34__stejar_configuration__=__webpack_require__(68),__WEBPACK_IMPORTED_MODULE_35__stejar_http__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_34__stejar_configuration__),__webpack_require__(73)),__WEBPACK_IMPORTED_MODULE_36_ubisoft_connect__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_35__stejar_http__),__webpack_require__(65)),__WEBPACK_IMPORTED_MODULE_37_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_36_ubisoft_connect__),__webpack_require__(17)),__WEBPACK_IMPORTED_MODULE_38_app_modules_configuration_adapters_ConnectConfigurationAdapter__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_37_ubisoft_api__),__webpack_require__(170)),__WEBPACK_IMPORTED_MODULE_39_app_actions_LoadedEnvAction__=__webpack_require__(359),__WEBPACK_IMPORTED_MODULE_40_app_modules_configuration_queries_ConfigurationQueries__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_41_app_actions_ToggleVisitedNotificationsAction__=__webpack_require__(530),__WEBPACK_IMPORTED_MODULE_42__actions_SelectArabLanguageAction__=__webpack_require__(167),__WEBPACK_IMPORTED_MODULE_43__actions_DeselectArabLanguageAction__=__webpack_require__(155),__WEBPACK_IMPORTED_MODULE_44__messages__=__webpack_require__(51),__WEBPACK_IMPORTED_MODULE_45__actions_ResizeWidgetHeightAction__=__webpack_require__(370),__WEBPACK_IMPORTED_MODULE_46__FriendsCommunicationService__=__webpack_require__(102);__webpack_require__.d(exports,"a",function(){return CommunicationService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},CommunicationService=function(_AbstractActions){function CommunicationService(integratorConfigurationService,pageLoaderService,authenticationService,translatorService,gamesService,rewardsService,tagCommanderService,notificationsService,profilesService,friendsService,service,apiConfiguration,connectConfiguration,ubisoftConnectService,friendsCommunicationService){_classCallCheck(this,CommunicationService);var _this=_possibleConstructorReturn(this,(CommunicationService.__proto__||Object.getPrototypeOf(CommunicationService)).call(this));return _this.integratorConfigurationService=integratorConfigurationService,_this.pageLoaderService=pageLoaderService,_this.authenticationService=authenticationService,_this.translatorService=translatorService,_this.gamesService=gamesService,_this.rewardsService=rewardsService,_this.tagCommanderService=tagCommanderService,_this.notificationsService=notificationsService,_this.profilesService=profilesService,_this.friendsService=friendsService,_this.service=service,_this.apiConfiguration=apiConfiguration,_this.connectConfiguration=connectConfiguration,_this.ubisoftConnectService=ubisoftConnectService,_this.friendsCommunicationService=friendsCommunicationService,_this.channel=new __WEBPACK_IMPORTED_MODULE_2__stejar_utils__.Channel(window.self.location.href.split("?owner=")[1]||"*",window.self.parent,(!1)),_this.windowsHeight=null,_this}return _inherits(CommunicationService,_AbstractActions),_createClass(CommunicationService,[{key:"startCommunication",value:function(){var _this2=this;return new Promise(function(resolve){if(_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_BOOTSTRAP,function(configuration){return _this2.integratorConfigurationService.loadConfiguration(configuration),_this2.hideAllTabs(),resolve()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_HANDLE_BACKDROP_CLICK,function(){_this2.hideFriends(),_this2.hidePlayerCard(),_this2.hideNotifications()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_COLLAPSE,function(){_this2.hidePlayerCard(),_this2.hideFriends(),_this2.hideNotifications()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_EXPAND_FRIENDS,function(){return _this2.showFriends()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_EXPAND_PLAYER_CARD,function(){return _this2.showPlayerCard()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_EXPAND_NOTIFICATIONS,function(){return _this2.showNotifications()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_RESIZED_WINDOW,function(payload){return _this2.addMobileClass(payload)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_CHANGE_LOCALE,function(locale){return _this2.changeLocale(locale)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_CHANGE_GAME,function(spaceId){return _this2.changeLastPlayedGame(spaceId)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_CHANGE_TRACKING_SITE_SECTION,function(siteSection){return _this2.changeTrackingSiteSection(siteSection)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_RE_INIT,function(siteSection){return _this2.reInit()}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_CHANGE_ENV,function(env){return _this2.changeEnv(env)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_CHANGE_FRIEND_PROFILE_TYPE,function(type){return _this2.changeFriendsProfileType(type)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_CHANGE_LOGIN_TYPE,function(type){return _this2.changeLoginType(type)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_CHANGE_DARK_BACKGROUND,function(toggle){return _this2.handleToggleDarkBackground(toggle)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_TOGGLE_DESKTOP_RESIZE,function(toggle){return _this2.toggleDesktopResize(toggle)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_TOGGLE_SIGN_IN_TEXT,function(toggle){return _this2.toggleSignInText(toggle)}),_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_GET_TICKET,function(){return _this2.getTicket()}),_this2.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_INITIALIZE),window.parent.parent===window)return resolve()})}},{key:"clickedOnLogout",value:function(noPageLoaderEvents){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var env;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(env=__WEBPACK_IMPORTED_MODULE_40_app_modules_configuration_queries_ConfigurationQueries__.a.getCurrentEnv(this.state),this.hidePlayerCard(),this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_LOGGED_OUT),noPageLoaderEvents){_context.next=6;break}return _context.next=6,this.pageLoaderService.showPageLoader();case 6:return _context.prev=6,_context.next=9,this.authenticationService.logout();case 9:_context.next=14;break;case 11:_context.prev=11,_context.t0=_context["catch"](6),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__stejar_authentication__.LoggedOutAction);case 14:return _context.prev=14,_context.next=17,this.authenticationService.logout();case 17:_context.next=22;break;case 19:_context.prev=19,_context.t1=_context["catch"](14),this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__stejar_authentication__.LoggedOutAction);case 22:try{window.clearCache.purge()}catch(e){}if(this.dispatch(new __WEBPACK_IMPORTED_MODULE_39_app_actions_LoadedEnvAction__.a(env)),noPageLoaderEvents){_context.next=28;break}return _context.next=27,this.pageLoaderService.hidePageLoader();case 27:return _context.abrupt("return",_context.sent);case 28:case"end":return _context.stop()}},_callee,this,[[6,11],[14,19]])}))}},{key:"loggedIn",value:function(identity,afterLogin,isReInit){"boolean"!=typeof isReInit&&(isReInit=!1),this.hidePlayerCard(),afterLogin&&this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_LOGGED_IN,{isReInit:isReInit,identity:identity})}},{key:"clickedOnFriends",value:function(){return __WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowFriends(this.getState())?this.hideFriends():(this.tagCommanderService.trackEvent("Nav - Ubibar - Friends Panel","Overlay"),this.showFriends())}},{key:"clickedOnMobileFriends",value:function(){var _this3=this;if(!__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowFriends(this.getState()))return this.dispatch(new __WEBPACK_IMPORTED_MODULE_21_app_actions_ToggleOnClickActiveMenuAction__.a((!0))),setTimeout(function(){_this3.dispatch(new __WEBPACK_IMPORTED_MODULE_21_app_actions_ToggleOnClickActiveMenuAction__.a((!1)))},500),this.tagCommanderService.trackEvent("Nav - Ubibar - Friends Panel","Overlay"),this.showFriends()}},{key:"clickedOnPlayerCard",value:function(){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_25_spark_overlay__.isActive$)(this.getState())?this.hidePlayerCard():(this.tagCommanderService.trackEvent("Nav - Ubibar - Open User Panel","Overlay"),this.showPlayerCard())}},{key:"clickedOnMobilePlayerCardTab",value:function(){var _this4=this;if(!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_25_spark_overlay__.isActive$)(this.getState()))return this.dispatch(new __WEBPACK_IMPORTED_MODULE_21_app_actions_ToggleOnClickActiveMenuAction__.a((!0))),setTimeout(function(){_this4.dispatch(new __WEBPACK_IMPORTED_MODULE_21_app_actions_ToggleOnClickActiveMenuAction__.a((!1)))},500),this.tagCommanderService.trackEvent("Nav - Ubibar - Open User Panel","Overlay"),this.showPlayerCard()}},{key:"clickedOnMobilePlayerCard",value:function(){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_25_spark_overlay__.isActive$)(this.getState())||__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowFriends(this.getState())||__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowNotifications(this.getState())?(this.dispatch(new __WEBPACK_IMPORTED_MODULE_20_app_actions_HideMobileTabsAction__.a),this.hideMobileTabs(),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_25_spark_overlay__.isActive$)(this.getState())&&this.hidePlayerCard(),__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowFriends(this.getState())&&this.hideFriends(),void(__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowNotifications(this.getState())&&this.hideNotifications())):(this.tagCommanderService.trackEvent("Nav - Ubibar - Open User Panel","Overlay"),this.showPlayerCard())}},{key:"clickedOnNotifications",value:function(){return __WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowNotifications(this.getState())?this.hideNotifications():(this.tagCommanderService.trackEvent("Nav - Ubibar - Notifications Panel","Overlay"),this.showNotifications())}},{key:"clickedOnMobileNotifications",value:function(){var _this5=this;if(!__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowNotifications(this.getState()))return this.dispatch(new __WEBPACK_IMPORTED_MODULE_21_app_actions_ToggleOnClickActiveMenuAction__.a((!0))),setTimeout(function(){_this5.dispatch(new __WEBPACK_IMPORTED_MODULE_21_app_actions_ToggleOnClickActiveMenuAction__.a((!1)))},500),this.tagCommanderService.trackEvent("Nav - Ubibar - Notifications Panel","Club Overlay"),this.showNotifications()}},{key:"clickedOnMenu",value:function(){return this.dispatch(new __WEBPACK_IMPORTED_MODULE_20_app_actions_HideMobileTabsAction__.a),this.hideMobileTabs(),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_25_spark_overlay__.isActive$)(this.getState())?this.hidePlayerCard():__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowFriends(this.getState())?this.hideFriends():__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowNotifications(this.getState())?this.hideNotifications():void 0}},{key:"clickedOnClosePlayerCard",value:function(){return this.hidePlayerCard()}},{key:"clickedOnCloseFriends",value:function(){return this.hideFriends()}},{key:"clickedOnCloseNotifications",value:function(){return this.hideNotifications()}},{key:"doShowFriends",value:function(){this.dispatch(new __WEBPACK_IMPORTED_MODULE_7_app_actions_ShowFriendsActivityAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_19_app_actions_ShowMobileTabsAction__.a),this.showBackdrop(),this.expand(__WEBPACK_IMPORTED_MODULE_5_messages__.c.FRIENDS),this.friendsCommunicationService.onExpandFriends(),this.showMobileTabs()}},{key:"showFriends",value:function(){__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.hasIdentity(this.getState())&&(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_25_spark_overlay__.isActive$)(this.getState())&&this.hidePlayerCard(!0),__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowNotifications(this.getState())&&this.hideNotifications(!0),this.doShowFriends())}},{key:"hideFriends",value:function(shouldNotCollapse){__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowFriends(this.getState())&&(this.dispatch(new __WEBPACK_IMPORTED_MODULE_8_app_actions_HideFriendsActivityAction__.a),shouldNotCollapse||(this.hideBackdrop(),this.collapse()))}},{key:"doShowPlayerCard",value:function(){this.dispatch(new __WEBPACK_IMPORTED_MODULE_25_spark_overlay__.OverlayOpenEvent),this.dispatch(new __WEBPACK_IMPORTED_MODULE_19_app_actions_ShowMobileTabsAction__.a),this.showBackdrop(),this.expand(__WEBPACK_IMPORTED_MODULE_5_messages__.c.PLAYER_CARD),this.showMobileTabs()}},{key:"showPlayerCard",value:function(){__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.hasIdentity(this.getState())&&(__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowFriends(this.getState())&&this.hideFriends(!0),__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowNotifications(this.getState())&&this.hideNotifications(!0),this.doShowPlayerCard())}},{key:"hidePlayerCard",value:function(shouldNotCollapse){__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_25_spark_overlay__.isActive$)(this.getState())&&(this.dispatch(new __WEBPACK_IMPORTED_MODULE_25_spark_overlay__.OverlayCloseEvent),shouldNotCollapse||(this.hideBackdrop(),this.collapse()))}},{key:"doShowNotifications",value:function(){this.dispatch(new __WEBPACK_IMPORTED_MODULE_31_app_actions_ShowNotificationsPanelAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_19_app_actions_ShowMobileTabsAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_41_app_actions_ToggleVisitedNotificationsAction__.a((!0))),this.showBackdrop(),this.expand(__WEBPACK_IMPORTED_MODULE_5_messages__.c.NOTIFICATIONS),this.showMobileTabs()}},{key:"showNotifications",value:function(){__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.hasIdentity(this.getState())&&(__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowFriends(this.getState())&&this.hideFriends(!0),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_25_spark_overlay__.isActive$)(this.getState())&&this.hidePlayerCard(!0),this.doShowNotifications())}},{key:"hideNotifications",value:function(shouldNotCollapse){__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowNotifications(this.getState())&&(this.dispatch(new __WEBPACK_IMPORTED_MODULE_30_app_actions_HideNotificationsPanelAction__.a),shouldNotCollapse||(this.hideBackdrop(),this.collapse()))}},{key:"hideAllTabs",value:function(){this.dispatch(new __WEBPACK_IMPORTED_MODULE_25_spark_overlay__.OverlayCloseEvent),this.dispatch(new __WEBPACK_IMPORTED_MODULE_8_app_actions_HideFriendsActivityAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_30_app_actions_HideNotificationsPanelAction__.a),this.hideBackdrop(),this.collapse(),this.hideMobileTabs()}},{key:"showBackdrop",value:function(){return this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_SHOW_BACKDROP)}},{key:"hideBackdrop",value:function(){this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_HIDE_BACKDROP)}},{key:"expand",value:function(panel){return this.handleExpandIframe(panel),this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_EXPAND)}},{key:"collapse",value:function(){this.dispatch(new __WEBPACK_IMPORTED_MODULE_29_app_actions_LoadingAddFriendsAction__.a((!1),null)),this.dispatch(new __WEBPACK_IMPORTED_MODULE_28_app_actions_HideAddFriendsAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_20_app_actions_HideMobileTabsAction__.a),this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_COLLAPSE),this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_CHANGE_IFRAME_HEIGHT,null)}},{key:"showMobileTabs",value:function(){this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_SHOW_MOBILE_TABS)}},{key:"hideMobileTabs",value:function(){this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_HIDE_MOBILE_TABS)}},{key:"addMobileClass",value:function(windowSize){return windowSize.innerWidth<=__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_RESIZE_WIDTH||windowSize.innerWidth<=__WEBPACK_IMPORTED_MODULE_5_messages__.a.WIDGET_MOBILE_WIDTH&&windowSize.innerHeight<windowSize.innerWidth&&__WEBPACK_IMPORTED_MODULE_24_app_modules_integrator_communication_services_WidgetService__.a.isMobileDevice()?this.dispatch(new __WEBPACK_IMPORTED_MODULE_11_app_actions_ResizeWidgetAction__.a((!0))):this.dispatch(new __WEBPACK_IMPORTED_MODULE_11_app_actions_ResizeWidgetAction__.a((!1))),__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowMobileTabs(this.state)&&this.showMobileTabs(),this.windowsHeight=windowSize.innerHeight,this.resizeHight(windowSize.innerHeight,windowSize.iframeHeight,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_25_spark_overlay__.isActive$)(this.getState())),this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_RESIZE,{windowSize:windowSize.innerWidth,isInExpandedMode:__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_25_spark_overlay__.isActive$)(this.getState())||__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowNotifications(this.getState())||__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowFriends(this.getState()),showSignInText:__WEBPACK_IMPORTED_MODULE_33_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getConfiguration(this.state).showSignInText,locale:__WEBPACK_IMPORTED_MODULE_12__stejar_translate__.LocaleQueries.getCurrentLocale(this.getState())})}},{key:"openLoginModal",value:function(connectIFrameUrl){this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_OPEN_LOGIN_MODAL,connectIFrameUrl)}},{key:"changeLocale",value:function(locale){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return"ar-AE"===locale?this.dispatch(new __WEBPACK_IMPORTED_MODULE_42__actions_SelectArabLanguageAction__.a):this.dispatch(new __WEBPACK_IMPORTED_MODULE_43__actions_DeselectArabLanguageAction__.a),_context2.prev=1,_context2.next=4,this.translatorService.loadLocale(locale);case 4:_context2.next=9;break;case 6:_context2.prev=6,_context2.t0=_context2["catch"](1),locale="en-GB";case 9:if(this.translatorService.changeLocale(locale),this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_CHANGE_LOCALE,{locale:locale,
showSignInText:__WEBPACK_IMPORTED_MODULE_33_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getConfiguration(this.state).showSignInText}),!__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.hasIdentity(this.getState())||!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_18_app_selectors__.j)(this.getState())){_context2.next=16;break}return this.dispatch(new __WEBPACK_IMPORTED_MODULE_17_app_actions_LoadingGameStatsAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_16_app_actions_LoadingRewardsAction__.a),_context2.next=16,Promise.all([this.gamesService.loadMyLastPlayedGameStats(),this.rewardsService.loadUserRewards()]);case 16:case"end":return _context2.stop()}},_callee2,this,[[1,6]])}))}},{key:"changeTrackingSiteSection",value:function(siteSection){this.tagCommanderService.changeTrackingSiteSection(siteSection)}},{key:"changeLastPlayedGame",value:function(spaceId){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_23_app_actions_LoadingGamesAction__.a((!0))),this.dispatch(new __WEBPACK_IMPORTED_MODULE_17_app_actions_LoadingGameStatsAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_16_app_actions_LoadingRewardsAction__.a),this.dispatch(new __WEBPACK_IMPORTED_MODULE_22_app_actions_ChangeLastPlayedGameAction__.a(spaceId?spaceId:null)),_context3.next=6,new Promise(function(resolve){return setTimeout(function(){return resolve()},100)});case 6:return this.dispatch(new __WEBPACK_IMPORTED_MODULE_23_app_actions_LoadingGamesAction__.a((!1))),_context3.next=9,Promise.all([this.gamesService.loadMyLastPlayedGameStats(),this.rewardsService.loadUserRewards()]);case 9:case"end":return _context3.stop()}},_callee3,this)}))}},{key:"reInit",value:function(){if(!__WEBPACK_IMPORTED_MODULE_3__stejar_authentication__.AuthenticationQueries.hasIdentity(this.state)){var channel=new __WEBPACK_IMPORTED_MODULE_2__stejar_utils__.Channel("*");channel.send("ubisoftConnect@RE_INIT",!0)}}},{key:"changeEnv",value:function(env,justResetConfig){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(env){_context4.next=2;break}return _context4.abrupt("return");case 2:justResetConfig&&this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_ENV_LOADED,__WEBPACK_IMPORTED_MODULE_40_app_modules_configuration_queries_ConfigurationQueries__.a.getCurrentEnv(this.state)),_context4.t0=env,_context4.next="uat"===_context4.t0?6:"dev"===_context4.t0?6:"prod"===_context4.t0?6:"cert2"===_context4.t0?6:9;break;case 6:return _context4.next=8,this.resetSateForConfigChange(new __WEBPACK_IMPORTED_MODULE_35__stejar_http__.HttpRequest(__webpack_require__(525)("./"+env+".json")),justResetConfig);case 8:return _context4.abrupt("return");case 9:return _context4.next=11,this.resetSateForConfigChange(new __WEBPACK_IMPORTED_MODULE_35__stejar_http__.HttpRequest(__webpack_require__(417)),justResetConfig);case 11:return _context4.abrupt("return");case 12:case"end":return _context4.stop()}},_callee4,this)}))}},{key:"resetSateForConfigChange",value:function(request,justResetConfig){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){var configCall;return regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(!justResetConfig){_context5.next=4;break}return _context5.next=3,this.loadConfig(request);case 3:return _context5.abrupt("return",_context5.sent);case 4:return _context5.next=6,this.pageLoaderService.showPageLoader();case 6:if(!__WEBPACK_IMPORTED_MODULE_3__stejar_authentication__.AuthenticationQueries.hasIdentity(this.state)){_context5.next=9;break}return _context5.next=9,this.clickedOnLogout(!0);case 9:return _context5.next=11,this.loadConfig(request);case 11:return configCall=_context5.sent,_context5.next=14,this.pageLoaderService.hidePageLoader();case 14:return _context5.abrupt("return",configCall);case 15:case"end":return _context5.stop()}},_callee5,this)}))}},{key:"loadConfig",value:function(request){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee6(){var config,_this6=this;return regeneratorRuntime.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return config=__WEBPACK_IMPORTED_MODULE_34__stejar_configuration__.ConfigurationQueries.getConfiguration(this.state),_context6.next=3,this.service.send(request).then(function(response){return JSON.parse(response.data.replace("module.exports = ","").replace("};","}"))}).then(function(newConfig){_this6.dispatch(new __WEBPACK_IMPORTED_MODULE_34__stejar_configuration__.LoadedConfigurationAction(Object.assign({},newConfig,{overlayApplicationUrl:config.overlayApplicationUrl,assetsUrl:config.assetsUrl}))),_this6.dispatch(new __WEBPACK_IMPORTED_MODULE_39_app_actions_LoadedEnvAction__.a(newConfig.env)),_this6.apiConfiguration.changeConfig(newConfig.apiEnv),_this6.connectConfiguration.changeConfig(newConfig.connectEnv),_this6.ubisoftConnectService.resetScriptLoading()});case 3:return _context6.abrupt("return",_context6.sent);case 4:case"end":return _context6.stop()}},_callee6,this)}))}},{key:"changeFriendsProfileType",value:function(type){var config=__WEBPACK_IMPORTED_MODULE_33_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getConfiguration(this.state);config=Object.assign({},config,{clickFriendsProfileType:type}),this.integratorConfigurationService.loadConfiguration(config)}},{key:"handleExpandIframe",value:function(panel,height){var _this7=this,collapsedHeight=__WEBPACK_IMPORTED_MODULE_33_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getConfiguration(this.state).height||50;if(panel==__WEBPACK_IMPORTED_MODULE_5_messages__.c.PLAYER_CARD&&__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_25_spark_overlay__.isActive$)(this.getState())){var iframeLength=document.getElementsByClassName("menu_user-panel")[0].getElementsByClassName("content")[0].clientHeight;return height&&(iframeLength=height),__WEBPACK_IMPORTED_MODULE_33_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getIsInDesktopResize(this.state)&&(iframeLength+=48),setTimeout(function(){_this7.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_CHANGE_IFRAME_HEIGHT,document.getElementsByClassName("menu_user-panel").length?iframeLength:null)},350),void this.resizeHight(this.windowsHeight,iframeLength+collapsedHeight,!0)}if(panel==__WEBPACK_IMPORTED_MODULE_5_messages__.c.FRIENDS&&__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowFriends(this.getState())){var _iframeLength=document.getElementsByClassName("menu_friends-panel")[0].clientHeight;return height&&(_iframeLength=height),__WEBPACK_IMPORTED_MODULE_33_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getIsInDesktopResize(this.state)&&(_iframeLength+=54),setTimeout(function(){_this7.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_CHANGE_IFRAME_HEIGHT,document.getElementsByClassName("menu_friends-panel").length?_iframeLength:null)},350),void this.resizeHight(this.windowsHeight,this.windowsHeight<_iframeLength+collapsedHeight?_iframeLength+collapsedHeight:_iframeLength,!1)}if(panel==__WEBPACK_IMPORTED_MODULE_5_messages__.c.NOTIFICATIONS&&__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getShowNotifications(this.getState())){var _iframeLength2=document.getElementsByClassName("menu_notifications-panel")[0].clientHeight;return height&&(_iframeLength2=height),__WEBPACK_IMPORTED_MODULE_33_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getIsInDesktopResize(this.state)&&(_iframeLength2+=54),setTimeout(function(){_this7.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_CHANGE_IFRAME_HEIGHT,document.getElementsByClassName("menu_notifications-panel").length?_iframeLength2:null)},350),void this.resizeHight(this.windowsHeight,this.windowsHeight<_iframeLength2+collapsedHeight?_iframeLength2+collapsedHeight:_iframeLength2,!1)}}},{key:"changeLoginType",value:function(type){var config=__WEBPACK_IMPORTED_MODULE_33_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getConfiguration(this.state);config=Object.assign({},config,{loginExternalType:type}),this.integratorConfigurationService.loadConfiguration(config)}},{key:"toggleSignInText",value:function(toggle){var showSignInText=toggle?toggle:__WEBPACK_IMPORTED_MODULE_44__messages__.b.DEFAULT,config=__WEBPACK_IMPORTED_MODULE_33_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getConfiguration(this.state);config=Object.assign({},config,{showSignInText:showSignInText}),this.integratorConfigurationService.loadConfiguration(config)}},{key:"handleToggleDarkBackground",value:function(toggle){var config=__WEBPACK_IMPORTED_MODULE_33_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getConfiguration(this.state),darkBackground="false"!==toggle;darkBackground="true"===toggle,config=Object.assign({},config,{darkBackground:darkBackground}),this.integratorConfigurationService.loadConfiguration(config)}},{key:"toggleDesktopResize",value:function(toggle){var isInDesktopResize="false"!=toggle;isInDesktopResize="true"==toggle;var config=__WEBPACK_IMPORTED_MODULE_33_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getConfiguration(this.state);config=Object.assign({},config,{isInDesktopResize:isInDesktopResize}),this.integratorConfigurationService.loadConfiguration(config)}},{key:"resizeHight",value:function(innerHeight,iframeHeight,isUserPanel){if(innerHeight<iframeHeight){var widgetColapsedHeight=__WEBPACK_IMPORTED_MODULE_33_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getConfiguration(this.state).height?__WEBPACK_IMPORTED_MODULE_33_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getConfiguration(this.state).height:50,height="calc("+innerHeight+"px - "+widgetColapsedHeight+"px)",checkHeight=633+widgetColapsedHeight;__WEBPACK_IMPORTED_MODULE_33_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getIsInDesktopResize(this.state)&&(height="calc("+innerHeight+"px - "+widgetColapsedHeight+"px - 4.8rem)",checkHeight+=48),isUserPanel&&iframeHeight>checkHeight&&innerHeight>checkHeight&&(height="63.3rem"),this.dispatch(new __WEBPACK_IMPORTED_MODULE_45__actions_ResizeWidgetHeightAction__.a(height))}else this.dispatch(new __WEBPACK_IMPORTED_MODULE_45__actions_ResizeWidgetHeightAction__.a(null))}},{key:"getTicket",value:function(){var object={op:"getTicket"};__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.hasIdentity(this.getState())?(object.status="OK",object.ticket=__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).ticket,__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).token&&(object.token=__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).token),object.user_id=__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).user_id,object.session_id=__WEBPACK_IMPORTED_MODULE_10_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.getState()).sessionId,object.nameOnPlatform=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_18_app_selectors__.k)(this.getState())):object.status="NO",this.channel.send(__WEBPACK_IMPORTED_MODULE_5_messages__.a.INTEGRATOR_GET_TICKET,object)}}]),CommunicationService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);CommunicationService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_4_app_modules_integrator_configuration_services_IntegratorConfigurationService__.a,__WEBPACK_IMPORTED_MODULE_9_app_modules_pageLoader_services_PageLoaderService__.a,__WEBPACK_IMPORTED_MODULE_3__stejar_authentication__.AuthenticationService,__WEBPACK_IMPORTED_MODULE_12__stejar_translate__.TranslatorService,__WEBPACK_IMPORTED_MODULE_14_app_services_GamesService__.a,__WEBPACK_IMPORTED_MODULE_15_app_services_RewardsService__.a,__WEBPACK_IMPORTED_MODULE_13_app_modules_tagCommander_services_TagCommanderService__.a,__WEBPACK_IMPORTED_MODULE_32_app_services_NotificationsService__.a,__WEBPACK_IMPORTED_MODULE_26_app_services_ProfilesService__.a,__WEBPACK_IMPORTED_MODULE_27_app_services_FriendsService__.a,__WEBPACK_IMPORTED_MODULE_35__stejar_http__.HttpService,__WEBPACK_IMPORTED_MODULE_37_ubisoft_api__.ApiConfigurationService,__WEBPACK_IMPORTED_MODULE_38_app_modules_configuration_adapters_ConnectConfigurationAdapter__.a,__WEBPACK_IMPORTED_MODULE_36_ubisoft_connect__.UbisoftConnectService,__WEBPACK_IMPORTED_MODULE_46__FriendsCommunicationService__.a])],CommunicationService)},523:function(module,exports,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__stejar_application__=__webpack_require__(617),__WEBPACK_IMPORTED_MODULE_1__stejar_cache__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_application__),__webpack_require__(420)),__WEBPACK_IMPORTED_MODULE_2__stejar_configuration__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_cache__),__webpack_require__(68)),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_configuration__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_4_app_providers_HttpProvider__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__),__webpack_require__(560)),__WEBPACK_IMPORTED_MODULE_5_app_providers_CacheProvider__=__webpack_require__(558),__WEBPACK_IMPORTED_MODULE_6_app_providers_StoreProvider__=__webpack_require__(561),__WEBPACK_IMPORTED_MODULE_7_app_modules_configuration_providers_ConfigurationProvider__=__webpack_require__(549),__WEBPACK_IMPORTED_MODULE_8_app_modules_authentication_providers_AuthenticationProvider__=__webpack_require__(546),__WEBPACK_IMPORTED_MODULE_9_app_modules_locale_providers_TranslatorProvider__=__webpack_require__(554),__WEBPACK_IMPORTED_MODULE_10_app_components_Application_ApplicationController__=__webpack_require__(531),__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_communication_services_CommunicationService__=__webpack_require__(42),__WEBPACK_IMPORTED_MODULE_12_app_modules_integrator_communication_services_BootstrapCommunicationService__=__webpack_require__(550),__WEBPACK_IMPORTED_MODULE_13_app_providers_UbisoftApiProvider__=__webpack_require__(563),__WEBPACK_IMPORTED_MODULE_14_app_providers_TagCommanderProvider__=__webpack_require__(562),__WEBPACK_IMPORTED_MODULE_15_app_factories_401Factory__=__webpack_require__(542),__WEBPACK_IMPORTED_MODULE_16_app_providers_ApiConfigProvider__=__webpack_require__(557),__WEBPACK_IMPORTED_MODULE_17_app_providers_ConnectConfigProvider__=__webpack_require__(559),application=(new __WEBPACK_IMPORTED_MODULE_0__stejar_application__.BrowserApplication).provider(__WEBPACK_IMPORTED_MODULE_4_app_providers_HttpProvider__.a,__WEBPACK_IMPORTED_MODULE_7_app_modules_configuration_providers_ConfigurationProvider__.a,__WEBPACK_IMPORTED_MODULE_5_app_providers_CacheProvider__.a,__WEBPACK_IMPORTED_MODULE_8_app_modules_authentication_providers_AuthenticationProvider__.a,__WEBPACK_IMPORTED_MODULE_9_app_modules_locale_providers_TranslatorProvider__.a,__WEBPACK_IMPORTED_MODULE_6_app_providers_StoreProvider__.a,__WEBPACK_IMPORTED_MODULE_13_app_providers_UbisoftApiProvider__.a,__WEBPACK_IMPORTED_MODULE_14_app_providers_TagCommanderProvider__.a,__WEBPACK_IMPORTED_MODULE_16_app_providers_ApiConfigProvider__.a,__WEBPACK_IMPORTED_MODULE_17_app_providers_ConnectConfigProvider__.a).factory(__WEBPACK_IMPORTED_MODULE_15_app_factories_401Factory__.a).bindToMethod("setStore",__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Store).bindToMethod("setCacheService",__WEBPACK_IMPORTED_MODULE_1__stejar_cache__.CacheService);application.get(__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_communication_services_CommunicationService__.a).startCommunication().then(function(){return application.get(__WEBPACK_IMPORTED_MODULE_12_app_modules_integrator_communication_services_BootstrapCommunicationService__.a).startCommunication()}).then(function(){return application.get(__WEBPACK_IMPORTED_MODULE_2__stejar_configuration__.ConfigurationService).loadConfiguration()}).then(function(){return application.render(__WEBPACK_IMPORTED_MODULE_10_app_components_Application_ApplicationController__.a,document.getElementById("root")||void 0)})["catch"](function(error){return console.error(error)})},525:function(module,exports,__webpack_require__){function webpackContext(req){return __webpack_require__(webpackContextResolve(req))}function webpackContextResolve(req){var id=map[req];if(!(id+1))throw new Error("Cannot find module '"+req+"'.");return id}var map={"./cert2.json":413,"./dev.json":414,"./prod.json":415,"./uat.json":416};webpackContext.keys=function(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=525},526:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return IsReloadFailedPsnAction});var IsReloadFailedPsnAction=function IsReloadFailedPsnAction(error){_classCallCheck(this,IsReloadFailedPsnAction),this.error=error}},527:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return IsReloadFailedXboxAction});var IsReloadFailedXboxAction=function IsReloadFailedXboxAction(error){_classCallCheck(this,IsReloadFailedXboxAction),this.error=error}},528:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedShowOffBadgesAction});var LoadedShowOffBadgesAction=function LoadedShowOffBadgesAction(ids,userId){_classCallCheck(this,LoadedShowOffBadgesAction),this.ids=ids,this.userId=userId}},529:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return LoadedUserConfigCompleteAction});var LoadedUserConfigCompleteAction=function LoadedUserConfigCompleteAction(byId){_classCallCheck(this,LoadedUserConfigCompleteAction),this.byId=byId}},530:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ToggleVisitedNotificationsAction});var ToggleVisitedNotificationsAction=function ToggleVisitedNotificationsAction(visited){_classCallCheck(this,ToggleVisitedNotificationsAction),this.visited=visited}},531:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react_di__=__webpack_require__(36),__WEBPACK_IMPORTED_MODULE_1__stejar_react__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react_di__),__webpack_require__(31)),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_3_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__),__webpack_require__(35)),__WEBPACK_IMPORTED_MODULE_4_app_components_Bootstrap_BootstrapController__=__webpack_require__(532);__webpack_require__.d(exports,"a",function(){return ApplicationController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ApplicationController=function(_PureComponent){function ApplicationController(){return _classCallCheck(this,ApplicationController),_possibleConstructorReturn(this,(ApplicationController.__proto__||Object.getPrototypeOf(ApplicationController)).apply(this,arguments))}return _inherits(ApplicationController,_PureComponent),_createClass(ApplicationController,[{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_0__stejar_react_di__.ServiceProvider,{serviceManager:this.props.serviceManager},React.createElement(__WEBPACK_IMPORTED_MODULE_3_react_redux__.Provider,{store:this.props.serviceManager.get(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Store)},React.createElement("div",null,React.createElement(__WEBPACK_IMPORTED_MODULE_4_app_components_Bootstrap_BootstrapController__.a,null))))}}]),ApplicationController}(__WEBPACK_IMPORTED_MODULE_1__stejar_react__.PureComponent)},532:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__),__WEBPACK_IMPORTED_MODULE_1__stejar_react__=__webpack_require__(31),__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_4_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__),__webpack_require__(35)),__WEBPACK_IMPORTED_MODULE_5_app_services_BootstrapService__=__webpack_require__(175),__WEBPACK_IMPORTED_MODULE_6_app_components_Layout_LayoutController__=__webpack_require__(537),__WEBPACK_IMPORTED_MODULE_7_app_modules_pageLoader_components_PageLoader_PageLoaderController__=__webpack_require__(555),__WEBPACK_IMPORTED_MODULE_8_app_queries_WidgetQueries__=__webpack_require__(58),__WEBPACK_IMPORTED_MODULE_9_lodash__=__webpack_require__(62),__WEBPACK_IMPORTED_MODULE_10_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_lodash__),__webpack_require__(25));__webpack_require__.d(exports,"a",function(){return BootstrapController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},BootstrapController=function(_PureComponent){function BootstrapController(){_classCallCheck(this,BootstrapController);var _this=_possibleConstructorReturn(this,(BootstrapController.__proto__||Object.getPrototypeOf(BootstrapController)).apply(this,arguments));return _this.resizeDebounce=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_9_lodash__.debounce)(_this.onResize.bind(_this),50,!1),_this}return _inherits(BootstrapController,_PureComponent),_createClass(BootstrapController,[{key:"render",value:function(){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()({"widget-in-mobile-view":this.props.isInMobileView,"dark-background":this.props.hasDarkBackground,"arab-language":this.props.isOnArabLocale,"desktop-resize":this.props.isInDesktopResize&&!this.props.isInMobileView})},React.createElement(__WEBPACK_IMPORTED_MODULE_7_app_modules_pageLoader_components_PageLoader_PageLoaderController__.a,null),this.props.booted?React.createElement(__WEBPACK_IMPORTED_MODULE_6_app_components_Layout_LayoutController__.a,null):null)}},{key:"componentDidMount",value:function(){return this.props.bootstrapService.bootstrap(!1),window.addEventListener("resize",this.resizeDebounce),this.onResize(),null}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeDebounce)}},{key:"onResize",value:function(){var width=document.querySelector("html").offsetWidth;if(0==width)return null;var menuUserPanel=document.getElementsByClassName("menu_user-panel")[0],menuFriendsPanel=document.getElementsByClassName("menu_friends-panel")[0],menuNotificationsPanel=document.getElementsByClassName("menu_notifications-panel")[0];if(menuUserPanel&&menuUserPanel.classList.contains("visible")&&menuUserPanel.offsetWidth!==width&&this.changeTheWidthOfThePanels(width,menuUserPanel,menuFriendsPanel,menuNotificationsPanel),menuFriendsPanel&&menuFriendsPanel.classList.contains("visible")&&menuFriendsPanel.offsetWidth!==width&&this.changeTheWidthOfThePanels(width,menuUserPanel,menuFriendsPanel,menuNotificationsPanel),menuNotificationsPanel&&menuNotificationsPanel.classList.contains("visible")&&menuNotificationsPanel.offsetWidth!==width&&this.changeTheWidthOfThePanels(width,menuUserPanel,menuFriendsPanel,menuNotificationsPanel),this.props.isInMobileView&&this.props.showMobileTabs){var coefSize=width/320;document.querySelector("html").style.fontSize=10*coefSize+"px"}else document.querySelector("html").style.fontSize=null}},{key:"changeTheWidthOfThePanels",value:function(width,menuUserPanel,menuFriendsPanel,menuNotificationsPanel){menuUserPanel.style.width=width+"px",menuFriendsPanel.style.width=width+"px",menuNotificationsPanel.style.width=width+"px"}}]),BootstrapController}(__WEBPACK_IMPORTED_MODULE_1__stejar_react__.PureComponent);BootstrapController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__.inject)({bootstrapService:__WEBPACK_IMPORTED_MODULE_5_app_services_BootstrapService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_react_redux__.connect)(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({booted:__WEBPACK_IMPORTED_MODULE_8_app_queries_WidgetQueries__.a.getBooted,isInMobileView:__WEBPACK_IMPORTED_MODULE_8_app_queries_WidgetQueries__.a.getIsInMobileView,showMobileTabs:__WEBPACK_IMPORTED_MODULE_8_app_queries_WidgetQueries__.a.getShowMobileTabs,isOnArabLocale:__WEBPACK_IMPORTED_MODULE_8_app_queries_WidgetQueries__.a.getIsOnArabLocale,hasDarkBackground:__WEBPACK_IMPORTED_MODULE_10_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getHasDarkBackground,isInDesktopResize:__WEBPACK_IMPORTED_MODULE_10_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getIsInDesktopResize})),__metadata("design:paramtypes",[])],BootstrapController)},533:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react__=__webpack_require__(31),__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_2__stejar_utils__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__),__webpack_require__(43)),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_utils__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_4__stejar_translate__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__),__webpack_require__(24)),__WEBPACK_IMPORTED_MODULE_5_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__stejar_translate__),__webpack_require__(35)),__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__=__webpack_require__(58),__WEBPACK_IMPORTED_MODULE_7_app_modules_authentication_queries_IdentityQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_8_app_modules_integrator_communication_services_CommunicationService__=__webpack_require__(42),__WEBPACK_IMPORTED_MODULE_9_app_selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_10_app_stores_GamesStore__=__webpack_require__(125),__WEBPACK_IMPORTED_MODULE_11_app_stores_ApplicationsStore__=__webpack_require__(124),__WEBPACK_IMPORTED_MODULE_12_app_stores_ApplicationsProfilesStore__=__webpack_require__(123),__WEBPACK_IMPORTED_MODULE_13_app_modules_configuration_queries_ConfigurationQueries__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_14_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_15_app_modules_swiper_services_Swiper__=__webpack_require__(121),__WEBPACK_IMPORTED_MODULE_16_spark_overlay__=__webpack_require__(50),__WEBPACK_IMPORTED_MODULE_17__SuggestedRewards_SuggestedRewardsController__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_16_spark_overlay__),
__webpack_require__(541)),__WEBPACK_IMPORTED_MODULE_18_messages__=__webpack_require__(51),__WEBPACK_IMPORTED_MODULE_19_app_modules_locale_queries_CustomTranslateQueries__=__webpack_require__(173),__WEBPACK_IMPORTED_MODULE_20_app_modules_integrator_communication_services_EmailVerificationService__=__webpack_require__(171);__webpack_require__.d(exports,"a",function(){return ExpandedController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},ExpandedController=function(_Component){function ExpandedController(){_classCallCheck(this,ExpandedController);var _this=_possibleConstructorReturn(this,(ExpandedController.__proto__||Object.getPrototypeOf(ExpandedController)).apply(this,arguments));return _this.state={childHeight:0},_this.scrollableContentRef=function(el){return _this._scrollableContentRef=el},_this}return _inherits(ExpandedController,_Component),_createClass(ExpandedController,[{key:"setSwipeRef",value:function(container){this._swipeRef=container}},{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_16_spark_overlay__.ExpandedView,{inlineHeight:!0,show:this.props.show,swipeRef:this.setSwipeRef,height:this.props.height,isSafari:this.props.isSafari,isInMobileView:this.props.isInMobileView,avatarUrl:this.props.avatarUrl,username:this.props.username,units:this.props.units,level:this.props.level,progressPercentage:this.props.progressPercentage,xpToLevelUp:this.props.xpToLevelUp,loadedLastPlayedGame:this.props.loadedLastPlayedGame,hasLastPlayedGame:this.props.hasLastPlayedGame,lastPlayedGameDate:this.props.lastPlayedGameDate,lastPlayedGameName:this.props.lastPlayedGameName,lastPlayedGameCleanUrl:this.props.lastPlayedGameCleanUrl,lastPlayedGamePlatform:this.props.lastPlayedGamePlatform,lastPlayedGameImage:this.props.lastPlayedGameImage,hasLastPlayedGameStats:this.props.hasLastPlayedGameStats,lastPlayedGameStats:this.props.lastPlayedGameStats,clubUrl:this.props.clubUrl,locale:this.props.locale,isLocaleXpTranslationTooLong:this.props.isLocaleXpTranslationTooLong,customerSupportUrl:this.props.customerSupportUrl,accountUrl:this.props.accountUrl,integratorCustomerSupportUrls:this.props.integratorCustomerSupportUrls,lastPlayedGameIsOwned:this.props.lastPlayedGameIsOwned,lastPlayedGamePlatforms:this.props.lastPlayedGamePlatforms,lastPlayedGameShopUrl:this.props.lastPlayedGameShopUrl,handleOnClickEditProfile:this.handleOnClickEditProfile,onClickAccountInformation:this.handleOnClickAccountInformation,onClickHelpAndSupport:this.handleOnClickHelpAndSupport,onClickLastPlayedGame:this.onClickLastPlayedGame,onClickLogout:this.handleOnClickLogout,onClickCloseMenu:this.handleOnClickCloseMenu,onClickCustomLinks:this.onClickCustomLinks,suggestedRewardsComponent:__WEBPACK_IMPORTED_MODULE_17__SuggestedRewards_SuggestedRewardsController__.a,hasProfileCallError:this.props.hasProfileCallError,widgetHeight:this.props.widgetHeight,isIsoVersionLowerThanNine:this.props.isIsoVersionLowerThanNine,scrollableContentRef:this.scrollableContentRef,offsetHeight:this.state.childHeight,isInDesktopResize:this.props.isInDesktopResize,isOnIpad:this.props.isOnIpad})}},{key:"componentDidMount",value:function(){new __WEBPACK_IMPORTED_MODULE_15_app_modules_swiper_services_Swiper__.a(this._swipeRef,this.handleSwipe.bind(this),60,600,(!1)),this.setState({childHeight:this._scrollableContentRef?this._scrollableContentRef.clientHeight:0})}},{key:"componentDidUpdate",value:function(prevProps,prevState){var offsetHeight=null;this._scrollableContentRef&&!this.props.isInMobileView&&(offsetHeight=this._scrollableContentRef.offsetHeight<633?this._scrollableContentRef.offsetHeight:633),this._scrollableContentRef&&prevState.childHeight!==this._scrollableContentRef.clientHeight&&this.setState({childHeight:this._scrollableContentRef.offsetHeight}),prevProps.loadedLastPlayedGame!==this.props.loadedLastPlayedGame&&this.props.communicationService.handleExpandIframe(__WEBPACK_IMPORTED_MODULE_18_messages__.c.PLAYER_CARD,offsetHeight),prevProps.hasLastPlayedGame!==this.props.hasLastPlayedGame&&this.props.communicationService.handleExpandIframe(__WEBPACK_IMPORTED_MODULE_18_messages__.c.PLAYER_CARD,offsetHeight)}},{key:"handleOnClickEditProfile",value:function(e){e.preventDefault(),this.props.hasOverwrittenLinks&&this.props.overwrittenEditLink&&__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_utils__.newWindow)(this.props.overwrittenEditLink),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_utils__.newWindow)(this.props.clubUrl+"/"+this.props.locale+"/dashboard?edit=true")}},{key:"handleOnClickAccountInformation",value:function(e){e.preventDefault(),this.props.hasOverwrittenLinks&&this.props.overwrittenAccountLink&&__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_utils__.newWindow)(this.props.overwrittenAccountLink),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_utils__.newWindow)(this.props.accountUrl+"/"+this.props.locale)}},{key:"handleOnClickHelpAndSupport",value:function(e){e.preventDefault(),this.props.hasOverwrittenLinks&&this.props.overwrittenSupportLink&&__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_utils__.newWindow)(this.props.overwrittenSupportLink),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_utils__.newWindow)(""+this.props.customerSupportUrl)}},{key:"onClickLastPlayedGame",value:function(gameCode,platformCode,e){e.preventDefault(),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_utils__.newWindow)(this.props.clubUrl+"/"+this.props.locale+"/game/"+gameCode+"/"+platformCode+"/overview")}},{key:"onClickCustomLinks",value:function(link,e){e.preventDefault(),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_utils__.newWindow)(link)}},{key:"handleOnClickLogout",value:function(e){e.preventDefault(),this.props.communicationService.clickedOnLogout()}},{key:"handleOnClickCloseMenu",value:function(e){e.preventDefault(),this.props.communicationService.clickedOnClosePlayerCard()}},{key:"handleSwipe",value:function(payload){payload.swipeRight&&this.props.communicationService.clickedOnMobileFriends()}}]),ExpandedController}(__WEBPACK_IMPORTED_MODULE_0__stejar_react__.Component);ExpandedController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__.inject)({communicationService:__WEBPACK_IMPORTED_MODULE_8_app_modules_integrator_communication_services_CommunicationService__.a,emailVerificationService:__WEBPACK_IMPORTED_MODULE_20_app_modules_integrator_communication_services_EmailVerificationService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_react_redux__.connect)(function(state,props){return __WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({show:__WEBPACK_IMPORTED_MODULE_16_spark_overlay__.isActive$,isSafari:__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.isSafari,clubUrl:__WEBPACK_IMPORTED_MODULE_13_app_modules_configuration_queries_ConfigurationQueries__.a.getClubUrl,accountUrl:__WEBPACK_IMPORTED_MODULE_13_app_modules_configuration_queries_ConfigurationQueries__.a.getAccountUrl,customerSupportUrl:__WEBPACK_IMPORTED_MODULE_13_app_modules_configuration_queries_ConfigurationQueries__.a.getCustomerSupportUrl,locale:__WEBPACK_IMPORTED_MODULE_4__stejar_translate__.LocaleQueries.getCurrentLocale,isLocaleXpTranslationTooLong:__WEBPACK_IMPORTED_MODULE_19_app_modules_locale_queries_CustomTranslateQueries__.a.getIsLocaleXpTranslationTooLong,hasLastPlayedGame:!1,integratorCustomerSupportUrls:__WEBPACK_IMPORTED_MODULE_14_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getCustomerSupportLinks,lastPlayedGamePlatforms:[],hasOverwrittenLinks:__WEBPACK_IMPORTED_MODULE_14_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getHasOverwrittenLinks,overwrittenEditLink:__WEBPACK_IMPORTED_MODULE_14_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getOverwrittenEditLink,overwrittenAccountLink:__WEBPACK_IMPORTED_MODULE_14_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getOverwrittenAccountLink,overwrittenSupportLink:__WEBPACK_IMPORTED_MODULE_14_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getOverwrittenSupportLink,widgetHeight:__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getHeight,isIsoVersionLowerThanNine:__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getIsIsoVersionLowerThanNine,isInDesktopResize:__WEBPACK_IMPORTED_MODULE_14_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getIsInDesktopResize,isOnIpad:__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getisOnIpad},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_7_app_modules_authentication_queries_IdentityQueries__.a.hasIdentity,__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({height:__WEBPACK_IMPORTED_MODULE_14_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getHeight,isInMobileView:__WEBPACK_IMPORTED_MODULE_6_app_queries_WidgetQueries__.a.getIsInMobileView,userId:__WEBPACK_IMPORTED_MODULE_7_app_modules_authentication_queries_IdentityQueries__.a.getUserId,username:__WEBPACK_IMPORTED_MODULE_9_app_selectors__.k,units:__WEBPACK_IMPORTED_MODULE_9_app_selectors__.l,level:__WEBPACK_IMPORTED_MODULE_9_app_selectors__.r,xpToLevelUp:__WEBPACK_IMPORTED_MODULE_9_app_selectors__.s,progressPercentage:__WEBPACK_IMPORTED_MODULE_9_app_selectors__.t,hasProfileCallError:__WEBPACK_IMPORTED_MODULE_9_app_selectors__.p,loadedLastPlayedGame:[__WEBPACK_IMPORTED_MODULE_10_app_stores_GamesStore__.a.loaded,__WEBPACK_IMPORTED_MODULE_10_app_stores_GamesStore__.a.loadedOwnership,__WEBPACK_IMPORTED_MODULE_11_app_stores_ApplicationsStore__.a.loaded,__WEBPACK_IMPORTED_MODULE_12_app_stores_ApplicationsProfilesStore__.a.loadedMyApplicationsProfiles]},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_10_app_stores_GamesStore__.a.loaded,__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({customerSupportUrl:__WEBPACK_IMPORTED_MODULE_9_app_selectors__.u})),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](function(state){return __WEBPACK_IMPORTED_MODULE_10_app_stores_GamesStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_10_app_stores_GamesStore__.a.loadedOwnership(state)&&__WEBPACK_IMPORTED_MODULE_11_app_stores_ApplicationsStore__.a.loaded(state)&&__WEBPACK_IMPORTED_MODULE_12_app_stores_ApplicationsProfilesStore__.a.loadedMyApplicationsProfiles(state)},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_9_app_selectors__.j,__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({hasLastPlayedGame:__WEBPACK_IMPORTED_MODULE_9_app_selectors__.j,lastPlayedGameDate:__WEBPACK_IMPORTED_MODULE_9_app_selectors__.v,lastPlayedGameName:__WEBPACK_IMPORTED_MODULE_9_app_selectors__.m,lastPlayedGameCleanUrl:__WEBPACK_IMPORTED_MODULE_9_app_selectors__.n,lastPlayedGameShopUrl:__WEBPACK_IMPORTED_MODULE_9_app_selectors__.w,lastPlayedGamePlatforms:__WEBPACK_IMPORTED_MODULE_9_app_selectors__.x,lastPlayedGameImage:__WEBPACK_IMPORTED_MODULE_9_app_selectors__.y,lastPlayedGamePlatform:__WEBPACK_IMPORTED_MODULE_9_app_selectors__.o,lastPlayedGameIsOwned:__WEBPACK_IMPORTED_MODULE_9_app_selectors__.z},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({hasLastPlayedGameStats:__WEBPACK_IMPORTED_MODULE_9_app_selectors__.A,lastPlayedGameStats:__WEBPACK_IMPORTED_MODULE_9_app_selectors__.B}))))))))}),__metadata("design:paramtypes",[])],ExpandedController)},534:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react__=__webpack_require__(31),__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_2_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__),__webpack_require__(35)),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_4__modules_integrator_communication_services_CommunicationService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__),__webpack_require__(42)),__WEBPACK_IMPORTED_MODULE_5__queries_WidgetQueries__=__webpack_require__(58),__WEBPACK_IMPORTED_MODULE_6__services_AddFriendService__=__webpack_require__(385),__WEBPACK_IMPORTED_MODULE_7__modules_integrator_communication_services_FriendsCommunicationService__=__webpack_require__(102),__WEBPACK_IMPORTED_MODULE_8__modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_9__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_10__stejar_translate__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_11__stores_FriendsActionsStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10__stejar_translate__),__webpack_require__(106)),__WEBPACK_IMPORTED_MODULE_12__messages__=__webpack_require__(51),__WEBPACK_IMPORTED_MODULE_13_spark_overlay__=__webpack_require__(50),__WEBPACK_IMPORTED_MODULE_14__stores_AddFriendStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_13_spark_overlay__),__webpack_require__(176)),__WEBPACK_IMPORTED_MODULE_15__selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_16__modules_locale_queries_CustomTranslateQueries__=__webpack_require__(173),__WEBPACK_IMPORTED_MODULE_17__modules_tagCommander_services_TagCommanderService__=__webpack_require__(66),__WEBPACK_IMPORTED_MODULE_18__services_NotificationsPanelService__=__webpack_require__(122),__WEBPACK_IMPORTED_MODULE_19__SocialNetworksController__=__webpack_require__(536);__webpack_require__.d(exports,"a",function(){return AddFriendsController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},psnImg=__webpack_require__(520),steamImg=__webpack_require__(521),xboxImg=__webpack_require__(522),AddFriendsController=function(_PureComponent){function AddFriendsController(){_classCallCheck(this,AddFriendsController);var _this=_possibleConstructorReturn(this,(AddFriendsController.__proto__||Object.getPrototypeOf(AddFriendsController)).apply(this,arguments));return _this.state={childHeight:0},_this.userSearchRef=null,_this}return _inherits(AddFriendsController,_PureComponent),_createClass(AddFriendsController,[{key:"setUserSearchRef",value:function(view){this.userSearchRef=view}},{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_13_spark_overlay__.AddFriendTabView,{show:this.props.show,onClickGoBack:this.onClickGoBack,loadedFriendView:!0,isLoadingSearchFriend:this.props.isLoadingSearchFriend,hasFoundProfilesByName:this.props.hasFoundProfilesByName,showSearchFriend:this.props.showSearchFriend,friendsToAdd:this.props.friendsToAdd,userSearchRef:this.setUserSearchRef,onClickUserSearchInput:this.onClickUserSearchInput,userNameToSearchBy:this.props.userNameToSearchBy,enterFullPlayerNameText:this.props.translatedText,friendsToAddState:this.props.friendsToAddState,onClickInviteRequest:this.onClickInviteRequest,onClickFriendRequest:this.onClickFriendRequest,psnImg:psnImg,steamImg:steamImg,xboxImg:xboxImg,onClickDeclineRequest:this.onClickDeclineRequest,onClickAcceptRequest:this.onClickAcceptRequest,currentFriendInvitationId:this.props.currentFriendInvitationId,isStillLoading:this.props.isStillLoading,currentDeclineUserId:this.props.currentDeclineUserId,onClickCancelDeclineRequest:this.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:this.onClickConfirmDeclineRequest,socialNetworksController:__WEBPACK_IMPORTED_MODULE_19__SocialNetworksController__.a})}},{key:"componentDidMount",value:function(){this.userSearchRefHasEventListener=!1,this.setState({childHeight:this.props._scrollableContentRef?this.props._scrollableContentRef.clientHeight:0})}},{key:"componentDidUpdate",value:function(prevProps,prevState){var offsetHeight=null;if(this.props._scrollableContentRef&&!this.props.isInMobileView&&(offsetHeight=this.props._scrollableContentRef.offsetHeight<633?this.props._scrollableContentRef.offsetHeight:633),this.props._scrollableContentRef&&prevState.childHeight!==this.props._scrollableContentRef.clientHeight&&(this.setState({childHeight:this.props._scrollableContentRef.offsetHeight}),this.props.onChangeState(offsetHeight)),prevProps.show!==this.props.show&&this.props.communicationService.handleExpandIframe(__WEBPACK_IMPORTED_MODULE_12__messages__.c.FRIENDS,offsetHeight),prevProps.isLoadingAddFriend!==this.props.isLoadingAddFriend&&this.props.communicationService.handleExpandIframe(__WEBPACK_IMPORTED_MODULE_12__messages__.c.FRIENDS,offsetHeight),prevProps.showSearchFriend!==this.props.showSearchFriend&&this.props.communicationService.handleExpandIframe(__WEBPACK_IMPORTED_MODULE_12__messages__.c.FRIENDS,offsetHeight),prevProps.isLoadingSearchFriend!==this.props.isLoadingSearchFriend&&this.props.communicationService.handleExpandIframe(__WEBPACK_IMPORTED_MODULE_12__messages__.c.FRIENDS,offsetHeight),this.userSearchRef&&this.userSearchRefHasEventListener===!1){this.userSearchRefHasEventListener=!0;var callback=this.onClickUserSearchInput.bind(this);this.userSearchRef.addEventListener("keyup",function(e){e.preventDefault(),13==e.keyCode&&callback(e)})}return null}},{key:"onClickUserSearchInput",value:function(e){e.preventDefault(),this.props.addFriendService.onClickUserSearchInput(this.userSearchRef.value)}},{key:"componentWillUnmount",value:function(){this.userSearchRefHasEventListener=!1,this.userSearchRef.removeEventListener("keyup",function(){})}},{key:"onRedirectToFriend",value:function(userName){this.props.friendsCommunicationService.onRedirectToFriend(this.props.clickFriendsProfileType,userName,this.props.clubUrl,this.props.locale)}},{key:"onClickGoBack",value:function(e){e.preventDefault(),this.userSearchRef&&(this.userSearchRef.value=null),this.props.friendsCommunicationService.hideAddFriendsTab()}},{key:"onClickInviteRequest",value:function(pid,nameOnPlatform,e){e.preventDefault(),this.props.tagCommanderService.trackEvent("Nav - Ubibar - Send Friend Invitation","Overlay"),this.props.addFriendService.onClickInviteRequest(pid,nameOnPlatform)}},{key:"onClickFriendRequest",value:function(userName,e){e.preventDefault(),this.onRedirectToFriend(userName),this.props.communicationService.clickedOnCloseFriends()}},{key:"onClickDeclineRequest",value:function(userId,userName,e){e.preventDefault(),this.props.friendsCommunicationService.onConfirmDeclineRequest(userId)}},{key:"onClickAcceptRequest",value:function(userId,userName,e){e.preventDefault(),this.props.notificationsPanelService.handleAcceptRequest(userId)}},{key:"onClickCancelDeclineRequest",value:function(userId,event){this.props.friendsCommunicationService.onCancelDeclineRequest(userId)}},{key:"onClickConfirmDeclineRequest",value:function(userId,event){this.props.notificationsPanelService.handleDeclineRequest(userId)}}]),AddFriendsController}(__WEBPACK_IMPORTED_MODULE_0__stejar_react__.PureComponent);AddFriendsController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__.inject)({communicationService:__WEBPACK_IMPORTED_MODULE_4__modules_integrator_communication_services_CommunicationService__.a,addFriendService:__WEBPACK_IMPORTED_MODULE_6__services_AddFriendService__.a,friendsCommunicationService:__WEBPACK_IMPORTED_MODULE_7__modules_integrator_communication_services_FriendsCommunicationService__.a,tagCommanderService:__WEBPACK_IMPORTED_MODULE_17__modules_tagCommander_services_TagCommanderService__.a,notificationsPanelService:__WEBPACK_IMPORTED_MODULE_18__services_NotificationsPanelService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_react_redux__.connect)(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isInMobileView:__WEBPACK_IMPORTED_MODULE_5__queries_WidgetQueries__.a.getIsInMobileView,show:__WEBPACK_IMPORTED_MODULE_11__stores_FriendsActionsStore__.a.getShowAddFriendsTab,clickFriendsProfileType:__WEBPACK_IMPORTED_MODULE_8__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getClickFriendsProfileType,clubUrl:__WEBPACK_IMPORTED_MODULE_9__modules_configuration_queries_ConfigurationQueries__.a.getClubUrl,locale:__WEBPACK_IMPORTED_MODULE_10__stejar_translate__.LocaleQueries.getCurrentLocale,isLoadingSearchFriend:__WEBPACK_IMPORTED_MODULE_14__stores_AddFriendStore__.a.getIsLoading,hasFoundProfilesByName:!1,showSearchFriend:!1,userNameToSearchBy:null,friendsToAddState:{},translatedText:__WEBPACK_IMPORTED_MODULE_16__modules_locale_queries_CustomTranslateQueries__.a.getAddFriendTranslatedText,currentFriendInvitationId:__WEBPACK_IMPORTED_MODULE_11__stores_FriendsActionsStore__.a.getCurrentUserId,isStillLoading:__WEBPACK_IMPORTED_MODULE_11__stores_FriendsActionsStore__.a.getIsStillLoading,isLoadingAddFriend:__WEBPACK_IMPORTED_MODULE_14__stores_AddFriendStore__.a.getIsLoading,currentDeclineUserId:__WEBPACK_IMPORTED_MODULE_11__stores_FriendsActionsStore__.a.getCurrentDeclineUserId},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_14__stores_AddFriendStore__.a.getIsLoading,__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({hasFoundProfilesByName:!1,showSearchFriend:!1,friendsToAdd:[],userNameToSearchBy:null,friendsToAddState:{}}),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({hasFoundProfilesByName:__WEBPACK_IMPORTED_MODULE_15__selectors__.G,showSearchFriend:__WEBPACK_IMPORTED_MODULE_14__stores_AddFriendStore__.a.getShow,friendsToAdd:__WEBPACK_IMPORTED_MODULE_15__selectors__.H,userNameToSearchBy:__WEBPACK_IMPORTED_MODULE_14__stores_AddFriendStore__.a.getUserNameToSearch,friendsToAddState:__WEBPACK_IMPORTED_MODULE_14__stores_AddFriendStore__.a.getFriendsSate})))),__metadata("design:paramtypes",[])],AddFriendsController)},535:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react__=__webpack_require__(31),__WEBPACK_IMPORTED_MODULE_1__stejar_utils__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react__),__webpack_require__(43)),__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_utils__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_4__stejar_translate__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__),__webpack_require__(24)),__WEBPACK_IMPORTED_MODULE_5_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__stejar_translate__),__webpack_require__(35)),__WEBPACK_IMPORTED_MODULE_6_spark_overlay__=__webpack_require__(50),__WEBPACK_IMPORTED_MODULE_7_app_selectors__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_spark_overlay__),__webpack_require__(15)),__WEBPACK_IMPORTED_MODULE_8_app_modules_authentication_queries_IdentityQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_9_app_modules_configuration_queries_ConfigurationQueries__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_10_app_modules_integrator_communication_services_CommunicationService__=__webpack_require__(42),__WEBPACK_IMPORTED_MODULE_11_app_modules_swiper_services_Swiper__=__webpack_require__(121),__WEBPACK_IMPORTED_MODULE_12_app_modules_locale_queries_CustomTranslateQueries__=__webpack_require__(173),__WEBPACK_IMPORTED_MODULE_13_app_queries_WidgetQueries__=__webpack_require__(58),__WEBPACK_IMPORTED_MODULE_14_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_15_app_modules_integrator_configuration_entities_IntegratorConfig__=__webpack_require__(120),__WEBPACK_IMPORTED_MODULE_16_messages__=__webpack_require__(51),__WEBPACK_IMPORTED_MODULE_17_app_modules_integrator_communication_services_FriendsCommunicationService__=__webpack_require__(102),__WEBPACK_IMPORTED_MODULE_18__services_NotificationsPanelService__=__webpack_require__(122),__WEBPACK_IMPORTED_MODULE_19__stores_FilterFriendStore__=__webpack_require__(178),__WEBPACK_IMPORTED_MODULE_20__selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_21__stores_FriendsActionsStore__=__webpack_require__(106),__WEBPACK_IMPORTED_MODULE_22__AddFriendsController__=__webpack_require__(534);__webpack_require__.d(exports,"a",function(){return FriendsActivityFeedController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},FriendsActivityFeedController=function(_PureComponent){function FriendsActivityFeedController(){_classCallCheck(this,FriendsActivityFeedController);var _this=_possibleConstructorReturn(this,(FriendsActivityFeedController.__proto__||Object.getPrototypeOf(FriendsActivityFeedController)).apply(this,arguments));return _this.state={childHeight:0},_this.scrollableContentRef=function(el){return _this._scrollableContentRef=el},_this}return _inherits(FriendsActivityFeedController,_PureComponent),_createClass(FriendsActivityFeedController,[{key:"setSwipeRef",value:function(container){this._swipeRef=container}},{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_6_spark_overlay__.FriendsActivityFeedView,{swipeRef:this.setSwipeRef,show:this.props.show,height:this.props.height,isInMobileView:this.props.isInMobileView,isLoading:this.props.isLoading,friends:this.props.friends,clubUrl:this.props.clubUrl,locale:this.props.locale,isPostManOnClick:this.props.clickFriendsProfileType==__WEBPACK_IMPORTED_MODULE_15_app_modules_integrator_configuration_entities_IntegratorConfig__.c.TYPE_POST_MESSAGE,scrollableContentRef:this.scrollableContentRef,onClickFriend:this.onClickFriend,onClickNoFriendsLink:this.onClickNoFriendsLink,handleCloseIconOnClick:this.handleCloseIconOnClick,showFriendView:!0,showNotifications:this.props.showNotifications,widgetHeight:this.props.widgetHeight,isIsoVersionLowerThanNine:this.props.isIsoVersionLowerThanNine,offsetHeight:this.state.childHeight,isInDesktopResize:this.props.isInDesktopResize,onClickDeclineRequest:this.onClickDeclineRequest,onClickAcceptRequest:this.onClickAcceptRequest,currentFriendInvitationId:this.props.currentFriendInvitationId,isStillLoading:this.props.isStillLoading,hasFriendsFound:this.props.hasFriendsFound,onChangeNameToFilterBy:this.onChangeNameToFilterBy,
filterText:this.props.filterText,nameToFilterBy:this.props.nameToFilterBy,numberOfFriendsOnline:this.props.nbConnections,numberOfTotalFriends:this.props.numberOfTotalFriends,isOnIpad:this.props.isOnIpad,isLoadingFriendRequests:this.props.isLoadingFriendRequests,friendRequests:this.props.friendRequests||[],showLessFriendRequestsLink:!this.props.showMoreFriendRequests,showMoreFriendRequestsLink:this.props.showMoreFriendRequests,nbFriendRequests:this.props.nbFriendRequests,onClickToggleShowMoreFriendRequests:this.onClickToggleShowMoreFriendRequests,isLoadingFriendInvitations:this.props.isLoadingFriendInvitations,nbFriendInvitations:this.props.nbFriendInvitations,friendsInvitations:this.props.friendsInvitations,showMoreFriendsInvitationsLink:this.props.showMoreFriendsInvitationsLink,onClickToggleShowMoreFriendsInvitations:this.onClickToggleShowMoreFriendsInvitations,showLessFriendsInvitationsLink:!this.props.showMoreFriendsInvitationsLink,currentDeclineUserId:this.props.currentDeclineUserId,onClickFriendRequest:this.onClickFriendRequest,onClickCancelDeclineRequest:this.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:this.onClickConfirmDeclineRequest,onClickAddFriendButton:this.onClickAddFriendButton,showAddFriendTab:this.props.showAddFriendTab,friendsAddComponent:__WEBPACK_IMPORTED_MODULE_22__AddFriendsController__.a,_scrollableContentRef:this._scrollableContentRef,onChangeState:this.onChangeState})}},{key:"componentDidMount",value:function(){this.swiper=new __WEBPACK_IMPORTED_MODULE_11_app_modules_swiper_services_Swiper__.a(this._swipeRef,this.handleSwipe.bind(this),60,600,(!1)),this.setState({childHeight:this._scrollableContentRef?this._scrollableContentRef.clientHeight:0})}},{key:"componentDidUpdate",value:function(prevProps,prevState){var offsetHeight=null;return this._scrollableContentRef&&!this.props.isInMobileView&&(offsetHeight=this._scrollableContentRef.offsetHeight<633?this._scrollableContentRef.offsetHeight:633),this._scrollableContentRef&&prevState.childHeight!==this._scrollableContentRef.clientHeight&&this.setState({childHeight:this._scrollableContentRef.offsetHeight}),this.props.show&&!prevProps.show&&this._scrollableContentRef&&(this._scrollableContentRef.scrollTop=0),prevProps.loadedOnlineFriends!==this.props.loadedOnlineFriends&&this.props.communicationService.handleExpandIframe(__WEBPACK_IMPORTED_MODULE_16_messages__.c.FRIENDS,offsetHeight),prevProps.loadedFriendsActivityFeed!==this.props.loadedFriendsActivityFeed&&this.props.communicationService.handleExpandIframe(__WEBPACK_IMPORTED_MODULE_16_messages__.c.FRIENDS,offsetHeight),prevProps.isLoadingFriendRequests!==this.props.isLoadingFriendRequests&&this.props.communicationService.handleExpandIframe(__WEBPACK_IMPORTED_MODULE_16_messages__.c.FRIENDS,offsetHeight),prevProps.showAddFriendTab!==this.props.showAddFriendTab&&this.props.communicationService.handleExpandIframe(__WEBPACK_IMPORTED_MODULE_16_messages__.c.FRIENDS,offsetHeight),null}},{key:"componentWillUnmount",value:function(){this.swiper.removeEvents()}},{key:"onClickFriend",value:function(friend,e){e.preventDefault(),this.onRedirectToFriend(friend.username),this.props.communicationService.clickedOnCloseFriends()}},{key:"onClickNoFriendsLink",value:function(e){e.preventDefault(),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_utils__.newWindow)(this.props.clubUrl+"/"+this.props.locale+"/friends"),this.props.communicationService.clickedOnCloseFriends()}},{key:"handleCloseIconOnClick",value:function(e){e.preventDefault(),this.props.communicationService.clickedOnCloseFriends()}},{key:"handleSwipe",value:function(payload){return payload.swipeLeft?void this.props.communicationService.clickedOnMobilePlayerCardTab():payload.swipeRight?void this.props.communicationService.clickedOnMobileNotifications():void 0}},{key:"onClickFriendRequest",value:function(userName,e){e.preventDefault(),this.onRedirectToFriend(userName),this.props.communicationService.clickedOnCloseFriends()}},{key:"onRedirectToFriend",value:function(userName){this.props.friendsCommunicationService.onRedirectToFriend(this.props.clickFriendsProfileType,userName,this.props.clubUrl,this.props.locale)}},{key:"onClickDeclineRequest",value:function(userId,userName,e){e.preventDefault(),this.props.friendsCommunicationService.onConfirmDeclineRequest(userId)}},{key:"onClickAcceptRequest",value:function(userId,userName,e){e.preventDefault(),this.props.notificationsPanelService.handleAcceptRequest(userId)}},{key:"onChangeNameToFilterBy",value:function(event){this.props.friendsCommunicationService.onChangeNameToFilterBy(event.target.value)}},{key:"onClickToggleShowMoreFriendRequests",value:function(toggle,event){this.props.friendsCommunicationService.onToggleShowMoreFriendRequests(toggle)}},{key:"onClickToggleShowMoreFriendsInvitations",value:function(toggle,event){this.props.friendsCommunicationService.onToggleShowMoreFriendsInvitations(toggle)}},{key:"onClickCancelDeclineRequest",value:function(userId,event){this.props.friendsCommunicationService.onCancelDeclineRequest(userId)}},{key:"onClickConfirmDeclineRequest",value:function(userId,event){this.props.notificationsPanelService.handleDeclineRequest(userId)}},{key:"onClickAddFriendButton",value:function(){this.props.friendsCommunicationService.showAddFriendsTab()}},{key:"onChangeState",value:function(childHeight){this.setState({childHeight:childHeight})}}]),FriendsActivityFeedController}(__WEBPACK_IMPORTED_MODULE_0__stejar_react__.PureComponent);FriendsActivityFeedController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__stejar_react_di__.inject)({communicationService:__WEBPACK_IMPORTED_MODULE_10_app_modules_integrator_communication_services_CommunicationService__.a,friendsCommunicationService:__WEBPACK_IMPORTED_MODULE_17_app_modules_integrator_communication_services_FriendsCommunicationService__.a,notificationsPanelService:__WEBPACK_IMPORTED_MODULE_18__services_NotificationsPanelService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_react_redux__.connect)(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({friends:[],nbConnections:0,clubUrl:__WEBPACK_IMPORTED_MODULE_9_app_modules_configuration_queries_ConfigurationQueries__.a.getClubUrl,friendsToAdd:[],isInMobileView:__WEBPACK_IMPORTED_MODULE_13_app_queries_WidgetQueries__.a.getIsInMobileView,showNotifications:__WEBPACK_IMPORTED_MODULE_13_app_queries_WidgetQueries__.a.getShowNotifications,clickFriendsProfileType:__WEBPACK_IMPORTED_MODULE_14_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getClickFriendsProfileType,loadedOnlineFriends:__WEBPACK_IMPORTED_MODULE_7_app_selectors__.I,loadedFriendsActivityFeed:__WEBPACK_IMPORTED_MODULE_7_app_selectors__.J,widgetHeight:__WEBPACK_IMPORTED_MODULE_13_app_queries_WidgetQueries__.a.getHeight,isIsoVersionLowerThanNine:__WEBPACK_IMPORTED_MODULE_13_app_queries_WidgetQueries__.a.getIsIsoVersionLowerThanNine,isInDesktopResize:__WEBPACK_IMPORTED_MODULE_14_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getIsInDesktopResize,currentFriendInvitationId:__WEBPACK_IMPORTED_MODULE_21__stores_FriendsActionsStore__.a.getCurrentUserId,isStillLoading:__WEBPACK_IMPORTED_MODULE_21__stores_FriendsActionsStore__.a.getIsStillLoading,hasFriendsFound:!1,filterText:__WEBPACK_IMPORTED_MODULE_12_app_modules_locale_queries_CustomTranslateQueries__.a.getFilterTranslatedText,nameToFilterBy:__WEBPACK_IMPORTED_MODULE_19__stores_FilterFriendStore__.a.getUserNameToFilterBy,numberOfTotalFriends:0,isOnIpad:__WEBPACK_IMPORTED_MODULE_13_app_queries_WidgetQueries__.a.getisOnIpad,isLoadingFriendRequests:!0,friendRequests:[],showMoreFriendRequests:__WEBPACK_IMPORTED_MODULE_21__stores_FriendsActionsStore__.a.getShowMoreFriendRequests,showMoreFriendsInvitationsLink:__WEBPACK_IMPORTED_MODULE_21__stores_FriendsActionsStore__.a.getShowMoreFriendInvitations,currentDeclineUserId:__WEBPACK_IMPORTED_MODULE_21__stores_FriendsActionsStore__.a.getCurrentDeclineUserId,showAddFriendTab:__WEBPACK_IMPORTED_MODULE_21__stores_FriendsActionsStore__.a.getShowAddFriendsTab},__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_8_app_modules_authentication_queries_IdentityQueries__.a.hasIdentity,__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState(__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_7_app_selectors__.I,__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_7_app_selectors__.J,__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isLoading:!1,friends:__WEBPACK_IMPORTED_MODULE_7_app_selectors__.K,locale:__WEBPACK_IMPORTED_MODULE_4__stejar_translate__.LocaleQueries.getCurrentLocale,clubUrl:__WEBPACK_IMPORTED_MODULE_9_app_modules_configuration_queries_ConfigurationQueries__.a.getClubUrl,nbConnections:__WEBPACK_IMPORTED_MODULE_7_app_selectors__.L,hasFriendsFound:__WEBPACK_IMPORTED_MODULE_7_app_selectors__.M,numberOfTotalFriends:__WEBPACK_IMPORTED_MODULE_7_app_selectors__.N}),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isLoading:!0,friends:__WEBPACK_IMPORTED_MODULE_7_app_selectors__.O,locale:__WEBPACK_IMPORTED_MODULE_4__stejar_translate__.LocaleQueries.getCurrentLocale,clubUrl:__WEBPACK_IMPORTED_MODULE_9_app_modules_configuration_queries_ConfigurationQueries__.a.getClubUrl,nbConnections:__WEBPACK_IMPORTED_MODULE_7_app_selectors__.L,hasFriendsFound:__WEBPACK_IMPORTED_MODULE_7_app_selectors__.P})),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isLoading:!0,friends:[],hasFriendsFound:!1,clubUrl:__WEBPACK_IMPORTED_MODULE_9_app_modules_configuration_queries_ConfigurationQueries__.a.getClubUrl})),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_20__selectors__.Q,__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isLoadingFriendRequests:!1,friendRequests:__WEBPACK_IMPORTED_MODULE_20__selectors__.R,nbFriendRequests:__WEBPACK_IMPORTED_MODULE_20__selectors__.S}),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isLoadingFriendRequests:!0,friendRequests:[],nbFriendRequests:0})),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_20__selectors__.Q,__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isLoadingFriendInvitations:!1,friendsInvitations:__WEBPACK_IMPORTED_MODULE_20__selectors__.T,nbFriendInvitations:__WEBPACK_IMPORTED_MODULE_20__selectors__.U}),__WEBPACK_IMPORTED_MODULE_3__stejar_redux__.Selector.fromState({isLoadingFriendInvitations:!0,friendsInvitations:[],nbFriendInvitations:0})))))),__metadata("design:paramtypes",[])],FriendsActivityFeedController)},536:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react__=__webpack_require__(31),__WEBPACK_IMPORTED_MODULE_1_spark_overlay__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react__),__webpack_require__(50)),__WEBPACK_IMPORTED_MODULE_2__services_NotificationsPanelService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_spark_overlay__),__webpack_require__(122)),__WEBPACK_IMPORTED_MODULE_3__modules_integrator_communication_services_FriendsCommunicationService__=__webpack_require__(102),__WEBPACK_IMPORTED_MODULE_4__modules_integrator_communication_services_CommunicationService__=__webpack_require__(42),__WEBPACK_IMPORTED_MODULE_5__modules_tagCommander_services_TagCommanderService__=__webpack_require__(66),__WEBPACK_IMPORTED_MODULE_6__services_AddFriendService__=__webpack_require__(385),__WEBPACK_IMPORTED_MODULE_7__stejar_react_di__=__webpack_require__(36),__WEBPACK_IMPORTED_MODULE_8_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7__stejar_react_di__),__webpack_require__(35)),__WEBPACK_IMPORTED_MODULE_9__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9__stejar_redux__),__webpack_require__(107)),__WEBPACK_IMPORTED_MODULE_11__services_SocialNetworkService__=__webpack_require__(390),__WEBPACK_IMPORTED_MODULE_12__modules_authentication_queries_IdentityQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_13__queries_SocialNetworkQueries__=__webpack_require__(382),__WEBPACK_IMPORTED_MODULE_14__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_15__stejar_translate__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_16__stores_FriendsActionsStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_15__stejar_translate__),__webpack_require__(106)),__WEBPACK_IMPORTED_MODULE_17__stores_SteamAccountsStore__=__webpack_require__(181),__WEBPACK_IMPORTED_MODULE_18__stores_XboxAccountsStore__=__webpack_require__(182),__WEBPACK_IMPORTED_MODULE_19__stores_PsnAccountsStore__=__webpack_require__(179),__WEBPACK_IMPORTED_MODULE_20__queries_SteamAccountsQueries__=__webpack_require__(383),__WEBPACK_IMPORTED_MODULE_21__queries_XboxAccountsQueries__=__webpack_require__(384),__WEBPACK_IMPORTED_MODULE_22__queries_PsnAccountsQueries__=__webpack_require__(381),__WEBPACK_IMPORTED_MODULE_23__entities_LinkedAccounts__=__webpack_require__(169),__WEBPACK_IMPORTED_MODULE_24__modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(25);__webpack_require__.d(exports,"a",function(){return SocialNetworksController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},psnImg=__webpack_require__(520),steamImg=__webpack_require__(521),xboxImg=__webpack_require__(522),psnButtonImg=__webpack_require__(1020),steamButtonImg=__webpack_require__(1022),xboxButtonImg=__webpack_require__(1024),psnActiveImg=__webpack_require__(1019),steamActiveImg=__webpack_require__(1021),xboxActiveImg=__webpack_require__(1023),SocialNetworksController=function(_PureComponent){function SocialNetworksController(){return _classCallCheck(this,SocialNetworksController),_possibleConstructorReturn(this,(SocialNetworksController.__proto__||Object.getPrototypeOf(SocialNetworksController)).apply(this,arguments))}return _inherits(SocialNetworksController,_PureComponent),_createClass(SocialNetworksController,[{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_1_spark_overlay__.SocialNetworksView,{activeTab:this.props.activeTab,clubUrl:this.props.clubUrl,locale:this.props.locale,currentFriendInvitationId:this.props.currentFriendInvitationId,currentDeclineUserId:this.props.currentDeclineUserId,showMoreLinkPsn:this.props.showMoreLinkPsn,showMoreLinkXbox:this.props.showMoreLinkXbox,showMoreLinkSteam:this.props.showMoreLinkSteam,showLessLinkPsn:!this.props.showMoreLinkPsn,showLessLinkXbox:!this.props.showMoreLinkXbox,showLessLinkSteam:!this.props.showMoreLinkSteam,psnImg:psnImg,steamImg:steamImg,xboxImg:xboxImg,psnButtonImg:psnButtonImg,steamButtonImg:steamButtonImg,xboxButtonImg:xboxButtonImg,psnActiveImg:psnActiveImg,steamActiveImg:steamActiveImg,xboxActiveImg:xboxActiveImg,isLinkedWithPsn:this.props.isLinkedWithPsn,isLinkedWithXbox:this.props.isLinkedWithXbox,isLinkedWithSteam:this.props.isLinkedWithSteam,isLoadinPsn:this.props.isLoadinPsn,isLoadinXbox:this.props.isLoadinXbox,isLoadinSteam:this.props.isLoadinSteam,isAuthExpiredOnPsn:this.props.isAuthExpiredOnPsn,isAuthExpiredOnXbox:this.props.isAuthExpiredOnXbox,isReloadFailedPsn:this.props.isReloadFailedPsn,isReloadFailedXbox:this.props.isReloadFailedXbox,hasFriendsOnPsn:this.props.hasFriendsOnPsn,hasFriendsOnXbox:this.props.hasFriendsOnXbox,hasFriendsOnSteam:this.props.hasFriendsOnSteam,friendsOnPsn:this.props.friendsOnPsn||[],friendsOnXbox:this.props.friendsOnXbox||[],friendsOnSteam:this.props.friendsOnSteam||[],nbFriendOnPsn:this.props.nbFriendOnPsn,nbFriendOnXbox:this.props.nbFriendOnXbox,nbFriendOnSteam:this.props.nbFriendOnSteam,onClickToggleShowMorenPsn:this.onClickToggleShowMorenPsn,onClickToggleShowMoreOnXbox:this.onClickToggleShowMoreOnXbox,onClickToggleShowMorenSteam:this.onClickToggleShowMorenSteam,onClickDeclineRequest:this.onClickDeclineRequest,onClickFriendRequest:this.onClickFriendRequest,onClickCancelDeclineRequest:this.onClickCancelDeclineRequest,onClickConfirmDeclineRequest:this.onClickConfirmDeclineRequest,onClickLinkPsn:this.onClickLinkPsn,onClickLinkXbox:this.onClickLinkXbox,onClickInviteRequest:this.onClickInviteRequest,onClickAcceptRequest:this.onClickAcceptRequest,onClickChangeTab:this.onClickChangeTab})}},{key:"componentDidUpdate",value:function(prevProps){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(prevProps.showAddFriendTab===this.props.showAddFriendTab||!this.props.showAddFriendTab){_context.next=3;break}return _context.next=3,this.loadFirends(this.props.activeTab);case 3:if(prevProps.activeTab===this.props.activeTab){_context.next=6;break}return _context.next=6,this.loadFirends(this.props.activeTab);case 6:case"end":return _context.stop()}},_callee,this)}))}},{key:"loadFirends",value:function(activeTab){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:_context2.t0=activeTab,_context2.next="PSN"===_context2.t0?3:"XBOX"===_context2.t0?6:"STEAM"===_context2.t0?9:12;break;case 3:return _context2.next=5,this.props.socialNetworkService.loadPlayStationFriendsAccounts(0,__WEBPACK_IMPORTED_MODULE_23__entities_LinkedAccounts__.c);case 5:return _context2.abrupt("break",15);case 6:return _context2.next=8,this.props.socialNetworkService.loadXboxFriendsAccounts(0,__WEBPACK_IMPORTED_MODULE_23__entities_LinkedAccounts__.b);case 8:return _context2.abrupt("break",15);case 9:return _context2.next=11,this.props.socialNetworkService.loadSteamFriendsAccounts(0,__WEBPACK_IMPORTED_MODULE_23__entities_LinkedAccounts__.a);case 11:return _context2.abrupt("break",15);case 12:return _context2.next=14,this.props.socialNetworkService.loadPlayStationFriendsAccounts(0,__WEBPACK_IMPORTED_MODULE_23__entities_LinkedAccounts__.c);case 14:return _context2.abrupt("break",15);case 15:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"onClickToggleShowMorenPsn",value:function(toggle,e){this.props.socialNetworkService.onToggleShowMorenPsn(toggle)}},{key:"onClickToggleShowMoreOnXbox",value:function(toggle,e){this.props.socialNetworkService.onToggleShowMorenXbox(toggle)}},{key:"onClickToggleShowMorenSteam",value:function(toggle,e){this.props.socialNetworkService.onToggleShowMorenSteam(toggle)}},{key:"onClickDeclineRequest",value:function(userId,userName,e){e.preventDefault(),this.props.friendsCommunicationService.onConfirmDeclineRequest(userId)}},{key:"onClickFriendRequest",value:function(userName,e){e.preventDefault(),this.onRedirectToFriend(userName),this.props.communicationService.clickedOnCloseFriends()}},{key:"onRedirectToFriend",value:function(userName){this.props.friendsCommunicationService.onRedirectToFriend(this.props.clickFriendsProfileType,userName,this.props.clubUrl,this.props.locale)}},{key:"onClickCancelDeclineRequest",value:function(userId,e){this.props.friendsCommunicationService.onCancelDeclineRequest(userId)}},{key:"onClickConfirmDeclineRequest",value:function(userId,e){this.props.notificationsPanelService.handleDeclineRequest(userId)}},{key:"onClickLinkPsn",value:function(e){e.preventDefault(),this.props.socialNetworkService.onClickLinkPsn()}},{key:"onClickLinkXbox",value:function(e){e.preventDefault(),this.props.socialNetworkService.onClickLinkXbox()}},{key:"onClickInviteRequest",value:function(pid,nameOnPlatform,e){e.preventDefault(),this.props.tagCommanderService.trackEvent("Nav - Ubibar - Send Friend Invitation","Overlay"),this.props.addFriendService.onClickInviteRequest(pid,nameOnPlatform)}},{key:"onClickAcceptRequest",value:function(userId,e){e.preventDefault(),this.props.notificationsPanelService.handleAcceptRequest(userId)}},{key:"onClickChangeTab",value:function(tab,e){this.props.socialNetworkService.onChangeTab(tab)}}]),SocialNetworksController}(__WEBPACK_IMPORTED_MODULE_0__stejar_react__.PureComponent);SocialNetworksController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__stejar_react_di__.inject)({notificationsPanelService:__WEBPACK_IMPORTED_MODULE_2__services_NotificationsPanelService__.a,friendsCommunicationService:__WEBPACK_IMPORTED_MODULE_3__modules_integrator_communication_services_FriendsCommunicationService__.a,communicationService:__WEBPACK_IMPORTED_MODULE_4__modules_integrator_communication_services_CommunicationService__.a,tagCommanderService:__WEBPACK_IMPORTED_MODULE_5__modules_tagCommander_services_TagCommanderService__.a,addFriendService:__WEBPACK_IMPORTED_MODULE_6__services_AddFriendService__.a,socialNetworkService:__WEBPACK_IMPORTED_MODULE_11__services_SocialNetworkService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8_react_redux__.connect)(__WEBPACK_IMPORTED_MODULE_9__stejar_redux__.Selector.fromState({activeTab:__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__.a.getSelectedTab,clubUrl:__WEBPACK_IMPORTED_MODULE_14__modules_configuration_queries_ConfigurationQueries__.a.getClubUrl,locale:__WEBPACK_IMPORTED_MODULE_15__stejar_translate__.LocaleQueries.getCurrentLocale,currentFriendInvitationId:__WEBPACK_IMPORTED_MODULE_16__stores_FriendsActionsStore__.a.getCurrentUserId,currentDeclineUserId:__WEBPACK_IMPORTED_MODULE_16__stores_FriendsActionsStore__.a.getCurrentDeclineUserId,isAuthExpiredOnPsn:__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__.a.getErrorLoadingPsn,isAuthExpiredOnXbox:__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__.a.getErrorLoadingXbox,isReloadFailedPsn:__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__.a.getIsReloadFailedPsn,isReloadFailedXbox:__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__.a.getIsReloadFailedXbox,showMoreLinkPsn:__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__.a.getShowMoreFriendsOnPsn,showMoreLinkXbox:__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__.a.getShowMoreFriendsOnXbox,showMoreLinkSteam:__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__.a.getShowMoreFriendsOnSteam,showAddFriendTab:__WEBPACK_IMPORTED_MODULE_16__stores_FriendsActionsStore__.a.getShowAddFriendsTab,isLoadinPsn:__WEBPACK_IMPORTED_MODULE_19__stores_PsnAccountsStore__.a.getIsLoading,isLoadinXbox:__WEBPACK_IMPORTED_MODULE_18__stores_XboxAccountsStore__.a.getIsLoading,isLoadinSteam:__WEBPACK_IMPORTED_MODULE_17__stores_SteamAccountsStore__.a.getIsLoading,clickFriendsProfileType:__WEBPACK_IMPORTED_MODULE_24__modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getClickFriendsProfileType},__WEBPACK_IMPORTED_MODULE_9__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_12__modules_authentication_queries_IdentityQueries__.a.getHasIdentity,__WEBPACK_IMPORTED_MODULE_9__stejar_redux__.Selector.fromState({isLinkedWithPsn:__WEBPACK_IMPORTED_MODULE_13__queries_SocialNetworkQueries__.a.getIsLinkedWithPsn,isLinkedWithXbox:__WEBPACK_IMPORTED_MODULE_13__queries_SocialNetworkQueries__.a.getIsLinkedWithXbox,isLinkedWithSteam:__WEBPACK_IMPORTED_MODULE_13__queries_SocialNetworkQueries__.a.getIsLinkedWithSteam},__WEBPACK_IMPORTED_MODULE_9__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_17__stores_SteamAccountsStore__.a.getIsLoading,__WEBPACK_IMPORTED_MODULE_9__stejar_redux__.Selector.fromState({hasFriendsOnSteam:!1,friendsOnSteam:[],nbFriendOnSteam:0}),__WEBPACK_IMPORTED_MODULE_9__stejar_redux__.Selector.fromState({hasFriendsOnSteam:__WEBPACK_IMPORTED_MODULE_20__queries_SteamAccountsQueries__.a.getHasUplayFriendsWhoAreOnSteam,friendsOnSteam:__WEBPACK_IMPORTED_MODULE_20__queries_SteamAccountsQueries__.a.getUplayFriendsWhoAreOnSteamToShow,nbFriendOnSteam:__WEBPACK_IMPORTED_MODULE_20__queries_SteamAccountsQueries__.a.getNbOfUplayFriendsWhoAreOnSteam})),__WEBPACK_IMPORTED_MODULE_9__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_18__stores_XboxAccountsStore__.a.getIsLoading,__WEBPACK_IMPORTED_MODULE_9__stejar_redux__.Selector.fromState({isAuthExpiredOnXbox:!1,isReloadFailedXbox:!1,hasFriendsOnXbox:!1,friendsOnXbox:[],nbFriendOnXbox:0}),__WEBPACK_IMPORTED_MODULE_9__stejar_redux__.Selector.fromState({isAuthExpiredOnXbox:__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__.a.getErrorLoadingXbox,isReloadFailedXbox:__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__.a.getIsReloadFailedXbox,hasFriendsOnXbox:__WEBPACK_IMPORTED_MODULE_21__queries_XboxAccountsQueries__.a.getHasUplayFriendsWhoAreOnXbox,friendsOnXbox:__WEBPACK_IMPORTED_MODULE_21__queries_XboxAccountsQueries__.a.getUplayFriendsWhoAreOnXboxToShow,nbFriendOnXbox:__WEBPACK_IMPORTED_MODULE_21__queries_XboxAccountsQueries__.a.getNbOfUplayFriendsWhoAreOnXbox})),__WEBPACK_IMPORTED_MODULE_9__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_19__stores_PsnAccountsStore__.a.getIsLoading,__WEBPACK_IMPORTED_MODULE_9__stejar_redux__.Selector.fromState({isAuthExpiredOnPsn:!1,isReloadFailedPsn:!1,hasFriendsOnPsn:!1,friendsOnPsn:[],nbFriendOnPsn:0}),__WEBPACK_IMPORTED_MODULE_9__stejar_redux__.Selector.fromState({isAuthExpiredOnPsn:__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__.a.getErrorLoadingPsn,isReloadFailedPsn:__WEBPACK_IMPORTED_MODULE_10__stores_SocialNetworkStore__.a.getIsReloadFailedPsn,hasFriendsOnPsn:__WEBPACK_IMPORTED_MODULE_22__queries_PsnAccountsQueries__.a.getHasUplayFriendsWhoAreOnPsn,friendsOnPsn:__WEBPACK_IMPORTED_MODULE_22__queries_PsnAccountsQueries__.a.getUplayFriendsWhoAreOnPsnToShow,nbFriendOnPsn:__WEBPACK_IMPORTED_MODULE_22__queries_PsnAccountsQueries__.a.getNbOfUplayFriendsWhoAreOnPsn}))),{isLinkedWithPsn:!1,isLinkedWithXbox:!1,isLinkedWithSteam:!1}))),__metadata("design:paramtypes",[])],SocialNetworksController)},537:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react__=__webpack_require__(31),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(35)),__WEBPACK_IMPORTED_MODULE_3__stejar_authentication__=__webpack_require__(9),__WEBPACK_IMPORTED_MODULE_4_app_modules_authentication_components_Login_LoginController__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_authentication__),__webpack_require__(544)),__WEBPACK_IMPORTED_MODULE_5_app_components_Overlay_OverlayController__=__webpack_require__(539),__WEBPACK_IMPORTED_MODULE_6_app_stores_ClubProfilesStore__=__webpack_require__(105),__WEBPACK_IMPORTED_MODULE_7_app_stores_UserProfilesStore__=__webpack_require__(59);__webpack_require__.d(exports,"a",function(){return LayoutController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},LayoutController=function(_Component){function LayoutController(){return _classCallCheck(this,LayoutController),_possibleConstructorReturn(this,(LayoutController.__proto__||Object.getPrototypeOf(LayoutController)).apply(this,arguments))}return _inherits(LayoutController,_Component),_createClass(LayoutController,[{key:"render",value:function(){return this.props.isReady?React.createElement(__WEBPACK_IMPORTED_MODULE_5_app_components_Overlay_OverlayController__.a,null):React.createElement(__WEBPACK_IMPORTED_MODULE_4_app_modules_authentication_components_Login_LoginController__.a,null);
}}]),LayoutController}(__WEBPACK_IMPORTED_MODULE_0__stejar_react__.Component);LayoutController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_react_redux__.connect)(function(state,props){return __WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Selector.fromState({isReady:[__WEBPACK_IMPORTED_MODULE_3__stejar_authentication__.AuthenticationQueries.hasIdentity,__WEBPACK_IMPORTED_MODULE_6_app_stores_ClubProfilesStore__.a.loadedMyProfiles,__WEBPACK_IMPORTED_MODULE_7_app_stores_UserProfilesStore__.a.loadedMyProfiles]})}),__metadata("design:paramtypes",[])],LayoutController)},538:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react__=__webpack_require__(31),__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_3__stejar_translate__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__),__webpack_require__(24)),__WEBPACK_IMPORTED_MODULE_4_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_translate__),__webpack_require__(35)),__WEBPACK_IMPORTED_MODULE_5_spark_overlay__=__webpack_require__(50),__WEBPACK_IMPORTED_MODULE_6_app_modules_configuration_queries_ConfigurationQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_spark_overlay__),__webpack_require__(18)),__WEBPACK_IMPORTED_MODULE_7_app_modules_integrator_communication_services_CommunicationService__=__webpack_require__(42),__WEBPACK_IMPORTED_MODULE_8_app_modules_swiper_services_Swiper__=__webpack_require__(121),__WEBPACK_IMPORTED_MODULE_9_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_10_app_queries_WidgetQueries__=__webpack_require__(58),__WEBPACK_IMPORTED_MODULE_11_app_services_NotificationsPanelService__=__webpack_require__(122),__WEBPACK_IMPORTED_MODULE_12_messages__=__webpack_require__(51),__WEBPACK_IMPORTED_MODULE_13_app_modules_integrator_communication_services_FriendsCommunicationService__=__webpack_require__(102),__WEBPACK_IMPORTED_MODULE_14_app_selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_15_app_modules_integrator_communication_services_EmailVerificationService__=__webpack_require__(171);__webpack_require__.d(exports,"a",function(){return NotificationsPanelController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},NotificationsPanelController=function(_PureComponent){function NotificationsPanelController(){_classCallCheck(this,NotificationsPanelController);var _this=_possibleConstructorReturn(this,(NotificationsPanelController.__proto__||Object.getPrototypeOf(NotificationsPanelController)).apply(this,arguments));return _this.state={childHeight:0},_this.scrollableContentRef=function(el){return _this._scrollableContentRef=el},_this}return _inherits(NotificationsPanelController,_PureComponent),_createClass(NotificationsPanelController,[{key:"setSwipeRef",value:function(container){this._swipeRef=container}},{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_5_spark_overlay__.NotificationsPanelView,{show:this.props.show,height:this.props.height,isInMobileView:this.props.isInMobileView,scrollableContentRef:this.scrollableContentRef,notifications:this.props.notifications||[],notificationsLength:this.props.notifications?this.props.notifications.length:0,isLoading:this.props.isLoading,handleCloseIconOnClick:this.handleCloseIconOnClick,swipeRef:this.setSwipeRef,clubUrl:this.props.clubUrl,locale:this.props.locale,showUserEmailVerificationButton:this.props.showUserEmailVerificationButton,isEmailVerificationSent:this.props.isEmailVerificationSent,onClickResendVerificationEmail:this.onClickResendVerificationEmail,widgetHeight:this.props.widgetHeight,isIsoVersionLowerThanNine:this.props.isIsoVersionLowerThanNine,offsetHeight:this.state.childHeight,isInDesktopResize:this.props.isInDesktopResize,isOnIpad:this.props.isOnIpad})}},{key:"componentDidMount",value:function(){new __WEBPACK_IMPORTED_MODULE_8_app_modules_swiper_services_Swiper__.a(this._swipeRef,this.handleSwipe.bind(this),60,600,(!1)),this.setState({childHeight:this._scrollableContentRef?this._scrollableContentRef.clientHeight:0})}},{key:"componentDidUpdate",value:function(prevProps,prevState){var offsetHeight=null;return this._scrollableContentRef&&!this.props.isInMobileView&&(offsetHeight=this._scrollableContentRef.offsetHeight<633?this._scrollableContentRef.offsetHeight:633),this._scrollableContentRef&&prevState.childHeight!==this._scrollableContentRef.clientHeight&&this.setState({childHeight:this._scrollableContentRef.offsetHeight}),this.props.show&&!prevProps.show&&(this.props.communicationService.handleExpandIframe(__WEBPACK_IMPORTED_MODULE_12_messages__.c.NOTIFICATIONS,offsetHeight),this._scrollableContentRef&&(this._scrollableContentRef.scrollTop=0)),prevProps.isLoading!==this.props.isLoading&&this.props.communicationService.handleExpandIframe(__WEBPACK_IMPORTED_MODULE_12_messages__.c.NOTIFICATIONS,offsetHeight),null}},{key:"handleSwipe",value:function(payload){payload.swipeLeft&&this.props.communicationService.clickedOnMobileFriends()}},{key:"handleCloseIconOnClick",value:function(e){e.preventDefault(),this.props.communicationService.clickedOnCloseNotifications()}},{key:"onClickResendVerificationEmail",value:function(e){e.preventDefault(),this.props.emailVerificationService.onTriggerEmailActivation()}}]),NotificationsPanelController}(__WEBPACK_IMPORTED_MODULE_0__stejar_react__.PureComponent);NotificationsPanelController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__.inject)({notificationsPanelService:__WEBPACK_IMPORTED_MODULE_11_app_services_NotificationsPanelService__.a,communicationService:__WEBPACK_IMPORTED_MODULE_7_app_modules_integrator_communication_services_CommunicationService__.a,friendsCommunicationService:__WEBPACK_IMPORTED_MODULE_13_app_modules_integrator_communication_services_FriendsCommunicationService__.a,emailVerificationService:__WEBPACK_IMPORTED_MODULE_15_app_modules_integrator_communication_services_EmailVerificationService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_react_redux__.connect)(function(state,props){return __WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({isInMobileView:__WEBPACK_IMPORTED_MODULE_10_app_queries_WidgetQueries__.a.getIsInMobileView,height:__WEBPACK_IMPORTED_MODULE_9_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getHeight,locale:__WEBPACK_IMPORTED_MODULE_3__stejar_translate__.LocaleQueries.getCurrentLocale,clubUrl:__WEBPACK_IMPORTED_MODULE_6_app_modules_configuration_queries_ConfigurationQueries__.a.getClubUrl,show:__WEBPACK_IMPORTED_MODULE_10_app_queries_WidgetQueries__.a.getShowNotifications,clickFriendsProfileType:__WEBPACK_IMPORTED_MODULE_9_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getClickFriendsProfileType,showUserEmailVerificationButton:__WEBPACK_IMPORTED_MODULE_14_app_selectors__.q,isEmailVerificationSent:__WEBPACK_IMPORTED_MODULE_14_app_selectors__.V,widgetHeight:__WEBPACK_IMPORTED_MODULE_10_app_queries_WidgetQueries__.a.getHeight,isIsoVersionLowerThanNine:__WEBPACK_IMPORTED_MODULE_10_app_queries_WidgetQueries__.a.getIsIsoVersionLowerThanNine,isInDesktopResize:__WEBPACK_IMPORTED_MODULE_9_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getIsInDesktopResize,isOnIpad:__WEBPACK_IMPORTED_MODULE_10_app_queries_WidgetQueries__.a.getisOnIpad,isLoading:!1,notifications:[]})}),__metadata("design:paramtypes",[])],NotificationsPanelController)},539:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react__=__webpack_require__(31),__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_3_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__),__webpack_require__(35)),__WEBPACK_IMPORTED_MODULE_4__stejar_authentication__=__webpack_require__(9),__WEBPACK_IMPORTED_MODULE_5_app_modules_integrator_communication_services_CommunicationService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__stejar_authentication__),__webpack_require__(42)),__WEBPACK_IMPORTED_MODULE_6_app_modules_integrator_configuration_stores_IntegratorConfigurationStore__=__webpack_require__(172),__WEBPACK_IMPORTED_MODULE_7_app_modules_pageLoader_services_PageLoaderService__=__webpack_require__(103),__WEBPACK_IMPORTED_MODULE_8_app_modules_authentication_queries_IdentityQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_9_app_components_Overlay_OverlayView__=__webpack_require__(540),__WEBPACK_IMPORTED_MODULE_10_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__=__webpack_require__(58),__WEBPACK_IMPORTED_MODULE_12_app_stores_UserProfilesStore__=__webpack_require__(59),__WEBPACK_IMPORTED_MODULE_13_app_stores_ClubProfilesStore__=__webpack_require__(105),__WEBPACK_IMPORTED_MODULE_14_app_selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_15_app_modules_swiper_services_Swiper__=__webpack_require__(121),__WEBPACK_IMPORTED_MODULE_16_spark_overlay__=__webpack_require__(50),__WEBPACK_IMPORTED_MODULE_17_app_modules_tagCommander_services_TagCommanderService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_16_spark_overlay__),__webpack_require__(66)),__WEBPACK_IMPORTED_MODULE_18_app_modules_avatars_queries_AvatarsQueries__=__webpack_require__(547),__WEBPACK_IMPORTED_MODULE_19_app_stores_FriendsStore__=__webpack_require__(67);__webpack_require__.d(exports,"a",function(){return OverlayController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},OverlayController=function(_Component){function OverlayController(){return _classCallCheck(this,OverlayController),_possibleConstructorReturn(this,(OverlayController.__proto__||Object.getPrototypeOf(OverlayController)).apply(this,arguments))}return _inherits(OverlayController,_Component),_createClass(OverlayController,[{key:"setSwipeRef",value:function(container){this._swipeRef=container}},{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_9_app_components_Overlay_OverlayView__.a,{swipeRef:this.setSwipeRef,height:this.props.height,avatarUrl:this.props.avatarUrl,level:this.props.level,noActiveClickOnMenu:this.props.noActiveClickOnMenu,userId:this.props.userId,username:this.props.username,bgColor:this.props.bgColor,units:this.props.units,showFriends:this.props.showFriends,showNotifications:this.props.showNotifications,isInMobileView:this.props.isInMobileView,showMobileTabs:this.props.showMobileTabs,loadedNbOfFriendsOnline:this.props.loadedNbOfFriendsOnline,nbFriends:this.props.nbConnections,showPlayerCard:this.props.showPlayerCard,loadedNotifications:this.props.loadedNotifications,nbNotifications:this.props.nbNotifications,isInDesktopResize:this.props.isInDesktopResize&&!this.props.isInMobileView,onClickPlayerCard:this.handleOnClickPlayerCard,handleFriendsOnClick:this.handleFriendsOnClick,onClickMobilePlayerCard:this.handleOnMobileClickPlayerCard,handleFriendsOnMobileClick:this.handleFriendsOnMobileClick,handleOnClickMenu:this.handleOnClickMenu,handleNotificationsOnClick:this.handleNotificationsOnClick,handleOnMobileNotifications:this.handleOnMobileNotifications})}},{key:"componentDidMount",value:function(){__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_16_spark_overlay__.trackEventFunction)(this.props.tagCommanderService.trackEvent.bind(this.props.tagCommanderService)),new __WEBPACK_IMPORTED_MODULE_15_app_modules_swiper_services_Swiper__.a(this._swipeRef,this.handleSwipe.bind(this),60,600,(!1))}},{key:"handleFriendsOnClick",value:function(e){e.preventDefault(),this.props.communicationService.clickedOnFriends()}},{key:"handleOnClickPlayerCard",value:function(e){return e.preventDefault(),this.props.isInMobileView||this.props.isInDesktopResize?(this.props.communicationService.clickedOnMobilePlayerCard(),null):(this.props.communicationService.clickedOnPlayerCard(),null)}},{key:"handleOnClickMenu",value:function(e){e.preventDefault(),this.props.noActiveClickOnMenu||this.props.communicationService.clickedOnMenu()}},{key:"handleOnMobileClickPlayerCard",value:function(e){e.preventDefault(),this.props.communicationService.clickedOnMobilePlayerCardTab()}},{key:"handleFriendsOnMobileClick",value:function(e){e.preventDefault(),this.props.communicationService.clickedOnMobileFriends()}},{key:"handleSwipe",value:function(payload){if(this.props.showPlayerCard&&payload.swipeRight||this.props.showNotifications&&payload.swipeLeft)return void this.props.communicationService.clickedOnMobileFriends();if(this.props.showFriends){if(payload.swipeRight)return void this.props.communicationService.clickedOnMobileNotifications();if(payload.swipeLeft)return void this.props.communicationService.clickedOnMobilePlayerCardTab()}}},{key:"handleNotificationsOnClick",value:function(e){e.preventDefault(),this.props.communicationService.clickedOnNotifications()}},{key:"handleOnMobileNotifications",value:function(e){e.preventDefault(),this.props.communicationService.clickedOnMobileNotifications()}}]),OverlayController}(__WEBPACK_IMPORTED_MODULE_0__stejar_react__.Component);OverlayController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__.inject)({communicationService:__WEBPACK_IMPORTED_MODULE_5_app_modules_integrator_communication_services_CommunicationService__.a,integratorConfigurationStore:__WEBPACK_IMPORTED_MODULE_6_app_modules_integrator_configuration_stores_IntegratorConfigurationStore__.a,authenticationService:__WEBPACK_IMPORTED_MODULE_4__stejar_authentication__.AuthenticationService,pageLoaderService:__WEBPACK_IMPORTED_MODULE_7_app_modules_pageLoader_services_PageLoaderService__.a,tagCommanderService:__WEBPACK_IMPORTED_MODULE_17_app_modules_tagCommander_services_TagCommanderService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_react_redux__.connect)(function(state,props){return __WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({showFriends:__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__.a.getShowFriends,showPlayerCard:__WEBPACK_IMPORTED_MODULE_16_spark_overlay__.isActive$,showNotifications:__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__.a.getShowNotifications,isInMobileView:__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__.a.getIsInMobileView,showMobileTabs:__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__.a.getShowMobileTabs,noActiveClickOnMenu:__WEBPACK_IMPORTED_MODULE_11_app_queries_WidgetQueries__.a.getNoActiveClickOnMenu,height:__WEBPACK_IMPORTED_MODULE_10_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getHeight,loadedNotifications:__WEBPACK_IMPORTED_MODULE_19_app_stores_FriendsStore__.a.loaded,nbNotifications:0,isInDesktopResize:__WEBPACK_IMPORTED_MODULE_10_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getIsInDesktopResize},__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_4__stejar_authentication__.AuthenticationQueries.hasIdentity,__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({bgColor:__WEBPACK_IMPORTED_MODULE_10_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getBackgroundColor,userId:__WEBPACK_IMPORTED_MODULE_8_app_modules_authentication_queries_IdentityQueries__.a.getUserId,avatarUrl:__WEBPACK_IMPORTED_MODULE_18_app_modules_avatars_queries_AvatarsQueries__.a.getMyAvatarLarge,nbNotifications:__WEBPACK_IMPORTED_MODULE_14_app_selectors__.W},__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_12_app_stores_UserProfilesStore__.a.loadedMyProfiles,__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({username:__WEBPACK_IMPORTED_MODULE_14_app_selectors__.k})),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_13_app_stores_ClubProfilesStore__.a.loadedMyProfiles,__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({level:__WEBPACK_IMPORTED_MODULE_14_app_selectors__.r,units:__WEBPACK_IMPORTED_MODULE_14_app_selectors__.l})),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_19_app_stores_FriendsStore__.a.loaded,__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({loadedNbOfFriendsOnline:!0,nbConnections:__WEBPACK_IMPORTED_MODULE_14_app_selectors__.S}),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({loadedNbOfFriendsOnline:!1,nbConnections:0})))))}),__metadata("design:paramtypes",[])],OverlayController)},540:function(module,exports,__webpack_require__){"use strict";function OverlayView(props){return React.createElement("div",{id:"menu",style:{height:props.height+"px"}},React.createElement("div",{className:"menu_container_extended",style:{height:props.height+"px",backgroundColor:props.bgColor},onClick:props.handleOnClickMenu}),React.createElement("div",{className:"menu_container",style:{height:props.height+"px",backgroundColor:props.bgColor}},React.createElement(__WEBPACK_IMPORTED_MODULE_0_spark_overlay__.FriendsNotificationView,{nbFriends:props.nbFriends,loaded:props.loadedNbOfFriendsOnline,handleFriendsOnClick:props.handleFriendsOnClick,showFriends:props.showFriends,showNotifications:props.showNotifications,isInMobileView:props.isInMobileView,height:props.height,friendsActivityFeedComponent:__WEBPACK_IMPORTED_MODULE_2__FriendsActivityFeed_FriendsActivityFeedController__.a,friendsNotificationComponent:__WEBPACK_IMPORTED_MODULE_3_app_components_NotificationsPanel_NotificationsPanelController__.a,loadedNotifications:props.loadedNotifications,handleNotificationsOnClick:props.handleNotificationsOnClick,nbNotifications:props.nbNotifications,isInDesktopResize:props.isInDesktopResize}),React.createElement(__WEBPACK_IMPORTED_MODULE_0_spark_overlay__.CollapsedView,{avatarUrl:props.avatarUrl,level:props.level,units:props.units,username:props.username,isActive:props.showPlayerCard,showMobileTabs:props.showMobileTabs,isInMobileView:props.isInMobileView,onClick:props.onClickPlayerCard,expandedComponent:__WEBPACK_IMPORTED_MODULE_1_app_components_Expanded_ExpandedController__.a,hasNotifications:props.nbNotifications>0||props.nbFriends>0,isInDesktopResize:props.isInDesktopResize,showPlayerCard:props.showPlayerCard,showFriends:props.showFriends,showNotifications:props.showNotifications}),React.createElement(__WEBPACK_IMPORTED_MODULE_1_app_components_Expanded_ExpandedController__.a,{show:props.showPlayerCard||props.isInMobileView&&props.showMobileTabs,avatarUrl:props.avatarUrl}),React.createElement(__WEBPACK_IMPORTED_MODULE_0_spark_overlay__.MobileNavView,{swipeRef:props.swipeRef,handleFriendsOnClick:props.handleFriendsOnMobileClick,onClickPlayerCard:props.onClickMobilePlayerCard,nbFriends:props.nbFriends,isVisible:props.isInMobileView,showPlayerCard:props.showPlayerCard,showFriends:props.showFriends,showMobileTabs:props.showMobileTabs,showNotifications:props.showNotifications,handleNotificationsOnClick:props.handleOnMobileNotifications,nbNotifications:props.nbNotifications,isInDesktopResize:props.isInDesktopResize})))}var __WEBPACK_IMPORTED_MODULE_0_spark_overlay__=__webpack_require__(50),__WEBPACK_IMPORTED_MODULE_1_app_components_Expanded_ExpandedController__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_spark_overlay__),__webpack_require__(533)),__WEBPACK_IMPORTED_MODULE_2__FriendsActivityFeed_FriendsActivityFeedController__=__webpack_require__(535),__WEBPACK_IMPORTED_MODULE_3_app_components_NotificationsPanel_NotificationsPanelController__=__webpack_require__(538);exports.a=OverlayView},541:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react_di__=__webpack_require__(36),__WEBPACK_IMPORTED_MODULE_1__stejar_react__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react_di__),__webpack_require__(31)),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_3__stejar_utils__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__),__webpack_require__(43)),__WEBPACK_IMPORTED_MODULE_4__stejar_translate__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_utils__),__webpack_require__(24)),__WEBPACK_IMPORTED_MODULE_5_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__stejar_translate__),__webpack_require__(35)),__WEBPACK_IMPORTED_MODULE_6_app_modules_authentication_queries_IdentityQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_7_app_queries_UserRewardsQueries__=__webpack_require__(564),__WEBPACK_IMPORTED_MODULE_8_app_selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_9_app_stores_RewardsStore__=__webpack_require__(180),__WEBPACK_IMPORTED_MODULE_10_spark_overlay__=__webpack_require__(50),__WEBPACK_IMPORTED_MODULE_11_app_modules_configuration_queries_ConfigurationQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_spark_overlay__),__webpack_require__(18)),__WEBPACK_IMPORTED_MODULE_12_app_modules_integrator_communication_services_CommunicationService__=__webpack_require__(42),__WEBPACK_IMPORTED_MODULE_13_messages__=__webpack_require__(51);__webpack_require__.d(exports,"a",function(){return SuggestedRewardsController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},SuggestedRewardsController=function(_Component){function SuggestedRewardsController(){return _classCallCheck(this,SuggestedRewardsController),_possibleConstructorReturn(this,(SuggestedRewardsController.__proto__||Object.getPrototypeOf(SuggestedRewardsController)).apply(this,arguments))}return _inherits(SuggestedRewardsController,_Component),_createClass(SuggestedRewardsController,[{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_10_spark_overlay__.SuggestedRewardsView,{isLoaded:this.props.isLoaded,profileId:this.props.profileId,gameName:this.props.gameName,myUnits:this.props.myUnits,noRewardsForThisGame:this.props.noRewardsForThisGame,noRewardsLeftToGet:this.props.noRewardsLeftToGet,hasLastPlayedGameRewards:this.props.hasLastPlayedGameRewards,rewardId:this.props.rewardId,rewardSpaceId:this.props.rewardSpaceId,rewardsImageUrl:this.props.rewardsImageUrl,rewardName:this.props.rewardName,rewardHasValue:this.props.rewardHasValue,rewardHasCondition:this.props.rewardHasCondition,rewardPriceTooBig:this.props.rewardPriceTooBig,rewardValue:this.props.rewardValue,rewardCondition:this.props.rewardCondition,clubUrl:this.props.clubUrl,locale:this.props.locale,gameCode:this.props.gameCode,platform:this.props.platform,onClickReward:this.onClickReward,onClickGetReward:this.onClickGetReward,onClickSeeAll:this.onClickSeeAll,hasProfileCallError:this.props.hasProfileCallError})}},{key:"componentDidUpdate",value:function(prevProps){prevProps.isLoaded!==this.props.isLoaded&&this.props.communicationService.handleExpandIframe(__WEBPACK_IMPORTED_MODULE_13_messages__.c.PLAYER_CARD),prevProps.hasLastPlayedGameRewards!==this.props.hasLastPlayedGameRewards&&this.props.communicationService.handleExpandIframe(__WEBPACK_IMPORTED_MODULE_13_messages__.c.PLAYER_CARD)}},{key:"onClickReward",value:function(rewardId,spaceId,e){e.preventDefault(),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__stejar_utils__.newWindow)(this.props.clubUrl+"/"+this.props.locale+"/dashboard?_popup=reward&id="+rewardId+"&spaceId="+spaceId+"&modalState=default")}},{key:"onClickGetReward",value:function(rewardId,spaceId,e){e.preventDefault(),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__stejar_utils__.newWindow)(this.props.clubUrl+"/"+this.props.locale+"/dashboard?_popup=reward&id="+rewardId+"&spaceId="+spaceId+"&modalState=confirm")}},{key:"onClickSeeAll",value:function(e){e.preventDefault(),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__stejar_utils__.newWindow)(this.props.clubUrl+"/"+this.props.locale+"/game/"+this.props.gameCode+"/"+this.props.platform+"/rewards")}}]),SuggestedRewardsController}(__WEBPACK_IMPORTED_MODULE_1__stejar_react__.Component);SuggestedRewardsController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_react_di__.inject)({communicationService:__WEBPACK_IMPORTED_MODULE_12_app_modules_integrator_communication_services_CommunicationService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_react_redux__.connect)(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_6_app_modules_authentication_queries_IdentityQueries__.a.hasIdentity,__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({profileId:__WEBPACK_IMPORTED_MODULE_6_app_modules_authentication_queries_IdentityQueries__.a.getUserId,myUnits:__WEBPACK_IMPORTED_MODULE_8_app_selectors__.l,isLoaded:__WEBPACK_IMPORTED_MODULE_9_app_stores_RewardsStore__.a.loaded,clubUrl:__WEBPACK_IMPORTED_MODULE_11_app_modules_configuration_queries_ConfigurationQueries__.a.getClubUrl,locale:__WEBPACK_IMPORTED_MODULE_4__stejar_translate__.LocaleQueries.getCurrentLocale},__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_8_app_selectors__.j,__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({
noRewardsForThisGame:__WEBPACK_IMPORTED_MODULE_7_app_queries_UserRewardsQueries__.a.getNoRewardsForThisGame,noRewardsLeftToGet:__WEBPACK_IMPORTED_MODULE_7_app_queries_UserRewardsQueries__.a.getNoRewardsLeftToGet,hasLastPlayedGameRewards:__WEBPACK_IMPORTED_MODULE_7_app_queries_UserRewardsQueries__.a.getHasLastPlayedGameRewards,gameName:__WEBPACK_IMPORTED_MODULE_8_app_selectors__.m,gameCode:__WEBPACK_IMPORTED_MODULE_8_app_selectors__.n,platform:__WEBPACK_IMPORTED_MODULE_8_app_selectors__.o,hasProfileCallError:__WEBPACK_IMPORTED_MODULE_8_app_selectors__.p},__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector["if"](__WEBPACK_IMPORTED_MODULE_7_app_queries_UserRewardsQueries__.a.getHasLastPlayedGameRewards,__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({rewardId:__WEBPACK_IMPORTED_MODULE_7_app_queries_UserRewardsQueries__.a.getRewardId,rewardSpaceId:__WEBPACK_IMPORTED_MODULE_7_app_queries_UserRewardsQueries__.a.getRewardSpaceId,rewardsImageUrl:__WEBPACK_IMPORTED_MODULE_7_app_queries_UserRewardsQueries__.a.getRewardsImageUrl,rewardName:__WEBPACK_IMPORTED_MODULE_7_app_queries_UserRewardsQueries__.a.getRewardName,rewardHasValue:__WEBPACK_IMPORTED_MODULE_7_app_queries_UserRewardsQueries__.a.getRewardHasValue,rewardHasCondition:__WEBPACK_IMPORTED_MODULE_7_app_queries_UserRewardsQueries__.a.rewardHasCondition,rewardPriceTooBig:__WEBPACK_IMPORTED_MODULE_7_app_queries_UserRewardsQueries__.a.getRewardPriceTooBig,rewardValue:__WEBPACK_IMPORTED_MODULE_7_app_queries_UserRewardsQueries__.a.getRewardValue,rewardCondition:__WEBPACK_IMPORTED_MODULE_7_app_queries_UserRewardsQueries__.a.getRewardCondition})))))))),__metadata("design:paramtypes",[])],SuggestedRewardsController)},542:function(module,exports,__webpack_require__){"use strict";function _401Factory(serviceManager){var isReconnecting=!1,counter=0;serviceManager.get(__WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService).addResponseErrorInterceptor(function(response){if(401===response.statusCode&&4032===response.data.ErrorCode&&"MissingSso"==response.data.ErrorMessage)return Promise.reject(response);if(401===response.statusCode&&401013===response.data.errorCode&&"Access denied to the service"==response.data.message)return Promise.reject(response);if(401===response.statusCode&&401011===response.data.errorCode&&"Invalid Ubi-AppId"==response.data.message)return Promise.reject(response);if(401===response.statusCode&&4003===response.data.ErrorCode||400===response.statusCode&&4009===response.data.ErrorCode||403===response.statusCode&&3001===response.data.ErrorCode&&"PrivateSteamProfile"==response.data.errorMessage)return Promise.reject(response);if(403===response.statusCode&&"PromotionKeyRewards"===response.data.errorContext)switch(response.data.errorCode){case 1e3:case 1008:switch(response.data.message){case"ticket not valid":case"ticket profile not valid":case"ticket profile request not valid":console.warn("[401] 401 => PromotionKeyRewards => CASES");break;default:return console.warn("[401] 401 => PromotionKeyRewards => Default"),Promise.reject(response)}}return 401===response.statusCode||403===response.statusCode&&0===counter?(console.warn("[401] GOT 401 for "+response.request.getPath()),console.warn("[401] Old ticket was: "+__WEBPACK_IMPORTED_MODULE_2_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(serviceManager.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store).getState()).ticket),console.warn("[401] Headers are: "+JSON.stringify(response.request.getHeaderParams())),isReconnecting?(console.warn("[401] Is Reconnecting"),new Promise(function(resolve){setTimeout(function(){return isReconnecting?void console.warn("[401] Is **STIL** Reconnecting"):(console.warn("[401] Done"),response.request.getHeaderParams()["Ubi-SessionId"]&&(response.request=response.request.header("Ubi-SessionId",__WEBPACK_IMPORTED_MODULE_2_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(serviceManager.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store).getState()).sessionId)),response.request.getHeaderParams().Authorization&&(response.request=response.request.header("Authorization","Ubi_v1 t="+__WEBPACK_IMPORTED_MODULE_2_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(serviceManager.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store).getState()).ticket)),response.request.getHeaderParams().token&&(response.request=response.request.header("Token",__WEBPACK_IMPORTED_MODULE_2_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(serviceManager.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store).getState()).token)),void resolve(serviceManager.get(__WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService).send(response.request)))},5e3)})):(isReconnecting=!0,counter++,new Promise(function(resolve,reject){console.warn("[401] Getting ticket ..."),window.uplay&&window.uplay.init(__WEBPACK_IMPORTED_MODULE_3_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(serviceManager.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store).getState()),null,__WEBPACK_IMPORTED_MODULE_4__stejar_translate__.LocaleQueries.getCurrentLocale(serviceManager.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store).getState()),"Ubisoft_Overlay",function(){window.uplay.getTicket(function(data){return console.info("[401] IN 401_stuff..."),console.info(data),data.ticket?(console.warn("[401] Got ticket from remember me"),serviceManager.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store).dispatch(new __WEBPACK_IMPORTED_MODULE_6__stejar_authentication__.AuthenticatedAction({ticket:data.ticket,token:data.token,userId:data.user_id,sessionId:data.sessionId})),isReconnecting=!1,response.request.getHeaderParams()["Ubi-SessionId"]&&(response.request=response.request.header("Ubi-SessionId",data.sessionId)),response.request.getHeaderParams().token&&(response.request=response.request.header("token",data.token)),response.request.getHeaderParams().Authorization&&(response.request=response.request.header("Authorization","Ubi_v1 t="+data.ticket)),console.warn("[401] Final request:"),console.warn(response.request),void resolve(serviceManager.get(__WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService).send(response.request).then(function(data){return counter=0,data}))):(serviceManager.get(__WEBPACK_IMPORTED_MODULE_5_app_modules_integrator_communication_services_CommunicationService__.a).clickedOnLogout(),reject(response))})})}))):Promise.reject(response)})}var __WEBPACK_IMPORTED_MODULE_0__stejar_http__=__webpack_require__(73),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_http__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_app_modules_authentication_queries_IdentityQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(22)),__WEBPACK_IMPORTED_MODULE_3_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_4__stejar_translate__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_5_app_modules_integrator_communication_services_CommunicationService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__stejar_translate__),__webpack_require__(42)),__WEBPACK_IMPORTED_MODULE_6__stejar_authentication__=__webpack_require__(9);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6__stejar_authentication__);exports.a=_401Factory},543:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1_ubisoft_connect__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(65));__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_ubisoft_connect__);__webpack_require__.d(exports,"a",function(){return AuthenticationAdapter});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},AuthenticationAdapter=function(){function AuthenticationAdapter(ubisoftConnectService){_classCallCheck(this,AuthenticationAdapter),this.ubisoftConnectService=ubisoftConnectService}return _createClass(AuthenticationAdapter,[{key:"refreshIdentity",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.ubisoftConnectService.loadScripts();case 2:return _context.next=4,this.ubisoftConnectService.initialize();case 4:return _context.abrupt("return",this.authenticate());case 5:case"end":return _context.stop()}},_callee,this)}))}},{key:"authenticate",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.ubisoftConnectService.getTicket();case 2:return _context2.abrupt("return",_context2.sent);case 3:case"end":return _context2.stop()}},_callee2,this)}))}},{key:"logout",value:function(identity){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.abrupt("return",this.ubisoftConnectService.logout(identity.ticket));case 1:case"end":return _context3.stop()}},_callee3,this)}))}},{key:"getRole",value:function(identity){return"member"}},{key:"resetScriptLoading",value:function(){this.ubisoftConnectService.resetScriptLoading()}}]),AuthenticationAdapter}();AuthenticationAdapter=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_1_ubisoft_connect__.UbisoftConnectService])],AuthenticationAdapter)},544:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react__=__webpack_require__(31),__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react__),__webpack_require__(36)),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_3__stejar_utils__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__),__webpack_require__(43)),__WEBPACK_IMPORTED_MODULE_4__stejar_configuration__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_utils__),__webpack_require__(68)),__WEBPACK_IMPORTED_MODULE_5_ubisoft_connect__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__stejar_configuration__),__webpack_require__(65)),__WEBPACK_IMPORTED_MODULE_6_react_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_ubisoft_connect__),__webpack_require__(35)),__WEBPACK_IMPORTED_MODULE_7_app_modules_authentication_components_Login_LoginView__=__webpack_require__(545),__WEBPACK_IMPORTED_MODULE_8_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_9_app_modules_integrator_configuration_entities_IntegratorConfig__=__webpack_require__(120),__WEBPACK_IMPORTED_MODULE_10_app_services_BootstrapService__=__webpack_require__(175),__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_communication_services_CommunicationService__=__webpack_require__(42),__WEBPACK_IMPORTED_MODULE_12_app_modules_pageLoader_services_PageLoaderService__=__webpack_require__(103),__WEBPACK_IMPORTED_MODULE_13_app_modules_tagCommander_services_TagCommanderService__=__webpack_require__(66),__WEBPACK_IMPORTED_MODULE_14_app_queries_WidgetQueries__=__webpack_require__(58);__webpack_require__.d(exports,"a",function(){return LoginController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},LoginController=function(_PureComponent){function LoginController(){_classCallCheck(this,LoginController);var _this=_possibleConstructorReturn(this,(LoginController.__proto__||Object.getPrototypeOf(LoginController)).apply(this,arguments));return _this.state={show:!0,display:!0},_this.listeners=[],_this}return _inherits(LoginController,_PureComponent),_createClass(LoginController,[{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_7_app_modules_authentication_components_Login_LoginView__.a,{onClickLogin:this.handleOnClickLogin,show:this.state.show,display:this.state.display,showSignInText:this.props.showSignInText,isInMobileView:this.props.isInMobileView})}},{key:"componentDidMount",value:function(){var _this2=this;return this.listeners.push(this.props.pageLoaderService.show$.subscribe(function(show){return _this2.setState({show:show})})),this.listeners.push(this.props.pageLoaderService.display$.subscribe(function(display){return _this2.setState({display:display})})),null}},{key:"componentWillUnmount",value:function(){this.listeners.forEach(function(listener){return listener()}),this.listeners=[]}},{key:"handleOnClickLogin",value:function(){this.props.tagCommanderService.trackEvent("Nav - Ubibar - Log in","Overlay");var loginUrl=this.props.hasExternalLoginType?this.props.ubisoftConnectService.getLoginUrl(this.props.configuration.overlayApplicationUrl+"/logged-in.html",this.props.externalLoginType):this.props.ubisoftConnectService.getLoginUrl(this.props.configuration.overlayApplicationUrl+"/logged-in.html");if(navigator.userAgent.match(/Version\/[\d\.]+.*Safari/)||this.props.hasExternalLoginType)return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__stejar_utils__.popupWindow)(loginUrl,"Ubisoft Connect",425,800),null;if(navigator.userAgent.match(/Trident.*rv[ :]*11\./))return this.props.communicationService.openLoginModal(loginUrl),null;switch(this.props.loginType){case __WEBPACK_IMPORTED_MODULE_9_app_modules_integrator_configuration_entities_IntegratorConfig__.a.LOGIN_TYPE_MODAL:this.props.communicationService.openLoginModal(loginUrl);break;case __WEBPACK_IMPORTED_MODULE_9_app_modules_integrator_configuration_entities_IntegratorConfig__.a.LOGIN_TYPE_POPUP:__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__stejar_utils__.popupWindow)(loginUrl,"Ubisoft Connect",425,800)}return null}}]),LoginController}(__WEBPACK_IMPORTED_MODULE_0__stejar_react__.PureComponent);LoginController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_react_di__.inject)({ubisoftConnectService:__WEBPACK_IMPORTED_MODULE_5_ubisoft_connect__.UbisoftConnectService,bootstrapService:__WEBPACK_IMPORTED_MODULE_10_app_services_BootstrapService__.a,communicationService:__WEBPACK_IMPORTED_MODULE_11_app_modules_integrator_communication_services_CommunicationService__.a,pageLoaderService:__WEBPACK_IMPORTED_MODULE_12_app_modules_pageLoader_services_PageLoaderService__.a,tagCommanderService:__WEBPACK_IMPORTED_MODULE_13_app_modules_tagCommander_services_TagCommanderService__.a}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6_react_redux__.connect)(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Selector.fromState({loginType:__WEBPACK_IMPORTED_MODULE_8_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getLoginType,configuration:__WEBPACK_IMPORTED_MODULE_4__stejar_configuration__.ConfigurationQueries.getConfiguration,showSignInText:__WEBPACK_IMPORTED_MODULE_8_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getShowSignInText,isInMobileView:__WEBPACK_IMPORTED_MODULE_14_app_queries_WidgetQueries__.a.getIsInMobileView,hasExternalLoginType:__WEBPACK_IMPORTED_MODULE_8_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getHasExternalLoginType,externalLoginType:__WEBPACK_IMPORTED_MODULE_8_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getExternalLoginType})),__metadata("design:paramtypes",[])],LoginController)},545:function(module,exports,__webpack_require__){"use strict";function LoginView(props){return React.createElement("a",{className:__WEBPACK_IMPORTED_MODULE_1_classnames___default()("LoginView",{"is-loading":props.show&&props.display,"with-login-text":props.showSignInText==__WEBPACK_IMPORTED_MODULE_2__messages__.b.AVATAR_SIGN_IN||props.showSignInText==__WEBPACK_IMPORTED_MODULE_2__messages__.b.SIGN_IN||props.showSignInText==__WEBPACK_IMPORTED_MODULE_2__messages__.b.TRUE||1==props.showSignInText}),onClick:props.onClickLogin},props.showSignInText!=__WEBPACK_IMPORTED_MODULE_2__messages__.b.AVATAR_SIGN_IN&&props.showSignInText!=__WEBPACK_IMPORTED_MODULE_2__messages__.b.TRUE&&1!=props.showSignInText||props.isInMobileView?null:React.createElement("div",{className:"login-avatar"}),props.showSignInText==__WEBPACK_IMPORTED_MODULE_2__messages__.b.AVATAR_SIGN_IN||props.showSignInText==__WEBPACK_IMPORTED_MODULE_2__messages__.b.SIGN_IN||props.showSignInText==__WEBPACK_IMPORTED_MODULE_2__messages__.b.TRUE||1==props.showSignInText?React.createElement("span",{className:"login-text"},React.createElement(__WEBPACK_IMPORTED_MODULE_0__stejar_translate__.Translate,null,"Log In")):null)}var __WEBPACK_IMPORTED_MODULE_0__stejar_translate__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_1_classnames__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_translate__),__webpack_require__(12)),__WEBPACK_IMPORTED_MODULE_1_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_classnames__),__WEBPACK_IMPORTED_MODULE_2__messages__=__webpack_require__(51);exports.a=LoginView},546:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_2__stejar_translate__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_authentication__),__webpack_require__(24)),__WEBPACK_IMPORTED_MODULE_3_ubisoft_connect__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_translate__),__webpack_require__(65)),__WEBPACK_IMPORTED_MODULE_4_app_modules_authentication_adapters_AuthenticationAdapter__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ubisoft_connect__),__webpack_require__(543)),__WEBPACK_IMPORTED_MODULE_5_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_6_app_modules_configuration_adapters_ConnectConfigurationAdapter__=__webpack_require__(170),__WEBPACK_IMPORTED_MODULE_7__configuration_queries_ConfigurationQueries__=__webpack_require__(18);__webpack_require__.d(exports,"a",function(){return AuthenticationProvider});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),AuthenticationProvider=function(){function AuthenticationProvider(){_classCallCheck(this,AuthenticationProvider)}return _createClass(AuthenticationProvider,[{key:"provides",value:function(){return __WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.AuthenticationService}},{key:"provide",value:function(serviceManager){var ubisoftConnect=new __WEBPACK_IMPORTED_MODULE_3_ubisoft_connect__.UbisoftConnectService({getLocaleCode:function(){return serviceManager.get(__WEBPACK_IMPORTED_MODULE_2__stejar_translate__.LocaleStore).getCurrentLocale()},getApplicationId:function(){return __WEBPACK_IMPORTED_MODULE_5_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(serviceManager.get(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.Store).getState())},getGenomeId:function(){return __WEBPACK_IMPORTED_MODULE_5_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getGenomeId(serviceManager.get(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.Store).getState())},getIdentifier:function(){return"Ubisoft_Overlay"}},serviceManager.get(__WEBPACK_IMPORTED_MODULE_6_app_modules_configuration_adapters_ConnectConfigurationAdapter__.a));return ubisoftConnect.changeGetTicketTimeut(15e3),ubisoftConnect.changeScriptsTimeoutTo(15e3),__WEBPACK_IMPORTED_MODULE_7__configuration_queries_ConfigurationQueries__.a.getEnableDebug(serviceManager.get(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.Store).getState())&&ubisoftConnect.enableDebug(),serviceManager.bind(__WEBPACK_IMPORTED_MODULE_3_ubisoft_connect__.UbisoftConnectService,ubisoftConnect),new __WEBPACK_IMPORTED_MODULE_1__stejar_authentication__.AuthenticationService(serviceManager.get(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.Store),new __WEBPACK_IMPORTED_MODULE_4_app_modules_authentication_adapters_AuthenticationAdapter__.a(ubisoftConnect))}}]),AuthenticationProvider}()},547:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_authentication__=__webpack_require__(9),__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_authentication__),__webpack_require__(28)),__WEBPACK_IMPORTED_MODULE_2_app_modules_authentication_queries_IdentityQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__),__webpack_require__(22)),__WEBPACK_IMPORTED_MODULE_3_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(25),__WEBPACK_IMPORTED_MODULE_4_app_modules_configuration_queries_ConfigurationQueries__=__webpack_require__(18);__webpack_require__.d(exports,"a",function(){return AvatarsQueries});var AvatarsQueries=function(_AuthenticationQuerie){function AvatarsQueries(){return _classCallCheck(this,AvatarsQueries),_possibleConstructorReturn(this,(AvatarsQueries.__proto__||Object.getPrototypeOf(AvatarsQueries)).apply(this,arguments))}return _inherits(AvatarsQueries,_AuthenticationQuerie),AvatarsQueries}(__WEBPACK_IMPORTED_MODULE_0__stejar_authentication__.AuthenticationQueries);AvatarsQueries.getMyAvatar=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("AvatarsQueries.getIdentity",__WEBPACK_IMPORTED_MODULE_2_app_modules_authentication_queries_IdentityQueries__.a.getUserId,__WEBPACK_IMPORTED_MODULE_3_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId,__WEBPACK_IMPORTED_MODULE_4_app_modules_configuration_queries_ConfigurationQueries__.a.getAvatarsUrl,function(userId,appId,avatarUrl){return avatarUrl+"/"+userId+"/default_[size].png?appId="+appId}),AvatarsQueries.getMyAvatarSmall=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("AvatarsQueries.getMyAvatarSmall",AvatarsQueries.getMyAvatar,function(avatar){return avatar.replace("[size]","146_146")}),AvatarsQueries.getMyAvatarLarge=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_reselect__.createSelector)("AvatarsQueries.getMyAvatarLarge",AvatarsQueries.getMyAvatar,function(avatar){return avatar.replace("[size]","256_256")})},548:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_http__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(73));__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_http__);__webpack_require__.d(exports,"a",function(){return ConfigurationFromRequestAdapter});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},ConfigurationFromRequestAdapter=function(){function ConfigurationFromRequestAdapter(version,build,request,service){_classCallCheck(this,ConfigurationFromRequestAdapter),this.version=version,this.build=build,this.request=request,this.service=service}return _createClass(ConfigurationFromRequestAdapter,[{key:"loadConfiguration",value:function(env){var _this=this;return this.service.send(this.request).then(function(response){return JSON.parse(response.data.replace("module.exports = ","").replace("};","}"))}).then(function(config){try{localStorage.getItem("@configVersion")!==config.version,localStorage.getItem("@npmVersion")!==_this.version,localStorage.getItem("@buildVersion")!==_this.build,localStorage.setItem("@configVersion",config.version||"default"),localStorage.setItem("@npmVersion",_this.version||"default"),localStorage.setItem("@buildVersion",_this.build||"default")}catch(err){console.warn(err)}return config})["catch"](function(error){console.warn(error)})}}]),ConfigurationFromRequestAdapter}();ConfigurationFromRequestAdapter=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[String,String,__WEBPACK_IMPORTED_MODULE_1__stejar_http__.HttpRequest,__WEBPACK_IMPORTED_MODULE_1__stejar_http__.HttpService])],ConfigurationFromRequestAdapter)},549:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_configuration__=__webpack_require__(68),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_configuration__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_app_modules_configuration_adapters_ConfigurationFromRequestAdapter__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(548)),__WEBPACK_IMPORTED_MODULE_3__stejar_http__=__webpack_require__(73);
__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_http__);__webpack_require__.d(exports,"a",function(){return ConfigurationProvider});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ConfigurationProvider=function(){function ConfigurationProvider(){_classCallCheck(this,ConfigurationProvider)}return _createClass(ConfigurationProvider,[{key:"provides",value:function(){return __WEBPACK_IMPORTED_MODULE_0__stejar_configuration__.ConfigurationService}},{key:"provide",value:function(serviceManager){var version="3.0.0",build=1541067381;return new __WEBPACK_IMPORTED_MODULE_0__stejar_configuration__.ConfigurationService(serviceManager.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store),new __WEBPACK_IMPORTED_MODULE_2_app_modules_configuration_adapters_ConfigurationFromRequestAdapter__.a(version,build,new __WEBPACK_IMPORTED_MODULE_3__stejar_http__.HttpRequest(__webpack_require__(417)),serviceManager.get(__WEBPACK_IMPORTED_MODULE_3__stejar_http__.HttpService)))}}]),ConfigurationProvider}()},550:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_utils__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(43)),__WEBPACK_IMPORTED_MODULE_3_messages__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_utils__),__webpack_require__(51)),__WEBPACK_IMPORTED_MODULE_4_app_services_BootstrapService__=__webpack_require__(175),__WEBPACK_IMPORTED_MODULE_5_app_modules_integrator_communication_services_EmailVerificationService__=__webpack_require__(171),__WEBPACK_IMPORTED_MODULE_6__services_SocialNetworkService__=__webpack_require__(390),__WEBPACK_IMPORTED_MODULE_7__entities_LinkedAccounts__=__webpack_require__(169);__webpack_require__.d(exports,"a",function(){return BootstrapCommunicationService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},BootstrapCommunicationService=function(_AbstractActions){function BootstrapCommunicationService(bootstrapService,emailVerificationService,socialNetworkService){_classCallCheck(this,BootstrapCommunicationService);var _this=_possibleConstructorReturn(this,(BootstrapCommunicationService.__proto__||Object.getPrototypeOf(BootstrapCommunicationService)).call(this));return _this.bootstrapService=bootstrapService,_this.emailVerificationService=emailVerificationService,_this.socialNetworkService=socialNetworkService,_this.channel=new __WEBPACK_IMPORTED_MODULE_2__stejar_utils__.Channel("*"),_this}return _inherits(BootstrapCommunicationService,_AbstractActions),_createClass(BootstrapCommunicationService,[{key:"startCommunication",value:function(){var _this2=this;return new Promise(function(resolve){var unsub=_this2.channel.subscribe("ubisoftConnect@LOGGED_IN",function(query){_this2.bootstrapService.bootstrap(!0,!1,query).then(function(){return _this2.reloadSocialNetwork(query)}),unsub()}),del=_this2.channel.subscribe("ubisoftConnect@RE_INIT",function(payload){_this2.bootstrapService.bootstrap(!0,payload),del()}),deleteChannel=_this2.channel.subscribe(__WEBPACK_IMPORTED_MODULE_3_messages__.a.WIDGET_CLOSE_LOGIN_MODAL,function(query){_this2.bootstrapService.bootstrap(!0,!1,query).then(function(){return _this2.reloadSocialNetwork(query)}),deleteChannel()}),emailChannel=_this2.channel.subscribe("ubisoftConnect@TRIGGER_EMAIL_ACTIVATION",function(){_this2.emailVerificationService.afterTriggeredEmailVerification(),emailChannel()});return resolve()})}},{key:"reloadSocialNetwork",value:function(query){if(!query.query||query.query&&!query.query.platform)return Promise.resolve();switch(query.query.platform){case"XBOX":return this.socialNetworkService.loadXboxFriendsAccounts(0,__WEBPACK_IMPORTED_MODULE_7__entities_LinkedAccounts__.b);case"PSN":return this.socialNetworkService.loadPlayStationFriendsAccounts(0,__WEBPACK_IMPORTED_MODULE_7__entities_LinkedAccounts__.c);case"STEAM":return this.socialNetworkService.loadSteamFriendsAccounts(0,__WEBPACK_IMPORTED_MODULE_7__entities_LinkedAccounts__.a);default:return Promise.resolve()}}}]),BootstrapCommunicationService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);BootstrapCommunicationService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_4_app_services_BootstrapService__.a,__WEBPACK_IMPORTED_MODULE_5_app_modules_integrator_communication_services_EmailVerificationService__.a,__WEBPACK_IMPORTED_MODULE_6__services_SocialNetworkService__.a])],BootstrapCommunicationService)},551:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return HtmlEvents});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),HtmlEvents=function(){function HtmlEvents(){_classCallCheck(this,HtmlEvents)}return _createClass(HtmlEvents,null,[{key:"add",value:function(element,evnt,funct){return element.attachEvent?element.attachEvent("on"+evnt,funct):element.addEventListener(evnt,funct,!1)}},{key:"remove",value:function(element,evnt,funct){return element.removeEvent?element.removeEvent("on"+evnt,funct):element.removeEventListener(evnt,funct)}}]),HtmlEvents}()},552:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_utils__=__webpack_require__(43),__WEBPACK_IMPORTED_MODULE_1_messages__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_utils__),__webpack_require__(51)),__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_communication_services_HtmlEvents__=__webpack_require__(551);__webpack_require__.d(exports,"a",function(){return WidgetService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),WidgetService=function(){function WidgetService(config){_classCallCheck(this,WidgetService),this.config=config}return _createClass(WidgetService,[{key:"appendDocumentHeadHtml",value:function(){var headHTML=document.getElementsByTagName("head")[0],link=document.createElement("link");return link.type="text/css",link.rel="stylesheet",link.href=this.cssUrl,headHTML.appendChild(link),null}},{key:"appendContainer",value:function(onload){var iframe=document.createElement("iframe");iframe.id="overlay-iframe",iframe.style.display="none",iframe.scrolling="no",iframe.style.border="0",iframe.onload=function(){iframe.style.display=""},this.iframe=iframe;var iframeContainer=document.createElement("div");iframeContainer.id="overlay-container",iframeContainer.style.height=(this.options.height||50)+"px",iframeContainer.appendChild(iframe);var backdrop=document.createElement("div");backdrop.id="overlay-backdrop",this.backdrop=backdrop;var container=document.getElementById(this.options.container);if(container||(container=document.getElementById(this.options.container.replace("#",""))),container||(container=document.getElementsByClassName(this.options.container.replace(".","")),!container&&container[0]||(container=void 0)),container.style.position="relative",container.style.zIndex=this.options.zIndex?this.options.zIndex:"1000",container.style.width="334px",backdrop.style.zIndex=this.options.zIndex?(parseFloat(this.options.zIndex)-1).toString():"999",!container)throw new Error("Could not find container element '"+this.options.container+"'");container.appendChild(iframeContainer),container.parentElement.appendChild(backdrop),this.container=container,onload(iframe),iframe.src=this.config.overlayApplicationUrl+"?owner="+window.self.location.protocol+"//"+window.self.location.host}},{key:"appendModalContainer",value:function(){var modalNode=document.createElement("div"),modalOverlay=document.createElement("div"),modalContent=document.createElement("div"),modalCloseButton=document.createElement("div"),modalCloseIcon=document.createElement("i"),body=document.getElementsByTagName("body")[0];modalNode.classList.add("ReactModalPortal"),modalNode.style.display="none",modalOverlay.classList.add("ReactModal__Overlay"),modalContent.classList.add("ReactModal__Content"),modalCloseButton.classList.add("ReactModal__Close__Button"),modalCloseIcon.className+="ubico ubico-close",modalCloseButton.appendChild(modalCloseIcon),modalContent.appendChild(modalCloseButton),modalOverlay.appendChild(modalContent),modalNode.appendChild(modalOverlay),body.appendChild(modalNode)}},{key:"bootstrap",value:function(options){var _this=this;this.options=options,this.appendDocumentHeadHtml(),this.appendContainer(function(iframe){_this.channel=new __WEBPACK_IMPORTED_MODULE_0__stejar_utils__.Channel(_this.config.overlayApplicationUrl,iframe.contentWindow,(!1)),_this.setupSubscriptions()}),this.appendModalContainer()}},{key:"setupSubscriptions",value:function(){var _this2=this;this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_INITIALIZE,this.handleInitilize.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_SHOW_BACKDROP,this.handleShowBackdrop.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_HIDE_BACKDROP,this.handleHideBackdrop.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_SHOW_MOBILE_TABS,this.handleShowMobileTabs.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_HIDE_MOBILE_TABS,this.handleHideMobileTabs.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_EXPAND,this.handleExpand.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_COLLAPSE,this.handleCollapse.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_LOGGED_IN,this.handleLoggedIn.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_LOGGED_OUT,this.handleLoggedOut.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_RESIZE,this.handleResize.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_OPEN_LOGIN_MODAL,this.handleOpenLoginModal.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_CLOSE_LOGIN_MODAL,this.handleCloseLoginModalAndConnect.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_CHANGE_LOCALE,this.handleChangeLocaleFromCommunicationService.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_ENV_LOADED,this.handleInitEnv.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_CHANGE_IFRAME_HEIGHT,this.handleChangeIframeHeight.bind(this)),this.options.collapse&&this.options.collapse(function(){_this2.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_COLLAPSE)}),this.options.expandFriends&&this.options.expandFriends(function(){_this2.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_EXPAND_FRIENDS)}),this.options.expandPlayerCard&&this.options.expandPlayerCard(function(){_this2.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_EXPAND_PLAYER_CARD)}),this.options.expandNotifications&&this.options.expandNotifications(function(){_this2.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_EXPAND_NOTIFICATIONS)})}},{key:"handleInitilize",value:function(){var _this3=this;this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_BOOTSTRAP,this.options),this.options.installmentId&&this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_CHANGE_GAME,this.options.installmentId),this.handleOnResize(!0),window.addEventListener("resize",function(){_this3.handleOnResize(!1)}),document.getElementsByClassName("ReactModal__Close__Button")[0].addEventListener("click",this.handleCloseLoginModal.bind(this))}},{key:"handleOnResize",value:function(firstTime){this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_RESIZED_WINDOW,{innerWidth:window.innerWidth,innerHeight:window.innerHeight,iframeHeight:this.iframe.offsetHeight,firstTime:firstTime}),!this.isInMobileView(window.innerWidth)&&this.options.onShowHideScrollOnMobile&&this.options.onShowHideScrollOnMobile(!1),!this.isInMobileView(window.innerWidth)&&this.options.onShowHideScrollOnMobile&&document.body.classList.remove("overlay-expanded-on-mobile")}},{key:"handleShowBackdrop",value:function(){var _this4=this;this.options.onShowHide&&this.options.onShowHide(!0),this.backdrop.classList.add("overlay-backdrop--show"),this.backdropListener=function(){_this4.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_HANDLE_BACKDROP_CLICK)},__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_communication_services_HtmlEvents__.a.add(this.backdrop,"click",this.backdropListener)}},{key:"handleHideBackdrop",value:function(){this.options.onShowHide&&this.options.onShowHide(!1),this.isInMobileView(window.innerWidth)||(this.backdrop.classList.remove("overlay-backdrop--show"),__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_communication_services_HtmlEvents__.a.remove(this.backdrop,"click",this.backdropListener))}},{key:"handleShowMobileTabs",value:function(){this.options.onShowHideScrollOnMobile&&this.isInMobileView(window.innerWidth)&&this.options.onShowHideScrollOnMobile(!0),this.isInMobileView(window.innerWidth)&&(document.body.classList.add("overlay-expanded-on-mobile"),document.getElementById("overlay-container").classList.add("mobileActive"))}},{key:"handleHideMobileTabs",value:function(){this.options.onShowHideScrollOnMobile&&this.isInMobileView(window.innerWidth)&&this.options.onShowHideScrollOnMobile(!1),this.isInMobileView(window.innerWidth)&&(document.body.classList.remove("overlay-expanded-on-mobile"),document.getElementById("overlay-container").classList.remove("mobileActive")),this.backdrop.classList.remove("overlay-backdrop--show"),__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_communication_services_HtmlEvents__.a.remove(this.backdrop,"click",this.backdropListener)}},{key:"handleExpand",value:function(){this.iframe.classList.add("overlay-iframe--expanded"),this.isInMobileView(window.innerWidth)&&document.getElementById("overlay-container").classList.add("mobileActive")}},{key:"handleLoggedIn",value:function(payload){this.options.onConnect&&this.options.onConnect(payload.isReInit?"reInit":"login",payload)}},{key:"handleLoggedOut",value:function(identity){this.options.onConnect&&this.options.onConnect("logout"),this.options.onShowHideScrollOnMobile&&this.options.onShowHideScrollOnMobile(!1),document.body.classList.remove("overlay-expanded-on-mobile"),document.getElementById("overlay-container").classList.remove("mobileActive"),this.backdrop.classList.remove("overlay-backdrop--show"),__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_communication_services_HtmlEvents__.a.remove(this.backdrop,"click",this.backdropListener)}},{key:"handleCollapse",value:function(){this.iframe.classList.remove("overlay-iframe--expanded"),this.isInMobileView(window.innerWidth)||document.getElementById("overlay-container").classList.remove("mobileActive")}},{key:"handleResize",value:function(props){this.isInMobileView(props.windowSize)?(this.iframe.style.height=null,this.container&&(this.container.style.width="50px",!props.showSignInText||props.showSignInText!=__WEBPACK_IMPORTED_MODULE_1_messages__.b.SIGN_IN&&props.showSignInText!=__WEBPACK_IMPORTED_MODULE_1_messages__.b.AVATAR_SIGN_IN&&1!=props.showSignInText&&"true"!=props.showSignInText||(this.container.style.width="132px")),document.getElementById("overlay-iframe").classList.add("overlay-iframe-mobile"),props.isInExpandedMode&&document.getElementById("overlay-container").classList.add("mobileActive")):(this.container&&(this.container.style.width="334px"),document.getElementById("overlay-iframe").classList.remove("overlay-iframe-mobile"),document.getElementById("overlay-container").classList.remove("mobileActive"))}},{key:"handleOpenLoginModal",value:function(connectIFrameUrl){document.getElementsByTagName("body")[0].classList.add("ReactModal__Body--open"),navigator.userAgent.match(/Version\/[\d\.]+.*Safari/)&&(document.getElementsByTagName("body")[0].classList.add("safari-modal-opened"),document.body.style.top="0px");var modalNode=document.getElementsByClassName("ReactModalPortal")[0];modalNode.removeAttribute("style");var modalContent=document.getElementsByClassName("ReactModal__Content")[0],connectIFrame=document.createElement("iframe");connectIFrame.id="connect-iframe",connectIFrame.style.height="800px",connectIFrame.style.border="0px",connectIFrame.src=connectIFrameUrl,modalContent.appendChild(connectIFrame)}},{key:"handleCloseLoginModal",value:function(){document.getElementsByTagName("body")[0].classList.remove("ReactModal__Body--open","safari-modal-opened");var connectIFrame=document.getElementById("connect-iframe");document.body.hasAttribute("style")&&document.body.removeAttribute("style"),connectIFrame.parentNode.removeChild(connectIFrame)}},{key:"handleCloseLoginModalAndConnect",value:function(){this.handleCloseLoginModal(),this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_CLOSE_LOGIN_MODAL)}},{key:"handleChangeLocale",value:function(locale){this.options.onChangeLocale&&this.options.onChangeLocale(locale),this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_CHANGE_LOCALE,locale)}},{key:"handleChangeLocaleFromCommunicationService",value:function(props){this.isInMobileView(window.innerWidth)&&(!props.showSignInText||props.showSignInText!=__WEBPACK_IMPORTED_MODULE_1_messages__.b.SIGN_IN&&props.showSignInText!=__WEBPACK_IMPORTED_MODULE_1_messages__.b.AVATAR_SIGN_IN||(this.container.style.width="132px"))}},{key:"handleChangeTrackingSiteSection",value:function(siteSection){this.options.onChangeTrackingSiteSection&&this.options.onChangeTrackingSiteSection(siteSection),this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_CHANGE_TRACKING_SITE_SECTION,siteSection)}},{key:"handleChangeGame",value:function(spaceId){this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_CHANGE_GAME,spaceId)}},{key:"reInit",value:function(){this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_RE_INIT)}},{key:"isInMobileView",value:function(windowSize){return windowSize<=__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_RESIZE_WIDTH||windowSize<=__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_MOBILE_WIDTH&&window.innerHeight<windowSize&&WidgetService.isMobileDevice()}},{key:"handleChangeEnv",value:function(env){this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_CHANGE_ENV,env)}},{key:"handleInitEnv",value:function(env){this.options.onEnvInit&&this.options.onEnvInit(env)}},{key:"handleChangeFriendsProfileType",value:function(type){this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_CHANGE_FRIEND_PROFILE_TYPE,type)}},{key:"handleChangeIframeHeight",value:function(height){if(!this.isInMobileView(window.innerWidth)){var addHeight=this.options.height||50;this.iframe.style.height=height+addHeight+"px"}}},{key:"handleToggleDarkBackground",value:function(toggle){this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_CHANGE_DARK_BACKGROUND,toggle)}},{key:"handleChangeLoginType",value:function(type){this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_CHANGE_LOGIN_TYPE,type)}},{key:"handleToggleSignInText",value:function(toggle){this.isInMobileView(window.innerWidth)&&(!toggle||toggle!=__WEBPACK_IMPORTED_MODULE_1_messages__.b.SIGN_IN&&toggle!=__WEBPACK_IMPORTED_MODULE_1_messages__.b.AVATAR_SIGN_IN||(this.container.style.width="132px")),this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TOGGLE_SIGN_IN_TEXT,toggle)}},{key:"toggleDesktopResize",value:function(toggle){this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TOGGLE_DESKTOP_RESIZE,toggle)}},{key:"getTicketCallback",value:function(callback){var _this5=this;this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_GET_TICKET);var subscribed=this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_GET_TICKET,function(obj){callback(obj),_this5.channel.unsuscribe(subscribed)})}},{key:"cacheVersion",get:function(){return Date.now().toString()}},{key:"cssUrl",get:function(){return this.config.assetsUrl+"/widget.css?t=1541067381"}}],[{key:"isMobileDevice",value:function(){/Mobi/i.test(navigator.userAgent)||/Android/i.test(navigator.userAgent)}}]),WidgetService}()},553:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_configuration_actions_LoadedIntegratorConfigurationAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(380));__webpack_require__.d(exports,"a",function(){return IntegratorConfigurationService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},IntegratorConfigurationService=function(_AbstractActions){function IntegratorConfigurationService(){return _classCallCheck(this,IntegratorConfigurationService),_possibleConstructorReturn(this,(IntegratorConfigurationService.__proto__||Object.getPrototypeOf(IntegratorConfigurationService)).apply(this,arguments))}return _inherits(IntegratorConfigurationService,_AbstractActions),_createClass(IntegratorConfigurationService,[{key:"loadConfiguration",value:function(config){this.dispatch(new __WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_configuration_actions_LoadedIntegratorConfigurationAction__.a(config))}}]),IntegratorConfigurationService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);IntegratorConfigurationService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],IntegratorConfigurationService)},554:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_http__=__webpack_require__(73),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_http__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_translate__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(24)),__WEBPACK_IMPORTED_MODULE_3_moment__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_translate__),__webpack_require__(1)),__WEBPACK_IMPORTED_MODULE_3_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_moment__),__WEBPACK_IMPORTED_MODULE_4__configuration_queries_ConfigurationQueries__=__webpack_require__(18);__webpack_require__.d(exports,"a",function(){return TranslatorProvider});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),TranslatorProvider=function(){function TranslatorProvider(){_classCallCheck(this,TranslatorProvider),this.localeString=["en-GB","en-US","en-CA","fr-FR","fr-CA","zh-CN","cs-CZ","da-DK","fi-FI","de-DE","hu-HU","it-IT","ja-JP","nb-NO","pl-PL","pt-PT","pt-BR","ru-RU","es-ES","es-MX","sv-SE","tr-TR","nl-NL","uk-UA","ar-AE","ko-KR","zh-TW","th-TH"],this.localeMappings={"en-GB":__webpack_require__(591),"en-US":__webpack_require__(593),"en-CA":__webpack_require__(592),"fr-FR":__webpack_require__(595),"fr-CA":__webpack_require__(596),"zh-CN":__webpack_require__(586),"cs-CZ":__webpack_require__(588),"da-DK":__webpack_require__(589),"fi-FI":__webpack_require__(594),"de-DE":__webpack_require__(597),"hu-HU":__webpack_require__(598),"it-IT":__webpack_require__(599),"ja-JP":__webpack_require__(600),"nb-NO":__webpack_require__(602),"pl-PL":__webpack_require__(603),"pt-PT":__webpack_require__(604),"pt-BR":__webpack_require__(605),"ru-RU":__webpack_require__(606),"es-ES":__webpack_require__(607),"es-MX":__webpack_require__(608),"sv-SE":__webpack_require__(609),"tr-TR":__webpack_require__(611),"nl-NL":__webpack_require__(590),"uk-UA":__webpack_require__(612),"ar-AE":__webpack_require__(585),"ko-KR":__webpack_require__(601),"zh-TW":__webpack_require__(587),"th-TH":__webpack_require__(610)},this.numbroMap={"en-GB":__webpack_require__(108),"en-US":__webpack_require__(108),"en-CA":__webpack_require__(108),"fr-FR":__webpack_require__(184),"fr-CA":__webpack_require__(184),"zh-CN":__webpack_require__(411),"cs-CZ":__webpack_require__(393),"da-DK":__webpack_require__(394),"fi-FI":__webpack_require__(396),"de-DE":__webpack_require__(395),"hu-HU":__webpack_require__(397),"it-IT":__webpack_require__(398),"ja-JP":__webpack_require__(399),"nb-NO":__webpack_require__(401),"pl-PL":__webpack_require__(403),"pt-PT":__webpack_require__(405),"pt-BR":__webpack_require__(404),"ru-RU":__webpack_require__(406),"es-ES":__webpack_require__(183),"es-MX":__webpack_require__(183),"sv-SE":__webpack_require__(407),"tr-TR":__webpack_require__(409),"nl-NL":__webpack_require__(402),"uk-UA":__webpack_require__(410),"ar-AE":__webpack_require__(108),"ko-KR":__webpack_require__(400),"zh-TW":__webpack_require__(412),"th-TH":__webpack_require__(408)}}return _createClass(TranslatorProvider,[{key:"provides",value:function(){return __WEBPACK_IMPORTED_MODULE_2__stejar_translate__.TranslatorService}},{key:"provide",value:function(sm){var _this=this,mappings=this.localeMappings,locales=this.localeString,translatorService=new __WEBPACK_IMPORTED_MODULE_2__stejar_translate__.TranslatorService(sm.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store),{load:function(oldLocale){var locale=oldLocale.split("-")[1]?oldLocale.split("-")[0].toLowerCase()+"-"+oldLocale.split("-")[1].toUpperCase():oldLocale;
locales.indexOf(locale)===-1&&(locale="en-GB");var request=new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpRequest(mappings[locale]);return sm.get(__WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService).send(request).then(function(response){var catalog={},data=JSON.parse(response.data.replace("module.exports = ","").replace("];","]"));return data.forEach(function(item){catalog[item.term]=item.definition}),catalog})}});return __WEBPACK_IMPORTED_MODULE_4__configuration_queries_ConfigurationQueries__.a.getEnableDebug(sm.get(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store).getState())&&translatorService.enableDebug(),Object.keys(this.localeMappings).forEach(function(locale){var momentLocale=locale.split("-")[0];switch(locale=locale.split("-")[0]+"-"+locale.split("-")[1].toUpperCase(),locales.indexOf(locale)===-1&&(locale="en-GB"),locale){case"en-GB":momentLocale="en-gb",__WEBPACK_IMPORTED_MODULE_3_moment___default.a.defineLocale("en-gb",{parentLocale:"en",longDateFormat:{L:"DD/MM/YYYY"}});break;case"en-US":case"en-CA":momentLocale="en";break;case"pt-BR":momentLocale="pt-br";break;case"zh-CN":momentLocale="zh-cn"}try{translatorService.registerDateLocale(momentLocale)}catch(error){console.warn(error)}}),Object.keys(this.numbroMap).forEach(function(locale){translatorService.registerNumbersLocale(locale,_this.numbroMap[locale])}),translatorService}}]),TranslatorProvider}()},555:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_react_di__=__webpack_require__(36),__WEBPACK_IMPORTED_MODULE_1__stejar_react__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_react_di__),__webpack_require__(31)),__WEBPACK_IMPORTED_MODULE_2_app_modules_pageLoader_components_PageLoader_PageLoaderView__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_react__),__webpack_require__(556)),__WEBPACK_IMPORTED_MODULE_3_app_modules_pageLoader_services_PageLoaderService__=__webpack_require__(103);__webpack_require__.d(exports,"a",function(){return PageLoaderController});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},PageLoaderController=function(_PureComponent){function PageLoaderController(){_classCallCheck(this,PageLoaderController);var _this=_possibleConstructorReturn(this,(PageLoaderController.__proto__||Object.getPrototypeOf(PageLoaderController)).apply(this,arguments));return _this.state={show:!0,display:!0},_this.listeners=[],_this}return _inherits(PageLoaderController,_PureComponent),_createClass(PageLoaderController,[{key:"render",value:function(){return React.createElement(__WEBPACK_IMPORTED_MODULE_2_app_modules_pageLoader_components_PageLoader_PageLoaderView__.a,{show:this.state.show,display:this.state.display})}},{key:"componentDidMount",value:function(){var _this2=this;return this.listeners.push(this.props.pageLoaderService.show$.subscribe(function(show){return _this2.setState({show:show})})),this.listeners.push(this.props.pageLoaderService.display$.subscribe(function(display){return _this2.setState({display:display})})),null}},{key:"componentWillUnmount",value:function(){return this.listeners.forEach(function(item){return item()}),null}}]),PageLoaderController}(__WEBPACK_IMPORTED_MODULE_1__stejar_react__.PureComponent);PageLoaderController=__decorate([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_react_di__.inject)({pageLoaderService:__WEBPACK_IMPORTED_MODULE_3_app_modules_pageLoader_services_PageLoaderService__.a}),__metadata("design:paramtypes",[])],PageLoaderController)},556:function(module,exports,__webpack_require__){"use strict";function PageLoaderView(props){return React.createElement("div",{className:__WEBPACK_IMPORTED_MODULE_0_classnames___default()("PageLoader",{"PageLoader-show":props.show,"PageLoader-display":props.display})},React.createElement("div",{className:"PageLoader-loader"}))}var __WEBPACK_IMPORTED_MODULE_0_classnames__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_0_classnames___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_classnames__);exports.a=PageLoaderView},557:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0_ubisoft_api__=__webpack_require__(17);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_ubisoft_api__);__webpack_require__.d(exports,"a",function(){return ApiConfigProvider});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ApiConfigProvider=function(){function ApiConfigProvider(){_classCallCheck(this,ApiConfigProvider)}return _createClass(ApiConfigProvider,[{key:"provides",value:function(){return __WEBPACK_IMPORTED_MODULE_0_ubisoft_api__.ApiConfigurationContract.name}},{key:"provide",value:function(sm){var api=new __WEBPACK_IMPORTED_MODULE_0_ubisoft_api__.ApiConfigurationService;return sm.bind(__WEBPACK_IMPORTED_MODULE_0_ubisoft_api__.ApiConfigurationService,api),api}}]),ApiConfigProvider}()},558:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_cache__=__webpack_require__(420),__WEBPACK_IMPORTED_MODULE_1__modules_configuration_queries_ConfigurationQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_cache__),__webpack_require__(18)),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=__webpack_require__(2);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__);__webpack_require__.d(exports,"a",function(){return CacheProvider});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),CacheProvider=function(){function CacheProvider(){_classCallCheck(this,CacheProvider)}return _createClass(CacheProvider,[{key:"provides",value:function(){return __WEBPACK_IMPORTED_MODULE_0__stejar_cache__.CacheService}},{key:"provide",value:function(sm){var cache=new __WEBPACK_IMPORTED_MODULE_0__stejar_cache__.CacheService;return cache.enable(),__WEBPACK_IMPORTED_MODULE_1__modules_configuration_queries_ConfigurationQueries__.a.getEnableDebug(sm.get(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Store).getState())&&cache.enableDebug(),cache}}]),CacheProvider}()},559:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0_ubisoft_connect__=__webpack_require__(65),__WEBPACK_IMPORTED_MODULE_1_app_modules_configuration_adapters_ConnectConfigurationAdapter__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_ubisoft_connect__),__webpack_require__(170));__webpack_require__.d(exports,"a",function(){return ConnectConfigProvider});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ConnectConfigProvider=function(){function ConnectConfigProvider(){_classCallCheck(this,ConnectConfigProvider)}return _createClass(ConnectConfigProvider,[{key:"provides",value:function(){return __WEBPACK_IMPORTED_MODULE_0_ubisoft_connect__.ConnectConfigurationContract.name}},{key:"provide",value:function(sm){var service=new __WEBPACK_IMPORTED_MODULE_1_app_modules_configuration_adapters_ConnectConfigurationAdapter__.a;return sm.bind(__WEBPACK_IMPORTED_MODULE_1_app_modules_configuration_adapters_ConnectConfigurationAdapter__.a,service),service}}]),ConnectConfigProvider}()},560:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_http__=__webpack_require__(73);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_http__);__webpack_require__.d(exports,"a",function(){return HttpProvider});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),HttpProvider=function(){function HttpProvider(){_classCallCheck(this,HttpProvider)}return _createClass(HttpProvider,[{key:"provides",value:function(){return __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService}},{key:"provide",value:function(sm){return new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.HttpService(new __WEBPACK_IMPORTED_MODULE_0__stejar_http__.FetchAdapter)}}]),HttpProvider}()},561:function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0_redux__=__webpack_require__(503),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(28)),__WEBPACK_IMPORTED_MODULE_3__stejar_configuration__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__),__webpack_require__(68)),__WEBPACK_IMPORTED_MODULE_4__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_configuration__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_5__stejar_translate__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__stejar_authentication__),__webpack_require__(24)),__WEBPACK_IMPORTED_MODULE_6_app_modules_integrator_configuration_stores_IntegratorConfigurationStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__stejar_translate__),__webpack_require__(172)),__WEBPACK_IMPORTED_MODULE_7_app_stores_LoadersStore__=__webpack_require__(568),__WEBPACK_IMPORTED_MODULE_8_app_stores_GamesStore__=__webpack_require__(125),__WEBPACK_IMPORTED_MODULE_9_app_stores_FriendsStore__=__webpack_require__(67),__WEBPACK_IMPORTED_MODULE_10_app_stores_ConnectionsStore__=__webpack_require__(177),__WEBPACK_IMPORTED_MODULE_11_app_stores_ApplicationsStore__=__webpack_require__(124),__WEBPACK_IMPORTED_MODULE_12_app_stores_WidgetStore__=__webpack_require__(569),__WEBPACK_IMPORTED_MODULE_13_app_stores_PlatformsStore__=__webpack_require__(126),__WEBPACK_IMPORTED_MODULE_14_app_stores_GameStatsStore__=__webpack_require__(391),__WEBPACK_IMPORTED_MODULE_15_app_stores_RewardsStore__=__webpack_require__(180),__WEBPACK_IMPORTED_MODULE_16_app_stores_ApplicationsProfilesStore__=__webpack_require__(123),__WEBPACK_IMPORTED_MODULE_17_app_stores_ClubProfilesStore__=__webpack_require__(105),__WEBPACK_IMPORTED_MODULE_18_app_stores_UserProfilesStore__=__webpack_require__(59),__WEBPACK_IMPORTED_MODULE_19_app_stores_AddFriendStore__=__webpack_require__(176),__WEBPACK_IMPORTED_MODULE_20_spark_overlay__=__webpack_require__(50),__WEBPACK_IMPORTED_MODULE_21_app_modules_configuration_stores_EnvironmentStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_20_spark_overlay__),__webpack_require__(379)),__WEBPACK_IMPORTED_MODULE_22_app_stores_UserEmailVerificationStore__=__webpack_require__(392),__WEBPACK_IMPORTED_MODULE_23__stores_FilterFriendStore__=__webpack_require__(178),__WEBPACK_IMPORTED_MODULE_24__stores_FriendsActionsStore__=__webpack_require__(106),__WEBPACK_IMPORTED_MODULE_25__stores_SocialNetworkStore__=__webpack_require__(107),__WEBPACK_IMPORTED_MODULE_26__stores_SteamAccountsStore__=__webpack_require__(181),__WEBPACK_IMPORTED_MODULE_27__stores_PsnAccountsStore__=__webpack_require__(179),__WEBPACK_IMPORTED_MODULE_28__stores_XboxAccountsStore__=__webpack_require__(182);__webpack_require__.d(exports,"a",function(){return StoreProvider});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),__assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},persistStore=__webpack_require__(499).persistStore,autoRehydrate=__webpack_require__(499).autoRehydrate,StoreProvider=function(){function StoreProvider(){_classCallCheck(this,StoreProvider)}return _createClass(StoreProvider,[{key:"provides",value:function(){return __WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store}},{key:"provide",value:function(sm){__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_20_spark_overlay__.setLocaleReducerMountPoint)("LocaleStore"),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_20_spark_overlay__.setLocaleCurrentKey)("currentLocale");var store=new __WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store;sm.bind(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store,store),window.showDebugTable=__WEBPACK_IMPORTED_MODULE_2__stejar_reselect__.showDebugTable;var redux=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_redux__.b)(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_redux__.c)(__assign({},__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.combineStores)(sm)(__WEBPACK_IMPORTED_MODULE_3__stejar_configuration__.ConfigurationStore,__WEBPACK_IMPORTED_MODULE_4__stejar_authentication__.AuthenticationStore,__WEBPACK_IMPORTED_MODULE_5__stejar_translate__.LocaleStore,__WEBPACK_IMPORTED_MODULE_6_app_modules_integrator_configuration_stores_IntegratorConfigurationStore__.a,__WEBPACK_IMPORTED_MODULE_18_app_stores_UserProfilesStore__.a,__WEBPACK_IMPORTED_MODULE_17_app_stores_ClubProfilesStore__.a,__WEBPACK_IMPORTED_MODULE_7_app_stores_LoadersStore__.a,__WEBPACK_IMPORTED_MODULE_8_app_stores_GamesStore__.a,__WEBPACK_IMPORTED_MODULE_14_app_stores_GameStatsStore__.a,__WEBPACK_IMPORTED_MODULE_13_app_stores_PlatformsStore__.a,__WEBPACK_IMPORTED_MODULE_9_app_stores_FriendsStore__.a,__WEBPACK_IMPORTED_MODULE_10_app_stores_ConnectionsStore__.a,__WEBPACK_IMPORTED_MODULE_16_app_stores_ApplicationsProfilesStore__.a,__WEBPACK_IMPORTED_MODULE_11_app_stores_ApplicationsStore__.a,__WEBPACK_IMPORTED_MODULE_12_app_stores_WidgetStore__.a,__WEBPACK_IMPORTED_MODULE_15_app_stores_RewardsStore__.a,__WEBPACK_IMPORTED_MODULE_19_app_stores_AddFriendStore__.a,__WEBPACK_IMPORTED_MODULE_21_app_modules_configuration_stores_EnvironmentStore__.a,__WEBPACK_IMPORTED_MODULE_22_app_stores_UserEmailVerificationStore__.a,__WEBPACK_IMPORTED_MODULE_23__stores_FilterFriendStore__.a,__WEBPACK_IMPORTED_MODULE_24__stores_FriendsActionsStore__.a,__WEBPACK_IMPORTED_MODULE_25__stores_SocialNetworkStore__.a,__WEBPACK_IMPORTED_MODULE_26__stores_SteamAccountsStore__.a,__WEBPACK_IMPORTED_MODULE_27__stores_PsnAccountsStore__.a,__WEBPACK_IMPORTED_MODULE_28__stores_XboxAccountsStore__.a),_defineProperty({},__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_20_spark_overlay__.getMountPoint)(),__WEBPACK_IMPORTED_MODULE_20_spark_overlay__.overlayReducer))),"object"===("undefined"==typeof window?"undefined":_typeof(window))&&"undefined"!=typeof window._initialState?window._initialState:{},__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_redux__.d)(autoRehydrate(),"object"===("undefined"==typeof window?"undefined":_typeof(window))&&"undefined"!=typeof window.devToolsExtension?window.devToolsExtension():function(f){return f}));return window.clearStores=persistStore(redux,{whitelist:["EnvironmentStore","UserEmailVerificationStore","FriendsStore","ConnectionsStore","ApplicationsProfilesStore","UserProfilesStore","ClubProfilesStore","GamesStore","PlatformsStore","ApplicationsStore"]},function(){store.bootRedux(redux)}),store.bootRedux(redux),store}}]),StoreProvider}()},562:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_redux__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__modules_tagCommander_services_TagCommanderService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__),__webpack_require__(66)),__WEBPACK_IMPORTED_MODULE_2__stejar_configuration__=__webpack_require__(68),__WEBPACK_IMPORTED_MODULE_3__modules_configuration_queries_ConfigurationQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_configuration__),__webpack_require__(18));__webpack_require__.d(exports,"a",function(){return TagCommanderProvider});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),TagCommanderProvider=function(){function TagCommanderProvider(){_classCallCheck(this,TagCommanderProvider)}return _createClass(TagCommanderProvider,[{key:"provides",value:function(){return __WEBPACK_IMPORTED_MODULE_1__modules_tagCommander_services_TagCommanderService__.a}},{key:"provide",value:function(serviceManager){var tagCommander=new __WEBPACK_IMPORTED_MODULE_1__modules_tagCommander_services_TagCommanderService__.a(serviceManager.get(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.Store)),configurationService=serviceManager.get(__WEBPACK_IMPORTED_MODULE_2__stejar_configuration__.ConfigurationService);return configurationService.loadConfiguration().then(function(){__WEBPACK_IMPORTED_MODULE_3__modules_configuration_queries_ConfigurationQueries__.a.getEnableDebug(serviceManager.get(__WEBPACK_IMPORTED_MODULE_0__stejar_redux__.Store).getState())&&tagCommander.enableDebug(),tagCommander.boot()}),tagCommander}}]),TagCommanderProvider}()},563:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0_ubisoft_api__=__webpack_require__(17),__WEBPACK_IMPORTED_MODULE_1_app_services_UbisoftApiConfigurationService__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_ubisoft_api__),__webpack_require__(567)),__WEBPACK_IMPORTED_MODULE_2__stejar_redux__=__webpack_require__(2);__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__);__webpack_require__.d(exports,"a",function(){return UbisoftApiProvider});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),UbisoftApiProvider=function(){function UbisoftApiProvider(){_classCallCheck(this,UbisoftApiProvider)}return _createClass(UbisoftApiProvider,[{key:"provides",value:function(){return __WEBPACK_IMPORTED_MODULE_0_ubisoft_api__.ApplicationConfigurationContract.name}},{key:"provide",value:function(sm){return new __WEBPACK_IMPORTED_MODULE_1_app_services_UbisoftApiConfigurationService__.a(sm.get(__WEBPACK_IMPORTED_MODULE_2__stejar_redux__.Store))}}]),UbisoftApiProvider}()},564:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_1__stejar_configuration__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(68)),__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_configuration__),__webpack_require__(17)),__WEBPACK_IMPORTED_MODULE_3_app_stores_RewardsStore__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__),__webpack_require__(180)),__WEBPACK_IMPORTED_MODULE_4_app_selectors__=__webpack_require__(15);__webpack_require__.d(exports,"a",function(){return UserRewardsQueries});var UserRewardsQueries=function UserRewardsQueries(){_classCallCheck(this,UserRewardsQueries)};UserRewardsQueries.getRewardsOwned=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("UserRewardsQueries.getRewardsOwned",__WEBPACK_IMPORTED_MODULE_3_app_stores_RewardsStore__.a.getRewards,function(rewards){return rewards.filter(function(item){return item.purchased})}),UserRewardsQueries.getComputedRewards=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("UserRewardsQueries.getComputedRewards",__WEBPACK_IMPORTED_MODULE_3_app_stores_RewardsStore__.a.getRewards,__WEBPACK_IMPORTED_MODULE_3_app_stores_RewardsStore__.a.getIds,__WEBPACK_IMPORTED_MODULE_4_app_selectors__.l,function(rewards,ids,units){function rewardIsOwned(reward){return!!reward.hasOwnProperty("purchased")&&(reward.purchased&&!(reward.quantityLimit&&reward.quantityLimit!==reward.quantityPurchased))}function rewardIsAffordable(reward){return reward.value<units}function rewardIsUnlocked(reward){return(null==reward.requiredActions||reward.requiredActions.accomplished)&&(null==reward.requiredSpaces||reward.requiredSpaces.accomplished)}function stillAvailableSpace(){return rewardsList.length<limit}function isMultipleReward(reward){return reward.quantityLimit>0}function isDownloadable(reward){return reward.typeId===__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.REWARD_TYPE.DOWNLOADABLE}function isUnlockable(reward){return reward.typeId===__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.REWARD_TYPE.UNLOCKABLE}var limit=3,rewardsList=[],nbOfMultipleRewardsUsed=0;return rewards=rewards.slice().sort(function(itemA,itemB){return itemA.value>itemB.value?-1:1}),rewards.forEach(function(reward,index){rewardIsAffordable(reward)&&isUnlockable(reward)&&rewardIsUnlocked(reward)&&stillAvailableSpace()&&!rewardIsOwned(reward)&&((!isMultipleReward(reward)||isMultipleReward(reward)&&0==nbOfMultipleRewardsUsed)&&(rewards.splice(index,1),rewardsList.push(reward)),isMultipleReward(reward)&&nbOfMultipleRewardsUsed++)}),rewardsList=rewardsList.sort(function(itemA,itemB){return itemA.value>itemB.value?-1:1}),rewardsList.length<limit&&rewards.forEach(function(reward,index){rewardIsAffordable(reward)&&stillAvailableSpace()&&!isDownloadable(reward)&&isMultipleReward(reward)&&!rewardIsOwned(reward)&&(rewards.splice(index,1),rewardsList.push(reward))}),rewardsList.length<limit&&rewards.forEach(function(reward,index){rewardIsAffordable(reward)&&stillAvailableSpace()&&!rewardIsOwned(reward)&&(rewards.splice(index,1),rewardsList.push(reward))}),rewardsList.length<limit&&rewards.forEach(function(reward,index){stillAvailableSpace()&&!rewardIsOwned(reward)&&(rewards.splice(index,1),rewardsList.push(reward))}),rewardsList.sort(function(itemA,itemB){return itemA.id>itemB.id?-1:1})}),UserRewardsQueries.getHasLastPlayedGameRewards=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("UserRewardsQueries.getHasLastPlayedGameRewards",UserRewardsQueries.getComputedRewards,function(rewards){return rewards.length>0}),UserRewardsQueries.getNoRewardsForThisGame=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("UserRewardsQueries.getNoRewardsForThisGame",__WEBPACK_IMPORTED_MODULE_3_app_stores_RewardsStore__.a.getRewards,function(rewards){return 0===rewards.length}),UserRewardsQueries.getNoRewardsLeftToGet=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("UserRewardsQueries.getNoRewardsLeftToGet",__WEBPACK_IMPORTED_MODULE_3_app_stores_RewardsStore__.a.getRewards,UserRewardsQueries.getRewardsOwned,function(rewards,rewardsOwned){return 0!==rewards.length&&0===rewards.filter(function(reward){var ro=rewardsOwned.find(function(ro){return ro.id==reward.id});return ro?ro.quantityLimit?!(ro.quantityLimit===ro.quantityPurchased):!ro.purchased:!reward.purchased}).length}),UserRewardsQueries.getLastPlayedGameFirstReward=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("UserRewardsQueries.getLastPlayedGameFirstReward",UserRewardsQueries.getComputedRewards,function(rewards){return rewards.length>0?rewards[0]:null}),UserRewardsQueries.getRewardId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("UserRewardsQueries.getRewardId",UserRewardsQueries.getLastPlayedGameFirstReward,function(reward){return reward?reward.id:null}),UserRewardsQueries.getRewardSpaceId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("UserRewardsQueries.getRewardSpaceId",UserRewardsQueries.getLastPlayedGameFirstReward,function(reward){return reward?reward.spaceId:null}),UserRewardsQueries.getRewardsImageUrl=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("UserRewardsQueries.getRewardsImageUrl",UserRewardsQueries.getLastPlayedGameFirstReward,__WEBPACK_IMPORTED_MODULE_1__stejar_configuration__.ConfigurationQueries.getConfiguration,function(reward,config){var rewardIamge=reward?reward.images.find(function(image){return image.type==__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.IMAGE_TYPE.IMAGE_THUMBNAIL}):null;if(!rewardIamge)return null;var rewardIamgeUrl=rewardIamge.url;return rewardIamgeUrl.indexOf(".ubi.com")!==-1?rewardIamgeUrl:config.rewardsUrl+rewardIamgeUrl}),UserRewardsQueries.getRewardName=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("UserRewardsQueries.getRewardName",UserRewardsQueries.getLastPlayedGameFirstReward,function(reward){return reward?reward.name:null}),UserRewardsQueries.getRewardHasValue=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("UserRewardsQueries.getRewardHasValue",UserRewardsQueries.getLastPlayedGameFirstReward,function(reward){return reward?!!reward.value:null}),UserRewardsQueries.getRewagetRewardHasValuerdHasValue=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("UserRewardsQueries.getRewardHasValue",UserRewardsQueries.getLastPlayedGameFirstReward,function(reward){return!!reward&&reward.value>0}),UserRewardsQueries.rewardHasCondition=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("UserRewardsQueries.rewardHasCondition",UserRewardsQueries.getLastPlayedGameFirstReward,function(reward){return!!reward&&(reward.requiredActions&&!reward.requirementsAccomplished||reward.requiredSpaces&&!reward.requirementsAccomplished)}),UserRewardsQueries.getRewardPriceTooBig=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("UserRewardsQueries.getRewardPriceTooBig",UserRewardsQueries.getLastPlayedGameFirstReward,__WEBPACK_IMPORTED_MODULE_4_app_selectors__.l,function(reward,units){return!!reward&&reward.value>units}),UserRewardsQueries.getRewardValue=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("UserRewardsQueries.getRewardValue",UserRewardsQueries.getLastPlayedGameFirstReward,function(reward){return reward?reward.value:0}),UserRewardsQueries.getRewardCondition=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)("UserRewardsQueries.getRewardCondition",UserRewardsQueries.getLastPlayedGameFirstReward,function(reward){return reward?reward.condition:null})},565:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");
}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(17)),__WEBPACK_IMPORTED_MODULE_3__modules_authentication_queries_IdentityQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__),__webpack_require__(22)),__WEBPACK_IMPORTED_MODULE_4__actions_LoadedAvatarAction__=__webpack_require__(358);__webpack_require__.d(exports,"a",function(){return AvatarService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},AvatarService=function(_AbstractActions){function AvatarService(avatarsApi){_classCallCheck(this,AvatarService);var _this=_possibleConstructorReturn(this,(AvatarService.__proto__||Object.getPrototypeOf(AvatarService)).call(this));return _this.avatarsApi=avatarsApi,_this}return _inherits(AvatarService,_AbstractActions),_createClass(AvatarService,[{key:"getMyAvatar",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var avatar,byId;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return avatar=null,byId={},_context.prev=2,_context.next=5,this.avatarsApi.getUserAvatarById(__WEBPACK_IMPORTED_MODULE_3__modules_authentication_queries_IdentityQueries__.a.getUserId(this.getState()));case 5:avatar=_context.sent,_context.next=12;break;case 8:return _context.prev=8,_context.t0=_context["catch"](2),console.error(_context.t0),_context.abrupt("return");case 12:byId[avatar.userId]=avatar,this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_LoadedAvatarAction__.a(byId));case 14:case"end":return _context.stop()}},_callee,this,[[2,8]])}))}}]),AvatarService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);AvatarService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.AvatarsApi])],AvatarService)},566:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(17)),__WEBPACK_IMPORTED_MODULE_3__actions_LoadedSteamFriendsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__),__webpack_require__(361)),__WEBPACK_IMPORTED_MODULE_4__actions_LoadedPsnFriendsAction__=__webpack_require__(360),__WEBPACK_IMPORTED_MODULE_5__actions_LoadedXboxFriendsAction__=__webpack_require__(362);__webpack_require__.d(exports,"a",function(){return LinkedAccountsService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},LinkedAccountsService=function(_AbstractActions){function LinkedAccountsService(linkedAccountsApi,usersProfilesApi){_classCallCheck(this,LinkedAccountsService);var _this=_possibleConstructorReturn(this,(LinkedAccountsService.__proto__||Object.getPrototypeOf(LinkedAccountsService)).call(this));return _this.linkedAccountsApi=linkedAccountsApi,_this.usersProfilesApi=usersProfilesApi,_this}return _inherits(LinkedAccountsService,_AbstractActions),_createClass(LinkedAccountsService,[{key:"loadSteamFriends",value:function(){var offset=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,limit=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var promise;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,this.linkedAccountsApi.getSteamFriends(offset,limit);case 3:return promise=_context.sent,this.dispatch(new __WEBPACK_IMPORTED_MODULE_3__actions_LoadedSteamFriendsAction__.a(promise)),_context.abrupt("return",promise);case 8:return _context.prev=8,_context.t0=_context["catch"](0),_context.abrupt("return",Promise.reject(_context.t0));case 11:case"end":return _context.stop()}},_callee,this,[[0,8]])}))}},{key:"loadPlayStationFriends",value:function(){var offset=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,limit=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var promise;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,this.linkedAccountsApi.getPlayStationFriends(offset,limit);case 3:return promise=_context2.sent,this.dispatch(new __WEBPACK_IMPORTED_MODULE_4__actions_LoadedPsnFriendsAction__.a(promise)),_context2.abrupt("return",promise);case 8:return _context2.prev=8,_context2.t0=_context2["catch"](0),_context2.abrupt("return",Promise.reject(_context2.t0));case 11:case"end":return _context2.stop()}},_callee2,this,[[0,8]])}))}},{key:"loadXboxFriends",value:function(){var offset=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,limit=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var promise;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.prev=0,_context3.next=3,this.linkedAccountsApi.getXboxFriends(offset,limit);case 3:return promise=_context3.sent,this.dispatch(new __WEBPACK_IMPORTED_MODULE_5__actions_LoadedXboxFriendsAction__.a(promise)),_context3.abrupt("return",promise);case 8:return _context3.prev=8,_context3.t0=_context3["catch"](0),_context3.abrupt("return",Promise.reject(_context3.t0));case 11:case"end":return _context3.stop()}},_callee3,this,[[0,8]])}))}}]),LinkedAccountsService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);LinkedAccountsService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.LinkedAccountsApi,__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.UserProfilesApi])],LinkedAccountsService)},567:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(17)),__WEBPACK_IMPORTED_MODULE_3__stejar_translate__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__),__webpack_require__(24)),__WEBPACK_IMPORTED_MODULE_4_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__stejar_translate__),__webpack_require__(25)),__WEBPACK_IMPORTED_MODULE_5_app_modules_authentication_queries_IdentityQueries__=__webpack_require__(22),__WEBPACK_IMPORTED_MODULE_6_app_modules_configuration_queries_ConfigurationQueries__=__webpack_require__(18);__webpack_require__.d(exports,"a",function(){return UbisoftApiConfigurationService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},UbisoftApiConfigurationService=function(_ApplicationConfigura){function UbisoftApiConfigurationService(store){_classCallCheck(this,UbisoftApiConfigurationService);var _this=_possibleConstructorReturn(this,(UbisoftApiConfigurationService.__proto__||Object.getPrototypeOf(UbisoftApiConfigurationService)).call(this));return _this.store=store,_this}return _inherits(UbisoftApiConfigurationService,_ApplicationConfigura),_createClass(UbisoftApiConfigurationService,[{key:"getApplicationId",value:function(){return __WEBPACK_IMPORTED_MODULE_4_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getApplicationId(this.store.getState())}},{key:"getSessionId",value:function(){return __WEBPACK_IMPORTED_MODULE_5_app_modules_authentication_queries_IdentityQueries__.a.getHasIdentity(this.store.getState())?__WEBPACK_IMPORTED_MODULE_5_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.store.getState()).sessionId:null}},{key:"getTicket",value:function(){return __WEBPACK_IMPORTED_MODULE_5_app_modules_authentication_queries_IdentityQueries__.a.getHasIdentity(this.store.getState())?__WEBPACK_IMPORTED_MODULE_5_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.store.getState()).ticket:null}},{key:"getToken",value:function(){return __WEBPACK_IMPORTED_MODULE_5_app_modules_authentication_queries_IdentityQueries__.a.getHasIdentity(this.store.getState())?__WEBPACK_IMPORTED_MODULE_5_app_modules_authentication_queries_IdentityQueries__.a.getIdentity(this.store.getState()).token:null}},{key:"getLocale",value:function(){return __WEBPACK_IMPORTED_MODULE_3__stejar_translate__.LocaleQueries.getCurrentLocale(this.store.getState())}},{key:"getUserBadgesSpaceId",value:function(){return __WEBPACK_IMPORTED_MODULE_6_app_modules_configuration_queries_ConfigurationQueries__.a.getBadgesSpaceId(this.store.getState())}},{key:"getTwitchClientId",value:function(){return __WEBPACK_IMPORTED_MODULE_6_app_modules_configuration_queries_ConfigurationQueries__.a.getTwitchClientId(this.store.getState())}}]),UbisoftApiConfigurationService}(__WEBPACK_IMPORTED_MODULE_2_ubisoft_api__.ApplicationConfigurationContract);UbisoftApiConfigurationService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.Store])],UbisoftApiConfigurationService)},568:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedMyClubProfilesAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(164)),__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedMyUserProfilesAction__=__webpack_require__(165),__WEBPACK_IMPORTED_MODULE_5_app_actions_LoadedGamesAction__=__webpack_require__(117),__WEBPACK_IMPORTED_MODULE_6_app_actions_LoadedFriendsAction__=__webpack_require__(116),__WEBPACK_IMPORTED_MODULE_7_app_actions_LoadedFriendsClubProfilesAction__=__webpack_require__(160),__WEBPACK_IMPORTED_MODULE_8_app_actions_LoadedFriendsUserProfilesAction__=__webpack_require__(161),__WEBPACK_IMPORTED_MODULE_9_app_actions_LoadedConnectionsAction__=__webpack_require__(158),__WEBPACK_IMPORTED_MODULE_10_app_actions_LoadedApplicationsAction__=__webpack_require__(157),__WEBPACK_IMPORTED_MODULE_11_app_actions_LoadedRewardsAction__=__webpack_require__(166),__WEBPACK_IMPORTED_MODULE_12_app_actions_LoadedFriendsApplicationsProfilesAction__=__webpack_require__(159),__WEBPACK_IMPORTED_MODULE_13_app_actions_LoadedMyApplicationsProfilesAction__=__webpack_require__(163),__WEBPACK_IMPORTED_MODULE_14_app_actions_LoadedGamesOwnedAction__=__webpack_require__(118),__WEBPACK_IMPORTED_MODULE_15_app_actions_LoadedShowOffBadgesAction__=__webpack_require__(528),__WEBPACK_IMPORTED_MODULE_16_app_actions_LoadedGameStatsAction__=__webpack_require__(162),__WEBPACK_IMPORTED_MODULE_17_app_actions_LoadingRewardsAction__=__webpack_require__(366),__WEBPACK_IMPORTED_MODULE_18_app_actions_LoadingGameStatsAction__=__webpack_require__(363),__WEBPACK_IMPORTED_MODULE_19_app_actions_LoadingGamesAction__=__webpack_require__(364),__WEBPACK_IMPORTED_MODULE_20_app_actions_LoadedUserConfigCompleteAction__=__webpack_require__(529),__WEBPACK_IMPORTED_MODULE_21__actions_LoadedAvatarAction__=__webpack_require__(358);__webpack_require__.d(exports,"a",function(){return LoadersStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},LoadersStore=function(_ReducerStore){function LoadersStore(){_classCallCheck(this,LoadersStore);var _this=_possibleConstructorReturn(this,(LoadersStore.__proto__||Object.getPrototypeOf(LoadersStore)).call(this));return _this.iniitalState={MyUserProfiles:!1,FriendsUserProfiles:!1,MyClubProfiles:!1,FriendsClubProfiles:!1,Games:!1,GamesStats:!1,GamesOwnership:!1,Rewards:!1,Friends:!1,Connections:!1,Applications:!1,ShowOffBadges:!1,MyApplicationsProfiles:!1,FriendsApplicationsProfiles:!1,UserConfigComplete:!1,Avatars:!1},_this.bind(null,function(){return _this.iniitalState}),_this.bind(__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedMyUserProfilesAction__.a.name,_this.handleLoadedUserProfilesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedMyClubProfilesAction__.a.name,_this.handleLoadedMyClubProfilesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_5_app_actions_LoadedGamesAction__.a.name,_this.handleLoadedGamesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_16_app_actions_LoadedGameStatsAction__.a.name,_this.handleLoadedGameStatsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_18_app_actions_LoadingGameStatsAction__.a.name,_this.handleLoadingGameStatsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_19_app_actions_LoadingGamesAction__.a.name,_this.handleLoadingGamesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_11_app_actions_LoadedRewardsAction__.a.name,_this.handleLoadedRewardsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_17_app_actions_LoadingRewardsAction__.a.name,_this.handleLoadingRewardsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_6_app_actions_LoadedFriendsAction__.a.name,_this.handleLoadedFriendsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_7_app_actions_LoadedFriendsClubProfilesAction__.a.name,_this.handleLoadedFriendsClubProfilesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_8_app_actions_LoadedFriendsUserProfilesAction__.a.name,_this.handleLoadedFriendsUserProfilesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_9_app_actions_LoadedConnectionsAction__.a.name,_this.handleLoadedConnectionsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_10_app_actions_LoadedApplicationsAction__.a.name,_this.handleLoadedApplicationsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_13_app_actions_LoadedMyApplicationsProfilesAction__.a.name,_this.handleLoadedMyApplicationsProfilesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_12_app_actions_LoadedFriendsApplicationsProfilesAction__.a.name,_this.handleLoadedFriendsApplicationsProfilesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_14_app_actions_LoadedGamesOwnedAction__.a.name,_this.handleLoadedGamesOwnedAction),_this.bind(__WEBPACK_IMPORTED_MODULE_15_app_actions_LoadedShowOffBadgesAction__.a.name,_this.handleLoadedShowOffBadgesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_20_app_actions_LoadedUserConfigCompleteAction__.a.name,_this.handleLoadedUserConfigCompleteAction),_this.bind(__WEBPACK_IMPORTED_MODULE_21__actions_LoadedAvatarAction__.a.name,_this.handleLoadedAvatarAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this}return _inherits(LoadersStore,_ReducerStore),_createClass(LoadersStore,[{key:"handleLoggedOutAction",value:function(state,action){return this.iniitalState}},{key:"handleLoadedUserProfilesAction",value:function(state,action){return Object.assign({},state,{MyUserProfiles:!0})}},{key:"handleLoadedMyClubProfilesAction",value:function(state,action){return Object.assign({},state,{MyClubProfiles:!0})}},{key:"handleLoadedGamesAction",value:function(state,action){return Object.assign({},state,{Games:!0})}},{key:"handleLoadingGamesAction",value:function(state,action){return Object.assign({},state,{Games:!action.loading})}},{key:"handleLoadedGameStatsAction",value:function(state,action){return Object.assign({},state,{GamesStats:!0})}},{key:"handleLoadingGameStatsAction",value:function(state,action){return Object.assign({},state,{GamesStats:!1})}},{key:"handleLoadedRewardsAction",value:function(state,action){return Object.assign({},state,{Rewards:!0})}},{key:"handleLoadingRewardsAction",value:function(state,action){return Object.assign({},state,{Rewards:!1})}},{key:"handleLoadedFriendsAction",value:function(state,action){return Object.assign({},state,{Friends:!0})}},{key:"handleLoadedFriendsClubProfilesAction",value:function(state,action){return Object.assign({},state,{FriendsClubProfiles:!0})}},{key:"handleLoadedFriendsUserProfilesAction",value:function(state,action){return Object.assign({},state,{FriendsUserProfiles:!0})}},{key:"handleLoadedConnectionsAction",value:function(state,action){return Object.assign({},state,{Connections:!0})}},{key:"handleLoadedApplicationsAction",value:function(state,action){return Object.assign({},state,{Applications:!0})}},{key:"handleLoadedMyApplicationsProfilesAction",value:function(state,action){return Object.assign({},state,{MyApplicationsProfiles:!0})}},{key:"handleLoadedFriendsApplicationsProfilesAction",value:function(state,action){return Object.assign({},state,{FriendsApplicationsProfiles:!0})}},{key:"handleLoadedGamesOwnedAction",value:function(state,action){return Object.assign({},state,{GamesOwnership:!0})}},{key:"handleLoadedShowOffBadgesAction",value:function(state,action){return Object.assign({},state,{ShowOffBadges:!0})}},{key:"handleLoadedUserConfigCompleteAction",value:function(state,action){return Object.assign({},state,{UserConfigComplete:!0})}},{key:"handleLoadedAvatarAction",value:function(state,action){return Object.assign({},state,{Avatars:!0})}}]),LoadersStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);LoadersStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],LoadersStore)},569:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_3_app_actions_ShowFriendsActivityAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(371)),__WEBPACK_IMPORTED_MODULE_4_app_actions_HideFriendsActivityAction__=__webpack_require__(355),__WEBPACK_IMPORTED_MODULE_5_app_actions_BootedWidgetAction__=__webpack_require__(344),__WEBPACK_IMPORTED_MODULE_6_app_actions_ResizeWidgetAction__=__webpack_require__(369),__WEBPACK_IMPORTED_MODULE_7_app_actions_ShowMobileTabsAction__=__webpack_require__(372),__WEBPACK_IMPORTED_MODULE_8_app_actions_HideMobileTabsAction__=__webpack_require__(356),__WEBPACK_IMPORTED_MODULE_9_app_actions_ToggleOnClickActiveMenuAction__=__webpack_require__(378),__WEBPACK_IMPORTED_MODULE_10_app_actions_ChangeLastPlayedGameAction__=__webpack_require__(348),__WEBPACK_IMPORTED_MODULE_11_app_actions_HideNotificationsPanelAction__=__webpack_require__(357),__WEBPACK_IMPORTED_MODULE_12_app_actions_ShowNotificationsPanelAction__=__webpack_require__(373),__WEBPACK_IMPORTED_MODULE_13__actions_DeselectArabLanguageAction__=__webpack_require__(155),__WEBPACK_IMPORTED_MODULE_14__actions_SelectArabLanguageAction__=__webpack_require__(167),__WEBPACK_IMPORTED_MODULE_15__actions_ResizeWidgetHeightAction__=__webpack_require__(370);__webpack_require__.d(exports,"a",function(){return WidgetStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},WidgetStore=function(_ReducerStore){function WidgetStore(){_classCallCheck(this,WidgetStore);var _this=_possibleConstructorReturn(this,(WidgetStore.__proto__||Object.getPrototypeOf(WidgetStore)).call(this));return _this.bind(null,function(){return{booted:!1,showFriends:!1,showPlayerCard:!1,isInMobileView:!1,showMobileTabs:!1,noActiveClickOnMenu:!1,newLastPlayGameInstallmentId:null,showNotifications:!1,isOnArabLocale:!1,height:null}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3_app_actions_ShowFriendsActivityAction__.a.name,_this.handleShowFriendsActivityAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4_app_actions_HideFriendsActivityAction__.a.name,_this.handleHideFriendsActivityAction),_this.bind(__WEBPACK_IMPORTED_MODULE_7_app_actions_ShowMobileTabsAction__.a.name,_this.handleShowMobileTabs),_this.bind(__WEBPACK_IMPORTED_MODULE_8_app_actions_HideMobileTabsAction__.a.name,_this.handleHideMobileTabs),
_this.bind(__WEBPACK_IMPORTED_MODULE_5_app_actions_BootedWidgetAction__.a.name,_this.handleBootedWidgetAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_6_app_actions_ResizeWidgetAction__.a.name,_this.handleResizeWidget),_this.bind(__WEBPACK_IMPORTED_MODULE_9_app_actions_ToggleOnClickActiveMenuAction__.a.name,_this.handleNoActiveClickMenu),_this.bind(__WEBPACK_IMPORTED_MODULE_10_app_actions_ChangeLastPlayedGameAction__.a.name,_this.handleChangeLastPlayedGameSpaceId),_this.bind(__WEBPACK_IMPORTED_MODULE_12_app_actions_ShowNotificationsPanelAction__.a.name,_this.handleShowNotificationsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_11_app_actions_HideNotificationsPanelAction__.a.name,_this.handleHideNotificationsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_14__actions_SelectArabLanguageAction__.a.name,_this.handleSelectedArabLanguageAction),_this.bind(__WEBPACK_IMPORTED_MODULE_13__actions_DeselectArabLanguageAction__.a.name,_this.handleDeselectArabLanguageAction),_this.bind(__WEBPACK_IMPORTED_MODULE_15__actions_ResizeWidgetHeightAction__.a.name,_this.handleResizeWidgetHeight),_this}return _inherits(WidgetStore,_ReducerStore),_createClass(WidgetStore,[{key:"handleLoggedOutAction",value:function(state,action){return Object.assign({},state,{showFriends:!1,showPlayerCard:!1})}},{key:"handleShowFriendsActivityAction",value:function(state,action){return Object.assign({},state,{showFriends:!0})}},{key:"handleHideFriendsActivityAction",value:function(state,action){return Object.assign({},state,{showFriends:!1})}},{key:"handleBootedWidgetAction",value:function(state,action){return Object.assign({},state,{booted:!0})}},{key:"handleResizeWidget",value:function(state,action){return Object.assign({},state,{isInMobileView:action.isInMobileView})}},{key:"handleResizeWidgetHeight",value:function(state,action){return Object.assign({},state,{height:action.height})}},{key:"handleShowMobileTabs",value:function(state,action){return Object.assign({},state,{showMobileTabs:!0})}},{key:"handleHideMobileTabs",value:function(state,action){return Object.assign({},state,{showMobileTabs:!1})}},{key:"handleNoActiveClickMenu",value:function(state,action){return Object.assign({},state,{noActiveClickOnMenu:action.active})}},{key:"handleChangeLastPlayedGameSpaceId",value:function(state,action){return Object.assign({},state,{newLastPlayGameInstallmentId:action.installmentId})}},{key:"handleShowNotificationsAction",value:function(state,action){return Object.assign({},state,{showNotifications:!0})}},{key:"handleHideNotificationsAction",value:function(state,action){return Object.assign({},state,{showNotifications:!1})}},{key:"handleSelectedArabLanguageAction",value:function(state,action){return Object.assign({},state,{isOnArabLocale:!0})}},{key:"handleDeselectArabLanguageAction",value:function(state,action){return Object.assign({},state,{isOnArabLocale:!1})}}]),WidgetStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);WidgetStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],WidgetStore)},58:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_reselect__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__),__webpack_require__(25));__webpack_require__.d(exports,"a",function(){return WidgetQueries});var WidgetQueries=function WidgetQueries(){_classCallCheck(this,WidgetQueries)};WidgetQueries.getShowFriends=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state.WidgetStore},function(widgetStore){return widgetStore.showFriends}),WidgetQueries.getShowMobileTabs=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state.WidgetStore},function(widgetStore){return widgetStore.showMobileTabs}),WidgetQueries.getBooted=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state.WidgetStore},function(widgetStore){return widgetStore.booted}),WidgetQueries.getIsInMobileView=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state.WidgetStore},function(widgetStore){return widgetStore.isInMobileView}),WidgetQueries.getNoActiveClickOnMenu=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state.WidgetStore},function(widgetStore){return widgetStore.noActiveClickOnMenu}),WidgetQueries.getNewLastPlayGameInstallmentId=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state.WidgetStore},function(widgetStore){return widgetStore.newLastPlayGameInstallmentId}),WidgetQueries.getShowNotifications=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state.WidgetStore},function(widgetStore){return widgetStore.showNotifications}),WidgetQueries.getIsOnArabLocale=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state.WidgetStore},__WEBPACK_IMPORTED_MODULE_1_app_modules_integrator_configuration_queries_IntegratorConfigurationQueries__.a.getHasArabLanguage,function(widgetStore,hasArabLanguage){return widgetStore.isOnArabLocale||hasArabLanguage}),WidgetQueries.isSafari=function(){return!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/)},WidgetQueries.getHeight=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__stejar_reselect__.createSelector)(function(state){return state.WidgetStore},function(widgetStore){return widgetStore.height}),WidgetQueries.getIsoVersion=function(){if(/iP(hone|od|ad)/.test(navigator.platform)){var version=null,match=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);if(void 0!==match&&null!==match){var paseVersion=[parseInt(match[1],10),parseInt(match[2],10),parseInt(match[3],10)];version=paseVersion[0]}return version}},WidgetQueries.getisOnIpad=function(){return/iPad/.test(navigator.platform)},WidgetQueries.getIsIsoVersionLowerThanNine=function(){return WidgetQueries.getIsoVersion()<=9}},59:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedMyUserProfilesAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(165)),__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsUserProfilesAction__=__webpack_require__(161),__WEBPACK_IMPORTED_MODULE_5__actions_ReloadAction__=__webpack_require__(72);__webpack_require__.d(exports,"a",function(){return UserProfilesStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},UserProfilesStore=function(_ReducerStore){function UserProfilesStore(){_classCallCheck(this,UserProfilesStore);var _this=_possibleConstructorReturn(this,(UserProfilesStore.__proto__||Object.getPrototypeOf(UserProfilesStore)).call(this));return _this.bind(null,function(){return{byId:{},byNameOnPlatform:{},byUserId:{},ids:[],hasError:!1,expiration:0}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedMyUserProfilesAction__.a.name,_this.handleLoadedMyUserProfilesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedFriendsUserProfilesAction__.a.name,_this.handleLoadedFriendsUserProfilesAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_5__actions_ReloadAction__.a.name,_this.handleLoggedOutAction),_this}return _inherits(UserProfilesStore,_ReducerStore),_createClass(UserProfilesStore,[{key:"handleLoggedOutAction",value:function(state,action){return{byId:{},byNameOnPlatform:{},byUserId:{},ids:[],hasError:!1,expiration:0}}},{key:"handleLoadedMyUserProfilesAction",value:function(state,action){return Object.assign({},state,{byId:Object.assign({},state.byId,action.byId),byNameOnPlatform:Object.assign({},state.byNameOnPlatform,action.byNameOnPlatform),byUserId:Object.assign({},state.byUserId,action.byUserId),ids:state.ids.filter(function(id){return!action.ids.includes(id)}).concat(action.ids),hasError:action.hasError})}},{key:"handleLoadedFriendsUserProfilesAction",value:function(state,action){return Object.assign({},state,{byId:Object.assign({},state.byId,action.byId),byNameOnPlatform:Object.assign({},state.byNameOnPlatform,action.byNameOnPlatform),byUserId:Object.assign({},state.byUserId,action.byUserId),ids:state.ids.filter(function(id){return!action.ids.includes(id)}).concat(action.ids),hasError:action.hasError,expiration:null!==action.expiration?action.expiration:state.expiration})}}]),UserProfilesStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);UserProfilesStore.getState=function(state){return state.UserProfilesStore},UserProfilesStore.getById=function(state){return state.UserProfilesStore.byId},UserProfilesStore.getByUserId=function(state){return state.UserProfilesStore.byUserId},UserProfilesStore.getByNameOnPlatform=function(state){return state.UserProfilesStore.byNameOnPlatform},UserProfilesStore.getIds=function(state){return state.UserProfilesStore.ids},UserProfilesStore.loadedMyProfiles=function(state){return state.LoadersStore.MyUserProfiles},UserProfilesStore.loadedFriendsProfiles=function(state){return state.LoadersStore.FriendsUserProfiles},UserProfilesStore.getExpiration=function(state){return state.UserProfilesStore.expiration},UserProfilesStore.getHasError=function(state){return state.UserProfilesStore.hasError},UserProfilesStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],UserProfilesStore)},613:function(module,exports,__webpack_require__){function webpackContext(req){return __webpack_require__(webpackContextResolve(req))}function webpackContextResolve(req){var id=map[req];if(!(id+1))throw new Error("Cannot find module '"+req+"'.");return id}var map={"./af":212,"./af.js":212,"./ar":218,"./ar-dz":213,"./ar-dz.js":213,"./ar-ly":214,"./ar-ly.js":214,"./ar-ma":215,"./ar-ma.js":215,"./ar-sa":216,"./ar-sa.js":216,"./ar-tn":217,"./ar-tn.js":217,"./ar.js":218,"./az":219,"./az.js":219,"./be":220,"./be.js":220,"./bg":221,"./bg.js":221,"./bn":222,"./bn.js":222,"./bo":223,"./bo.js":223,"./br":224,"./br.js":224,"./bs":225,"./bs.js":225,"./ca":226,"./ca.js":226,"./cs":227,"./cs.js":227,"./cv":228,"./cv.js":228,"./cy":229,"./cy.js":229,"./da":230,"./da.js":230,"./de":232,"./de-at":231,"./de-at.js":231,"./de.js":232,"./dv":233,"./dv.js":233,"./el":234,"./el.js":234,"./en-au":235,"./en-au.js":235,"./en-ca":236,"./en-ca.js":236,"./en-gb":237,"./en-gb.js":237,"./en-ie":238,"./en-ie.js":238,"./en-nz":239,"./en-nz.js":239,"./eo":240,"./eo.js":240,"./es":242,"./es-do":241,"./es-do.js":241,"./es.js":242,"./et":243,"./et.js":243,"./eu":244,"./eu.js":244,"./fa":245,"./fa.js":245,"./fi":246,"./fi.js":246,"./fo":247,"./fo.js":247,"./fr":250,"./fr-ca":248,"./fr-ca.js":248,"./fr-ch":249,"./fr-ch.js":249,"./fr.js":250,"./fy":251,"./fy.js":251,"./gd":252,"./gd.js":252,"./gl":253,"./gl.js":253,"./he":254,"./he.js":254,"./hi":255,"./hi.js":255,"./hr":256,"./hr.js":256,"./hu":257,"./hu.js":257,"./hy-am":258,"./hy-am.js":258,"./id":259,"./id.js":259,"./is":260,"./is.js":260,"./it":261,"./it.js":261,"./ja":262,"./ja.js":262,"./jv":263,"./jv.js":263,"./ka":264,"./ka.js":264,"./kk":265,"./kk.js":265,"./km":266,"./km.js":266,"./ko":267,"./ko.js":267,"./ky":268,"./ky.js":268,"./lb":269,"./lb.js":269,"./lo":270,"./lo.js":270,"./lt":271,"./lt.js":271,"./lv":272,"./lv.js":272,"./me":273,"./me.js":273,"./mi":274,"./mi.js":274,"./mk":275,"./mk.js":275,"./ml":276,"./ml.js":276,"./mr":277,"./mr.js":277,"./ms":279,"./ms-my":278,"./ms-my.js":278,"./ms.js":279,"./my":280,"./my.js":280,"./nb":281,"./nb.js":281,"./ne":282,"./ne.js":282,"./nl":284,"./nl-be":283,"./nl-be.js":283,"./nl.js":284,"./nn":285,"./nn.js":285,"./pa-in":286,"./pa-in.js":286,"./pl":287,"./pl.js":287,"./pt":289,"./pt-br":288,"./pt-br.js":288,"./pt.js":289,"./ro":290,"./ro.js":290,"./ru":291,"./ru.js":291,"./se":292,"./se.js":292,"./si":293,"./si.js":293,"./sk":294,"./sk.js":294,"./sl":295,"./sl.js":295,"./sq":296,"./sq.js":296,"./sr":298,"./sr-cyrl":297,"./sr-cyrl.js":297,"./sr.js":298,"./ss":299,"./ss.js":299,"./sv":300,"./sv.js":300,"./sw":301,"./sw.js":301,"./ta":302,"./ta.js":302,"./te":303,"./te.js":303,"./tet":304,"./tet.js":304,"./th":305,"./th.js":305,"./tl-ph":306,"./tl-ph.js":306,"./tlh":307,"./tlh.js":307,"./tr":308,"./tr.js":308,"./tzl":309,"./tzl.js":309,"./tzm":311,"./tzm-latn":310,"./tzm-latn.js":310,"./tzm.js":311,"./uk":312,"./uk.js":312,"./uz":313,"./uz.js":313,"./vi":314,"./vi.js":314,"./x-pseudo":315,"./x-pseudo.js":315,"./yo":316,"./yo.js":316,"./zh-cn":317,"./zh-cn.js":317,"./zh-hk":318,"./zh-hk.js":318,"./zh-tw":319,"./zh-tw.js":319};webpackContext.keys=function(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=613},66:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_translate__=__webpack_require__(24),__WEBPACK_IMPORTED_MODULE_1__stejar_utils__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_translate__),__webpack_require__(43)),__WEBPACK_IMPORTED_MODULE_2__authentication_queries_IdentityQueries__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_utils__),__webpack_require__(22)),__WEBPACK_IMPORTED_MODULE_3__configuration_queries_ConfigurationQueries__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__=__webpack_require__(25);__webpack_require__.d(exports,"a",function(){return TagCommanderService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},TagCommanderService=function(){function TagCommanderService(store){_classCallCheck(this,TagCommanderService),this.store=store,this.debug=!1}return _createClass(TagCommanderService,[{key:"enableDebug",value:function(){console.log("[Ubisoft Tag Commander] Enabled debug"),this.debug=!0}},{key:"canRun",value:function(){return"undefined"!=typeof window}},{key:"boot",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var tcWindow,locale;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(this.canRun()){_context.next=3;break}return this.debug&&console.log("[Ubisoft Tag Commander] Cannot boot since cannot run."),_context.abrupt("return",null);case 3:if(window.jQuery){_context.next=6;break}return _context.next=6,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_utils__.loadScript)("https://code.jquery.com/jquery-2.2.4.min.js");case 6:return _context.next=8,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__stejar_utils__.loadScript)(__WEBPACK_IMPORTED_MODULE_3__configuration_queries_ConfigurationQueries__.a.getTagCommanderUrl(this.store.getState())+"?"+1e13*Math.random());case 8:this.debug&&console.log("[Ubisoft Tag Commander] Loaded script: "+__WEBPACK_IMPORTED_MODULE_3__configuration_queries_ConfigurationQueries__.a.getTagCommanderUrl(this.store.getState())),tcWindow=window,locale=__WEBPACK_IMPORTED_MODULE_0__stejar_translate__.LocaleQueries.getCurrentLocale(this.store.getState()),tcWindow.wa_data={siteName:__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getTrackingSiteName(this.store.getState()),siteSection:__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getTrackingSiteSection(this.store.getState()),siteType:__WEBPACK_IMPORTED_MODULE_4__integrator_configuration_queries_IntegratorConfigurationQueries__.a.getTrackingSiteType(this.store.getState()),nav:{country:locale?__WEBPACK_IMPORTED_MODULE_0__stejar_translate__.LocaleQueries.getCurrentLocale(this.store.getState()).split("-")[1]:"GB",language:locale?__WEBPACK_IMPORTED_MODULE_0__stejar_translate__.LocaleQueries.getCurrentLocale(this.store.getState()).split("-")[0]:"en",uplayID:__WEBPACK_IMPORTED_MODULE_2__authentication_queries_IdentityQueries__.a.hasIdentity(this.store.getState())?__WEBPACK_IMPORTED_MODULE_2__authentication_queries_IdentityQueries__.a.getUserId(this.store.getState()):null,doNotTrack:tcWindow.navigator.doNotTrack},profile:{uplayID:__WEBPACK_IMPORTED_MODULE_2__authentication_queries_IdentityQueries__.a.hasIdentity(this.store.getState())?__WEBPACK_IMPORTED_MODULE_2__authentication_queries_IdentityQueries__.a.getUserId(this.store.getState()):null,loginStatus:__WEBPACK_IMPORTED_MODULE_2__authentication_queries_IdentityQueries__.a.hasIdentity(this.store.getState())?"1":"0"}},tcWindow.tc_vars={profile:{uplayID:__WEBPACK_IMPORTED_MODULE_2__authentication_queries_IdentityQueries__.a.hasIdentity(this.store.getState())?__WEBPACK_IMPORTED_MODULE_2__authentication_queries_IdentityQueries__.a.getUserId(this.store.getState()):null,loginStatus:__WEBPACK_IMPORTED_MODULE_2__authentication_queries_IdentityQueries__.a.hasIdentity(this.store.getState())?"1":"0"}};case 13:case"end":return _context.stop()}},_callee,this)}))}},{key:"trackEvent",value:function(eventName,eventId){if(this.canRun()){var tcWindow=window;if(eventName=eventName+" - "+eventId,!tcWindow.tc_events_100)return void(this.debug&&console.warn("[Ubisoft Tag Commander] THERE IS NO WINDOW.tc_events_100"));this.debug&&console.log("[Ubisoft Tag Commander] Tracking click "+eventName);try{tcWindow.tc_events_100(tcWindow,"clickevent",{ACTION:eventName,UPLAYID:__WEBPACK_IMPORTED_MODULE_2__authentication_queries_IdentityQueries__.a.hasIdentity(this.store.getState())?__WEBPACK_IMPORTED_MODULE_2__authentication_queries_IdentityQueries__.a.getUserId(this.store.getState()):null})}catch(error){this.debug&&(console.warn("T[Ubisoft Tag Commander] Tag commander event error:"),console.warn(error))}}}},{key:"changeTrackingSiteSection",value:function(siteSection){var tcWindow=window;tcWindow.wa_data.siteSection=siteSection}}]),TagCommanderService}()},67:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedFriendsAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(116)),__WEBPACK_IMPORTED_MODULE_4__actions_ReloadAction__=__webpack_require__(72);__webpack_require__.d(exports,"a",function(){return FriendsStore});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},FriendsStore=function(_ReducerStore){function FriendsStore(){_classCallCheck(this,FriendsStore);var _this=_possibleConstructorReturn(this,(FriendsStore.__proto__||Object.getPrototypeOf(FriendsStore)).call(this));return _this.bind(null,function(){return{byId:{},ids:[],expiration:0}}),_this.bind(__WEBPACK_IMPORTED_MODULE_3_app_actions_LoadedFriendsAction__.a.name,_this.handleLoadedFriendsAction),_this.bind(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.LoggedOutAction.name,_this.handleLoggedOutAction),_this.bind(__WEBPACK_IMPORTED_MODULE_4__actions_ReloadAction__.a.name,_this.handleLoggedOutAction),_this}return _inherits(FriendsStore,_ReducerStore),_createClass(FriendsStore,[{key:"handleLoggedOutAction",value:function(state,action){return{byId:{},ids:[],expiration:0}}},{key:"handleLoadedFriendsAction",value:function(state,action){return Object.assign({},state,{byId:Object.keys(action.byId).length?Object.assign({},state.byId,action.byId):{},ids:action.ids.length?state.ids.filter(function(id){return!action.ids.includes(id)}).concat(action.ids):[],expiration:action.expiration})}}]),FriendsStore}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.ReducerStore);FriendsStore.getState=function(state){return state.FriendsStore},FriendsStore.getByIds=function(state){return state.FriendsStore.byId},FriendsStore.getIds=function(state){return state.FriendsStore.ids},FriendsStore.getExpiration=function(state){return state.FriendsStore.expiration},FriendsStore.loaded=function(state){return state.LoadersStore.Friends},FriendsStore=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],FriendsStore)},72:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return ReloadAction});var ReloadAction=function ReloadAction(){_classCallCheck(this,ReloadAction)}},85:function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__stejar_redux__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_di__),__webpack_require__(2)),__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__),__webpack_require__(9)),__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__),__webpack_require__(17)),__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedMyClubProfilesAction__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__),__webpack_require__(164)),__WEBPACK_IMPORTED_MODULE_5_app_actions_LoadedFriendsClubProfilesAction__=__webpack_require__(160),__WEBPACK_IMPORTED_MODULE_6_app_actions_LoadedMyUserProfilesAction__=__webpack_require__(165),__WEBPACK_IMPORTED_MODULE_7_app_actions_LoadedFriendsUserProfilesAction__=__webpack_require__(161),__WEBPACK_IMPORTED_MODULE_8_app_selectors__=__webpack_require__(15),__WEBPACK_IMPORTED_MODULE_9__modules_configuration_queries_ConfigurationQueries__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_10__stores_ClubProfilesStore__=__webpack_require__(105),__WEBPACK_IMPORTED_MODULE_11_moment__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_11_moment___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_moment__),__WEBPACK_IMPORTED_MODULE_12__stores_UserProfilesStore__=__webpack_require__(59);__webpack_require__.d(exports,"a",function(){return ProfilesService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments)).next())})},ProfilesService=function(_AbstractActions){function ProfilesService(userProfilesApi,clubProfilesApi,authenticationStore){_classCallCheck(this,ProfilesService);var _this=_possibleConstructorReturn(this,(ProfilesService.__proto__||Object.getPrototypeOf(ProfilesService)).call(this));return _this.userProfilesApi=userProfilesApi,_this.clubProfilesApi=clubProfilesApi,_this.authenticationStore=authenticationStore,_this}return _inherits(ProfilesService,_AbstractActions),_createClass(ProfilesService,[{key:"loadMyUserProfile",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee(){var profiles;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,this.userProfilesApi.getUserProfilesByUserIds([this.authenticationStore.getIdentity().user_id]);case 3:profiles=_context.sent,this.afterLoadedProfiles(profiles,__WEBPACK_IMPORTED_MODULE_6_app_actions_LoadedMyUserProfilesAction__.a,!1),
_context.next=10;break;case 7:_context.prev=7,_context.t0=_context["catch"](0),this.afterLoadedProfiles([],__WEBPACK_IMPORTED_MODULE_6_app_actions_LoadedMyUserProfilesAction__.a,!0);case 10:case"end":return _context.stop()}},_callee,this,[[0,7]])}))}},{key:"loadMyClubProfile",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee2(){var profiles;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,this.clubProfilesApi.getClubProfilesByProfileIds([this.authenticationStore.getIdentity().user_id]);case 3:profiles=_context2.sent,this.afterLoadedClubProfiles(profiles,__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedMyClubProfilesAction__.a,!1),_context2.next=10;break;case 7:_context2.prev=7,_context2.t0=_context2["catch"](0),this.afterLoadedClubProfiles([],__WEBPACK_IMPORTED_MODULE_4_app_actions_LoadedMyClubProfilesAction__.a,!0);case 10:case"end":return _context2.stop()}},_callee2,this,[[0,7]])}))}},{key:"loadMyFriendsClubProfiles",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee3(){var profiles;return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(!__WEBPACK_IMPORTED_MODULE_9__modules_configuration_queries_ConfigurationQueries__.a.isExpired(__WEBPACK_IMPORTED_MODULE_10__stores_ClubProfilesStore__.a.getExpiration(this.getState()),__WEBPACK_IMPORTED_MODULE_9__modules_configuration_queries_ConfigurationQueries__.a.getDefaultDataCacheTime())){_context3.next=13;break}return _context3.prev=1,_context3.next=4,this.clubProfilesApi.getClubProfilesByProfileIds(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8_app_selectors__.a)(this.getState()));case 4:profiles=_context3.sent,this.afterLoadedClubProfiles(profiles,__WEBPACK_IMPORTED_MODULE_5_app_actions_LoadedFriendsClubProfilesAction__.a,!1,__WEBPACK_IMPORTED_MODULE_11_moment___default()().unix()),_context3.next=11;break;case 8:_context3.prev=8,_context3.t0=_context3["catch"](1),this.afterLoadedClubProfiles([],__WEBPACK_IMPORTED_MODULE_5_app_actions_LoadedFriendsClubProfilesAction__.a,!0,__WEBPACK_IMPORTED_MODULE_11_moment___default()().unix());case 11:_context3.next=14;break;case 13:this.dispatch(new __WEBPACK_IMPORTED_MODULE_5_app_actions_LoadedFriendsClubProfilesAction__.a(__WEBPACK_IMPORTED_MODULE_10__stores_ClubProfilesStore__.a.getById(this.getState()),__WEBPACK_IMPORTED_MODULE_10__stores_ClubProfilesStore__.a.getIds(this.getState()),__WEBPACK_IMPORTED_MODULE_10__stores_ClubProfilesStore__.a.getHasError(this.getState()),__WEBPACK_IMPORTED_MODULE_10__stores_ClubProfilesStore__.a.getExpiration(this.getState())));case 14:case"end":return _context3.stop()}},_callee3,this,[[1,8]])}))}},{key:"loadMyPendingRequestFriendsClubProfiles",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee4(){var profiles;return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.prev=0,_context4.next=3,this.clubProfilesApi.getClubProfilesByProfileIds(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8_app_selectors__.b)(this.getState()));case 3:profiles=_context4.sent,this.afterLoadedClubProfiles(profiles,__WEBPACK_IMPORTED_MODULE_5_app_actions_LoadedFriendsClubProfilesAction__.a,!1),_context4.next=10;break;case 7:_context4.prev=7,_context4.t0=_context4["catch"](0),this.afterLoadedClubProfiles([],__WEBPACK_IMPORTED_MODULE_5_app_actions_LoadedFriendsClubProfilesAction__.a,!0);case 10:case"end":return _context4.stop()}},_callee4,this,[[0,7]])}))}},{key:"loadFriendClubProfiles",value:function(pid){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee5(){var profiles;return regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.prev=0,_context5.next=3,this.clubProfilesApi.getClubProfilesByProfileIds([pid]);case 3:profiles=_context5.sent,this.afterLoadedClubProfiles(profiles,__WEBPACK_IMPORTED_MODULE_5_app_actions_LoadedFriendsClubProfilesAction__.a,!1),_context5.next=10;break;case 7:_context5.prev=7,_context5.t0=_context5["catch"](0),this.afterLoadedClubProfiles([],__WEBPACK_IMPORTED_MODULE_5_app_actions_LoadedFriendsClubProfilesAction__.a,!0);case 10:case"end":return _context5.stop()}},_callee5,this,[[0,7]])}))}},{key:"loadMyFriendsUserProfiles",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee6(){var profiles;return regeneratorRuntime.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:if(!__WEBPACK_IMPORTED_MODULE_9__modules_configuration_queries_ConfigurationQueries__.a.isExpired(__WEBPACK_IMPORTED_MODULE_12__stores_UserProfilesStore__.a.getExpiration(this.getState()),__WEBPACK_IMPORTED_MODULE_9__modules_configuration_queries_ConfigurationQueries__.a.getDefaultDataCacheTime())){_context6.next=13;break}return _context6.prev=1,_context6.next=4,this.userProfilesApi.getUserProfilesByUserIds(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8_app_selectors__.a)(this.getState()));case 4:profiles=_context6.sent,this.afterLoadedProfiles(profiles,__WEBPACK_IMPORTED_MODULE_7_app_actions_LoadedFriendsUserProfilesAction__.a,!1,__WEBPACK_IMPORTED_MODULE_11_moment___default()().unix()),_context6.next=11;break;case 8:_context6.prev=8,_context6.t0=_context6["catch"](1),this.afterLoadedProfiles([],__WEBPACK_IMPORTED_MODULE_7_app_actions_LoadedFriendsUserProfilesAction__.a,!0,__WEBPACK_IMPORTED_MODULE_11_moment___default()().unix());case 11:_context6.next=14;break;case 13:this.dispatch(new __WEBPACK_IMPORTED_MODULE_7_app_actions_LoadedFriendsUserProfilesAction__.a(__WEBPACK_IMPORTED_MODULE_12__stores_UserProfilesStore__.a.getById(this.getState()),__WEBPACK_IMPORTED_MODULE_12__stores_UserProfilesStore__.a.getByNameOnPlatform(this.getState()),__WEBPACK_IMPORTED_MODULE_12__stores_UserProfilesStore__.a.getByUserId(this.getState()),__WEBPACK_IMPORTED_MODULE_12__stores_UserProfilesStore__.a.getIds(this.getState()),__WEBPACK_IMPORTED_MODULE_12__stores_UserProfilesStore__.a.getHasError(this.getState()),__WEBPACK_IMPORTED_MODULE_12__stores_UserProfilesStore__.a.getExpiration(this.getState())));case 14:case"end":return _context6.stop()}},_callee6,this,[[1,8]])}))}},{key:"loadFriendUserProfiles",value:function(pid){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee7(){var profiles;return regeneratorRuntime.wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.prev=0,_context7.next=3,this.userProfilesApi.getUserProfilesByUserIds([pid]);case 3:profiles=_context7.sent,this.afterLoadedProfiles(profiles,__WEBPACK_IMPORTED_MODULE_7_app_actions_LoadedFriendsUserProfilesAction__.a,!1,null),_context7.next=10;break;case 7:_context7.prev=7,_context7.t0=_context7["catch"](0),this.afterLoadedProfiles([],__WEBPACK_IMPORTED_MODULE_7_app_actions_LoadedFriendsUserProfilesAction__.a,!0,null);case 10:case"end":return _context7.stop()}},_callee7,this,[[0,7]])}))}},{key:"loadMyFriendProfilesByUserNameAndPlatforms",value:function(userNames,platform){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee8(){var profiles;return regeneratorRuntime.wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.prev=0,_context8.next=3,this.userProfilesApi.getProfilesByUserNameAndPlatformTypes(userNames,platform);case 3:return profiles=_context8.sent,this.afterLoadedProfiles(profiles,__WEBPACK_IMPORTED_MODULE_7_app_actions_LoadedFriendsUserProfilesAction__.a,!1,null),_context8.abrupt("return",profiles);case 8:return _context8.prev=8,_context8.t0=_context8["catch"](0),this.afterLoadedProfiles([],__WEBPACK_IMPORTED_MODULE_7_app_actions_LoadedFriendsUserProfilesAction__.a,!0,null),_context8.abrupt("return",Promise.reject(_context8.t0));case 12:case"end":return _context8.stop()}},_callee8,this,[[0,8]])}))}},{key:"loadFriendsClubProfilesByIds",value:function(ids){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee9(){var profiles;return regeneratorRuntime.wrap(function(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _context9.prev=0,_context9.next=3,this.clubProfilesApi.getClubProfilesByProfileIds(ids);case 3:profiles=_context9.sent,this.afterLoadedClubProfiles(profiles,__WEBPACK_IMPORTED_MODULE_5_app_actions_LoadedFriendsClubProfilesAction__.a,!1),_context9.next=10;break;case 7:_context9.prev=7,_context9.t0=_context9["catch"](0),this.afterLoadedClubProfiles([],__WEBPACK_IMPORTED_MODULE_5_app_actions_LoadedFriendsClubProfilesAction__.a,!0);case 10:case"end":return _context9.stop()}},_callee9,this,[[0,7]])}))}},{key:"loadFriendsProfilesByIds",value:function(ids){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee10(){var profiles;return regeneratorRuntime.wrap(function(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return _context10.prev=0,_context10.next=3,this.userProfilesApi.getUserProfilesByUserIds(ids);case 3:profiles=_context10.sent,this.afterLoadedProfiles(profiles,__WEBPACK_IMPORTED_MODULE_7_app_actions_LoadedFriendsUserProfilesAction__.a,!1,null),_context10.next=10;break;case 7:_context10.prev=7,_context10.t0=_context10["catch"](0),this.afterLoadedProfiles([],__WEBPACK_IMPORTED_MODULE_7_app_actions_LoadedFriendsUserProfilesAction__.a,!0,null);case 10:case"end":return _context10.stop()}},_callee10,this,[[0,7]])}))}},{key:"getProfilesByPlatformIdsAndPlatformType",value:function(userIds,platformType){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function _callee11(){var profiles;return regeneratorRuntime.wrap(function(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return _context11.prev=0,_context11.next=3,this.userProfilesApi.getProfilesByPlatformIdsAndPlatformType(userIds,platformType);case 3:return profiles=_context11.sent,this.afterLoadedProfiles(profiles,__WEBPACK_IMPORTED_MODULE_7_app_actions_LoadedFriendsUserProfilesAction__.a,!1,null),_context11.abrupt("return",profiles);case 8:return _context11.prev=8,_context11.t0=_context11["catch"](0),this.afterLoadedProfiles([],__WEBPACK_IMPORTED_MODULE_7_app_actions_LoadedFriendsUserProfilesAction__.a,!0,null),_context11.abrupt("return",Promise.reject(_context11.t0));case 12:case"end":return _context11.stop()}},_callee11,this,[[0,8]])}))}},{key:"afterLoadedProfiles",value:function(profiles,className,hasError,expiration){var byId={},byUserId={},byNameOnPlatform={},ids=[];profiles.forEach(function(profile){byId[profile.profileId]=profile,byNameOnPlatform[profile.nameOnPlatform]=profile,byUserId[profile.userId]||(byUserId[profile.userId]=[]),byUserId[profile.userId].push(profile.profileId),ids.push(profile.profileId)}),expiration?this.dispatch(new className(byId,byNameOnPlatform,byUserId,ids,hasError,expiration)):this.dispatch(new className(byId,byNameOnPlatform,byUserId,ids,hasError))}},{key:"afterLoadedClubProfiles",value:function(profiles,className,hasError,expiration){var byId={},ids=[];profiles.forEach(function(profile){byId[profile.profileId]=profile,ids.push(profile.profileId)}),expiration?this.dispatch(new className(byId,ids,hasError,expiration)):this.dispatch(new className(byId,ids,hasError))}}]),ProfilesService}(__WEBPACK_IMPORTED_MODULE_1__stejar_redux__.AbstractActions);ProfilesService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.UserProfilesApi,__WEBPACK_IMPORTED_MODULE_3_ubisoft_api__.ClubProfilesApi,__WEBPACK_IMPORTED_MODULE_2__stejar_authentication__.AuthenticationStore])],ProfilesService)}},[1026]);