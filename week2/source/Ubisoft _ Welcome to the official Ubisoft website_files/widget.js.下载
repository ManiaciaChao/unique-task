/*!
  * Application Version: 3.0.0
  * Application Environment: prod
  * Build Version: 1541067358
  */
!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.i=function(value){return value},__webpack_require__.d=function(exports,name,getter){Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module["default"]}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="https://ubistatic2-a.akamaihd.net/overlay/prod/public/",__webpack_require__(__webpack_require__.s=15)}([function(module,exports,__webpack_require__){"use strict";var report=__webpack_require__(1),settlePromise=function(promise){return promise.then(report.fulfilledSettleReport)["catch"](report.rejectedSettleReport)},resolveAndSettle=function(promise){return settlePromise(Promise.resolve(promise))},allSettled=function(promises){return Promise.all(promises.map(resolveAndSettle))},filterFulfilledAndGetValues=function(settledReports){return settledReports.filter(report.isFulfilled).map(report.getValue)},fulfilled=function(promises){return allSettled(promises).then(filterFulfilledAndGetValues)},filterRejectedAndGetReasons=function(settledReports){return settledReports.filter(report.isRejected).map(report.getReason)},rejected=function(promises){return allSettled(promises).then(filterRejectedAndGetReasons)};module.exports={allSettled:allSettled,fulfilled:fulfilled,rejected:rejected}},function(module,exports){"use strict";var fulfilledSettleReport=function(value){return{state:"fulfilled",value:value}},rejectedSettleReport=function(error){return{state:"rejected",reason:error}},isFulfilled=function(report){return"fulfilled"===report.state},getValue=function(report){return report.value},isRejected=function(report){return"rejected"===report.state},getReason=function(report){return report.reason};module.exports={fulfilledSettleReport:fulfilledSettleReport,rejectedSettleReport:rejectedSettleReport,isFulfilled:isFulfilled,isRejected:isRejected,getValue:getValue,getReason:getReason}},function(module,exports,__webpack_require__){"use strict";function getOverlayWidget(version){var object={inst:null,init:function(options){var widget=new __WEBPACK_IMPORTED_MODULE_0_app_modules_integrator_communication_services_WidgetService__.a({env:"prod",assetsUrl:"https://ubistatic2-a.akamaihd.net/overlay/prod/public",overlayApplicationUrl:"https://overlay.ubisoft.com",baseUrl:"/",version:"2.2.0",rewardsUrl:"//static8.cdn.ubi.com/u/Uplay",apiEnv:"prod",avatarsEnv:"prod",avatarsUrl:"https://ubisoft-avatars.akamaized.net",connectEnv:"prod",tagCommanderEnv:"prod",badgesSpaceId:"348db1b4-8cdd-400c-97bd-228e6b5a3fa3",clubUrl:"https://club.ubisoft.com",accountUrl:"https://account.ubisoft.com",customerSupportUrl:"https://support.ubi.com",tagCommanderUrl:"//ubistatic2-a.akamaihd.net/worldwide_analytics/tagcommander/UbisoftClub/Overlay/tc_loader.js",twitchClientId:"6a9lcgtz1vpt9l49p1ib6alx86lczpz",enableDebug:!1});object.inst=widget,version<2&&console.warn("uplayOverlayWidget is deprecated. Please use the new overlayWidget"),widget.bootstrap(options)},changeLocale:function(locale){object.inst.handleChangeLocale(locale)},changeTrackingSiteSection:function(siteSection){object.inst.handleChangeTrackingSiteSection(siteSection)},reInit:function(){object.inst.reInit()},changeGame:function(spaceId){object.inst.handleChangeGame(spaceId)},changeEnv:function(env){object.inst.handleChangeEnv(env)},changeFriendsProfileType:function(spaceId){object.inst.handleChangeFriendsProfileType(spaceId)},toggleDarkBackground:function(toggle){object.inst.handleToggleDarkBackground(toggle)},toggleSignInText:function(toggle){object.inst.handleToggleSignInText(toggle)},toggleDesktopResize:function(toggle){object.inst.toggleDesktopResize(toggle)},getTicket:function(callback){object&&object.inst&&object.inst.getTicketCallback(callback)}};return object}var __WEBPACK_IMPORTED_MODULE_0_app_modules_integrator_communication_services_WidgetService__=__webpack_require__(5);window.uplayOverlayWidget=getOverlayWidget(1),window.overlayWidget=getOverlayWidget(2),window.uplayOverlayInit&&(console.warn("uplayOverlayInit is deprecated. Please use the new overlayInit"),window.uplayOverlayInit()),window.overlayInit&&window.overlayInit()},function(module,exports){},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"a",function(){return HtmlEvents});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),HtmlEvents=function(){function HtmlEvents(){_classCallCheck(this,HtmlEvents)}return _createClass(HtmlEvents,null,[{key:"add",value:function(element,evnt,funct){return element.attachEvent?element.attachEvent("on"+evnt,funct):element.addEventListener(evnt,funct,!1)}},{key:"remove",value:function(element,evnt,funct){return element.removeEvent?element.removeEvent("on"+evnt,funct):element.removeEventListener(evnt,funct)}}]),HtmlEvents}()},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_utils__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_1_messages__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__stejar_utils__),__webpack_require__(6)),__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_communication_services_HtmlEvents__=__webpack_require__(4);__webpack_require__.d(exports,"a",function(){return WidgetService});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),WidgetService=function(){function WidgetService(config){_classCallCheck(this,WidgetService),this.config=config,{NODE_ENV:"production",APP_ENV:"prod",APP_VERSION:"3.0.0",BUILD_VERSION:1541067358,APP_CONFIG:{env:"prod",assetsUrl:"https://ubistatic2-a.akamaihd.net/overlay/prod/public",overlayApplicationUrl:"https://overlay.ubisoft.com",baseUrl:"/",version:"2.2.0",rewardsUrl:"//static8.cdn.ubi.com/u/Uplay",apiEnv:"prod",avatarsEnv:"prod",avatarsUrl:"https://ubisoft-avatars.akamaized.net",connectEnv:"prod",tagCommanderEnv:"prod",badgesSpaceId:"348db1b4-8cdd-400c-97bd-228e6b5a3fa3",clubUrl:"https://club.ubisoft.com",accountUrl:"https://account.ubisoft.com",customerSupportUrl:"https://support.ubi.com",tagCommanderUrl:"//ubistatic2-a.akamaihd.net/worldwide_analytics/tagcommander/UbisoftClub/Overlay/tc_loader.js",twitchClientId:"6a9lcgtz1vpt9l49p1ib6alx86lczpz",enableDebug:!1}}.ENABLE_DEBUG&&console.log("[Overlay Widget] Loaded")}return _createClass(WidgetService,[{key:"appendDocumentHeadHtml",value:function(){var headHTML=document.getElementsByTagName("head")[0],link=document.createElement("link");return link.type="text/css",link.rel="stylesheet",link.href=this.cssUrl,headHTML.appendChild(link),null}},{key:"appendContainer",value:function(onload){var iframe=document.createElement("iframe");iframe.id="overlay-iframe",iframe.style.display="none",iframe.scrolling="no",iframe.style.border="0",iframe.onload=function(){iframe.style.display=""},this.iframe=iframe;var iframeContainer=document.createElement("div");iframeContainer.id="overlay-container",iframeContainer.style.height=(this.options.height||50)+"px",iframeContainer.appendChild(iframe);var backdrop=document.createElement("div");backdrop.id="overlay-backdrop",this.backdrop=backdrop;var container=document.getElementById(this.options.container);if(container||(container=document.getElementById(this.options.container.replace("#",""))),container||(container=document.getElementsByClassName(this.options.container.replace(".","")),!container&&container[0]||(container=void 0)),container.style.position="relative",container.style.zIndex=this.options.zIndex?this.options.zIndex:"1000",container.style.width="334px",backdrop.style.zIndex=this.options.zIndex?(parseFloat(this.options.zIndex)-1).toString():"999",!container)throw new Error("Could not find container element '"+this.options.container+"'");container.appendChild(iframeContainer),container.parentElement.appendChild(backdrop),this.container=container,onload(iframe),iframe.src=this.config.overlayApplicationUrl+"?owner="+window.self.location.protocol+"//"+window.self.location.host}},{key:"appendModalContainer",value:function(){var modalNode=document.createElement("div"),modalOverlay=document.createElement("div"),modalContent=document.createElement("div"),modalCloseButton=document.createElement("div"),modalCloseIcon=document.createElement("i"),body=document.getElementsByTagName("body")[0];modalNode.classList.add("ReactModalPortal"),modalNode.style.display="none",modalOverlay.classList.add("ReactModal__Overlay"),modalContent.classList.add("ReactModal__Content"),modalCloseButton.classList.add("ReactModal__Close__Button"),modalCloseIcon.className+="ubico ubico-close",modalCloseButton.appendChild(modalCloseIcon),modalContent.appendChild(modalCloseButton),modalOverlay.appendChild(modalContent),modalNode.appendChild(modalOverlay),body.appendChild(modalNode)}},{key:"bootstrap",value:function(options){var _this=this;this.options=options,this.appendDocumentHeadHtml(),this.appendContainer(function(iframe){_this.channel=new __WEBPACK_IMPORTED_MODULE_0__stejar_utils__.Channel(_this.config.overlayApplicationUrl,iframe.contentWindow,{NODE_ENV:"production",APP_ENV:"prod",APP_VERSION:"3.0.0",BUILD_VERSION:1541067358,APP_CONFIG:{env:"prod",assetsUrl:"https://ubistatic2-a.akamaihd.net/overlay/prod/public",overlayApplicationUrl:"https://overlay.ubisoft.com",baseUrl:"/",version:"2.2.0",rewardsUrl:"//static8.cdn.ubi.com/u/Uplay",apiEnv:"prod",avatarsEnv:"prod",avatarsUrl:"https://ubisoft-avatars.akamaized.net",connectEnv:"prod",tagCommanderEnv:"prod",badgesSpaceId:"348db1b4-8cdd-400c-97bd-228e6b5a3fa3",clubUrl:"https://club.ubisoft.com",accountUrl:"https://account.ubisoft.com",customerSupportUrl:"https://support.ubi.com",tagCommanderUrl:"//ubistatic2-a.akamaihd.net/worldwide_analytics/tagcommander/UbisoftClub/Overlay/tc_loader.js",twitchClientId:"6a9lcgtz1vpt9l49p1ib6alx86lczpz",enableDebug:!1}}.ENABLE_DEBUG),_this.setupSubscriptions()}),this.appendModalContainer()}},{key:"setupSubscriptions",value:function(){var _this2=this;this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_INITIALIZE,this.handleInitilize.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_SHOW_BACKDROP,this.handleShowBackdrop.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_HIDE_BACKDROP,this.handleHideBackdrop.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_SHOW_MOBILE_TABS,this.handleShowMobileTabs.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_HIDE_MOBILE_TABS,this.handleHideMobileTabs.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_EXPAND,this.handleExpand.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_COLLAPSE,this.handleCollapse.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_LOGGED_IN,this.handleLoggedIn.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_LOGGED_OUT,this.handleLoggedOut.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_RESIZE,this.handleResize.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_OPEN_LOGIN_MODAL,this.handleOpenLoginModal.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_CLOSE_LOGIN_MODAL,this.handleCloseLoginModalAndConnect.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_CHANGE_LOCALE,this.handleChangeLocaleFromCommunicationService.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_ENV_LOADED,this.handleInitEnv.bind(this)),this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_CHANGE_IFRAME_HEIGHT,this.handleChangeIframeHeight.bind(this)),this.options.collapse&&this.options.collapse(function(){_this2.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_COLLAPSE)}),this.options.expandFriends&&this.options.expandFriends(function(){_this2.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_EXPAND_FRIENDS)}),this.options.expandPlayerCard&&this.options.expandPlayerCard(function(){_this2.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_EXPAND_PLAYER_CARD)}),this.options.expandNotifications&&this.options.expandNotifications(function(){_this2.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_EXPAND_NOTIFICATIONS)})}},{key:"handleInitilize",value:function(){var _this3=this;this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_BOOTSTRAP,this.options),this.options.installmentId&&this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_CHANGE_GAME,this.options.installmentId),this.handleOnResize(!0),window.addEventListener("resize",function(){_this3.handleOnResize(!1)}),document.getElementsByClassName("ReactModal__Close__Button")[0].addEventListener("click",this.handleCloseLoginModal.bind(this))}},{key:"handleOnResize",value:function(firstTime){this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_RESIZED_WINDOW,{innerWidth:window.innerWidth,innerHeight:window.innerHeight,iframeHeight:this.iframe.offsetHeight,firstTime:firstTime}),!this.isInMobileView(window.innerWidth)&&this.options.onShowHideScrollOnMobile&&this.options.onShowHideScrollOnMobile(!1),!this.isInMobileView(window.innerWidth)&&this.options.onShowHideScrollOnMobile&&document.body.classList.remove("overlay-expanded-on-mobile")}},{key:"handleShowBackdrop",value:function(){var _this4=this;this.options.onShowHide&&this.options.onShowHide(!0),this.backdrop.classList.add("overlay-backdrop--show"),this.backdropListener=function(){_this4.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_HANDLE_BACKDROP_CLICK)},__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_communication_services_HtmlEvents__.a.add(this.backdrop,"click",this.backdropListener)}},{key:"handleHideBackdrop",value:function(){this.options.onShowHide&&this.options.onShowHide(!1),this.isInMobileView(window.innerWidth)||(this.backdrop.classList.remove("overlay-backdrop--show"),__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_communication_services_HtmlEvents__.a.remove(this.backdrop,"click",this.backdropListener))}},{key:"handleShowMobileTabs",value:function(){this.options.onShowHideScrollOnMobile&&this.isInMobileView(window.innerWidth)&&this.options.onShowHideScrollOnMobile(!0),this.isInMobileView(window.innerWidth)&&(document.body.classList.add("overlay-expanded-on-mobile"),document.getElementById("overlay-container").classList.add("mobileActive"))}},{key:"handleHideMobileTabs",value:function(){this.options.onShowHideScrollOnMobile&&this.isInMobileView(window.innerWidth)&&this.options.onShowHideScrollOnMobile(!1),this.isInMobileView(window.innerWidth)&&(document.body.classList.remove("overlay-expanded-on-mobile"),document.getElementById("overlay-container").classList.remove("mobileActive")),this.backdrop.classList.remove("overlay-backdrop--show"),__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_communication_services_HtmlEvents__.a.remove(this.backdrop,"click",this.backdropListener)}},{key:"handleExpand",value:function(){this.iframe.classList.add("overlay-iframe--expanded"),this.isInMobileView(window.innerWidth)&&document.getElementById("overlay-container").classList.add("mobileActive")}},{key:"handleLoggedIn",value:function(payload){this.options.onConnect&&this.options.onConnect(payload.isReInit?"reInit":"login",payload)}},{key:"handleLoggedOut",value:function(identity){this.options.onConnect&&this.options.onConnect("logout"),this.options.onShowHideScrollOnMobile&&this.options.onShowHideScrollOnMobile(!1),document.body.classList.remove("overlay-expanded-on-mobile"),document.getElementById("overlay-container").classList.remove("mobileActive"),this.backdrop.classList.remove("overlay-backdrop--show"),__WEBPACK_IMPORTED_MODULE_2_app_modules_integrator_communication_services_HtmlEvents__.a.remove(this.backdrop,"click",this.backdropListener)}},{key:"handleCollapse",value:function(){this.iframe.classList.remove("overlay-iframe--expanded"),this.isInMobileView(window.innerWidth)||document.getElementById("overlay-container").classList.remove("mobileActive")}},{key:"handleResize",value:function(props){this.isInMobileView(props.windowSize)?(this.iframe.style.height=null,this.container&&(this.container.style.width="50px",!props.showSignInText||props.showSignInText!=__WEBPACK_IMPORTED_MODULE_1_messages__.b.SIGN_IN&&props.showSignInText!=__WEBPACK_IMPORTED_MODULE_1_messages__.b.AVATAR_SIGN_IN&&1!=props.showSignInText&&"true"!=props.showSignInText||(this.container.style.width="132px")),document.getElementById("overlay-iframe").classList.add("overlay-iframe-mobile"),props.isInExpandedMode&&document.getElementById("overlay-container").classList.add("mobileActive")):(this.container&&(this.container.style.width="334px"),document.getElementById("overlay-iframe").classList.remove("overlay-iframe-mobile"),document.getElementById("overlay-container").classList.remove("mobileActive"))}},{key:"handleOpenLoginModal",value:function(connectIFrameUrl){document.getElementsByTagName("body")[0].classList.add("ReactModal__Body--open"),navigator.userAgent.match(/Version\/[\d\.]+.*Safari/)&&(document.getElementsByTagName("body")[0].classList.add("safari-modal-opened"),document.body.style.top="0px");var modalNode=document.getElementsByClassName("ReactModalPortal")[0];modalNode.removeAttribute("style");var modalContent=document.getElementsByClassName("ReactModal__Content")[0],connectIFrame=document.createElement("iframe");connectIFrame.id="connect-iframe",connectIFrame.style.height="800px",connectIFrame.style.border="0px",connectIFrame.src=connectIFrameUrl,modalContent.appendChild(connectIFrame)}},{key:"handleCloseLoginModal",value:function(){document.getElementsByTagName("body")[0].classList.remove("ReactModal__Body--open","safari-modal-opened");var connectIFrame=document.getElementById("connect-iframe");document.body.hasAttribute("style")&&document.body.removeAttribute("style"),connectIFrame.parentNode.removeChild(connectIFrame)}},{key:"handleCloseLoginModalAndConnect",value:function(){this.handleCloseLoginModal(),this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_CLOSE_LOGIN_MODAL)}},{key:"handleChangeLocale",value:function(locale){this.options.onChangeLocale&&this.options.onChangeLocale(locale),this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_CHANGE_LOCALE,locale)}},{key:"handleChangeLocaleFromCommunicationService",value:function(props){this.isInMobileView(window.innerWidth)&&(!props.showSignInText||props.showSignInText!=__WEBPACK_IMPORTED_MODULE_1_messages__.b.SIGN_IN&&props.showSignInText!=__WEBPACK_IMPORTED_MODULE_1_messages__.b.AVATAR_SIGN_IN||(this.container.style.width="132px"))}},{key:"handleChangeTrackingSiteSection",value:function(siteSection){this.options.onChangeTrackingSiteSection&&this.options.onChangeTrackingSiteSection(siteSection),this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_CHANGE_TRACKING_SITE_SECTION,siteSection)}},{key:"handleChangeGame",value:function(spaceId){this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_CHANGE_GAME,spaceId)}},{key:"reInit",value:function(){this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_RE_INIT)}},{key:"isInMobileView",value:function(windowSize){return windowSize<=__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_RESIZE_WIDTH||windowSize<=__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_MOBILE_WIDTH&&window.innerHeight<windowSize&&WidgetService.isMobileDevice()}},{key:"handleChangeEnv",value:function(env){this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_CHANGE_ENV,env)}},{key:"handleInitEnv",value:function(env){this.options.onEnvInit&&this.options.onEnvInit(env)}},{key:"handleChangeFriendsProfileType",value:function(type){this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_CHANGE_FRIEND_PROFILE_TYPE,type)}},{key:"handleChangeIframeHeight",value:function(height){if(!this.isInMobileView(window.innerWidth)){var addHeight=this.options.height||50;this.iframe.style.height=height+addHeight+"px"}}},{key:"handleToggleDarkBackground",value:function(toggle){this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_CHANGE_DARK_BACKGROUND,toggle)}},{key:"handleChangeLoginType",value:function(type){this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_CHANGE_LOGIN_TYPE,type)}},{key:"handleToggleSignInText",value:function(toggle){this.isInMobileView(window.innerWidth)&&(!toggle||toggle!=__WEBPACK_IMPORTED_MODULE_1_messages__.b.SIGN_IN&&toggle!=__WEBPACK_IMPORTED_MODULE_1_messages__.b.AVATAR_SIGN_IN||(this.container.style.width="132px")),this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TOGGLE_SIGN_IN_TEXT,toggle)}},{key:"toggleDesktopResize",value:function(toggle){this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_TOGGLE_DESKTOP_RESIZE,toggle)}},{key:"getTicketCallback",value:function(callback){var _this5=this;this.channel.send(__WEBPACK_IMPORTED_MODULE_1_messages__.a.WIDGET_GET_TICKET);var subscribed=this.channel.subscribe(__WEBPACK_IMPORTED_MODULE_1_messages__.a.INTEGRATOR_GET_TICKET,function(obj){callback(obj),_this5.channel.unsuscribe(subscribed)})}},{key:"cacheVersion",get:function(){return Date.now().toString()}},{key:"cssUrl",get:function(){return this.config.assetsUrl+"/widget.css?t=1541067358"}}],[{key:"isMobileDevice",value:function(){/Mobi/i.test(navigator.userAgent)||/Android/i.test(navigator.userAgent)}}]),WidgetService}()},function(module,exports,__webpack_require__){"use strict";__webpack_require__.d(exports,"a",function(){return COMMUNICATION_MESSAGES}),__webpack_require__.d(exports,"b",function(){return SIGN_IN_TEXT});var COMMUNICATION_MESSAGES;!function(COMMUNICATION_MESSAGES){COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.INTEGRATOR_INITIALIZE="INTEGRATOR_INITIALIZE"]="INTEGRATOR_INITIALIZE",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.INTEGRATOR_SHOW_BACKDROP="INTEGRATOR_SHOW_BACKDROP"]="INTEGRATOR_SHOW_BACKDROP",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.INTEGRATOR_HIDE_BACKDROP="INTEGRATOR_HIDE_BACKDROP"]="INTEGRATOR_HIDE_BACKDROP",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.INTEGRATOR_SHOW_MOBILE_TABS="INTEGRATOR_SHOW_MOBILE_TABS"]="INTEGRATOR_SHOW_MOBILE_TABS",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.INTEGRATOR_HIDE_MOBILE_TABS="INTEGRATOR_HIDE_MOBILE_TABS"]="INTEGRATOR_HIDE_MOBILE_TABS",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.INTEGRATOR_EXPAND="INTEGRATOR_EXPAND"]="INTEGRATOR_EXPAND",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.INTEGRATOR_COLLAPSE="INTEGRATOR_COLLAPSE"]="INTEGRATOR_COLLAPSE",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.INTEGRATOR_LOGGED_OUT="INTEGRATOR_LOGGED_OUT"]="INTEGRATOR_LOGGED_OUT",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.INTEGRATOR_LOGGED_IN="INTEGRATOR_LOGGED_IN"]="INTEGRATOR_LOGGED_IN",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.INTEGRATOR_RESIZE="INTEGRATOR_RESIZE"]="INTEGRATOR_RESIZE",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.INTEGRATOR_OPEN_LOGIN_MODAL="INTEGRATOR_OPEN_LOGIN_MODAL"]="INTEGRATOR_OPEN_LOGIN_MODAL",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.INTEGRATOR_CLOSE_LOGIN_MODAL="INTEGRATOR_CLOSE_LOGIN_MODAL"]="INTEGRATOR_CLOSE_LOGIN_MODAL",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.INTEGRATOR_CHANGE_LOCALE="INTEGRATOR_CHANGE_LOCALE"]="INTEGRATOR_CHANGE_LOCALE",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.INTEGRATOR_CHANGE_IFRAME_HEIGHT="INTEGRATOR_CHANGE_IFRAME_HEIGHT"]="INTEGRATOR_CHANGE_IFRAME_HEIGHT",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.INTEGRATOR_ENV_LOADED="INTEGRATOR_ENV_LOADED"]="INTEGRATOR_ENV_LOADED",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.INTEGRATOR_GET_TICKET="INTEGRATOR_GET_TICKET"]="INTEGRATOR_GET_TICKET",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.WIDGET_BOOTSTRAP="WIDGET_BOOTSTRAP"]="WIDGET_BOOTSTRAP",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.WIDGET_CHANGE_LOCALE="WIDGET_CHANGE_LOCALE"]="WIDGET_CHANGE_LOCALE",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.WIDGET_CHANGE_GAME="WIDGET_CHANGE_GAME"]="WIDGET_CHANGE_GAME",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.WIDGET_CHANGE_TRACKING_SITE_SECTION="WIDGET_CHANGE_TRACKING_SITE_SECTION"]="WIDGET_CHANGE_TRACKING_SITE_SECTION",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.WIDGET_HANDLE_BACKDROP_CLICK="WIDGET_HANDLE_BACKDROP_CLICK"]="WIDGET_HANDLE_BACKDROP_CLICK",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.WIDGET_COLLAPSE="WIDGET_COLLAPSE"]="WIDGET_COLLAPSE",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.WIDGET_EXPAND_FRIENDS="WIDGET_EXPAND_FRIENDS"]="WIDGET_EXPAND_FRIENDS",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.WIDGET_EXPAND_PLAYER_CARD="WIDGET_EXPAND_PLAYER_CARD"]="WIDGET_EXPAND_PLAYER_CARD",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.WIDGET_EXPAND_NOTIFICATIONS="WIDGET_EXPAND_NOTIFICATIONS"]="WIDGET_EXPAND_NOTIFICATIONS",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.WIDGET_RESIZED_WINDOW="WIDGET_RESIZED_WINDOW"]="WIDGET_RESIZED_WINDOW",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.WIDGET_RESIZE_WIDTH=640]="WIDGET_RESIZE_WIDTH",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.WIDGET_MOBILE_WIDTH=490]="WIDGET_MOBILE_WIDTH",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.WIDGET_CLOSE_LOGIN_MODAL="WIDGET_CLOSE_LOGIN_MODAL"]="WIDGET_CLOSE_LOGIN_MODAL",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.WIDGET_CHANGE_ENV="WIDGET_CHANGE_ENV"]="WIDGET_CHANGE_ENV",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.WIDGET_RE_INIT="WIDGET_RE_INIT"]="WIDGET_RE_INIT",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.WIDGET_CHANGE_FRIEND_PROFILE_TYPE="WIDGET_CHANGE_FRIEND_PROFILE_TYPE"]="WIDGET_CHANGE_FRIEND_PROFILE_TYPE",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.WIDGET_CHANGE_DARK_BACKGROUND="WIDGET_CHANGE_DARK_BACKGROUND"]="WIDGET_CHANGE_DARK_BACKGROUND",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.WIDGET_CHANGE_LOGIN_TYPE="WIDGET_CHANGE_LOGIN_TYPE"]="WIDGET_CHANGE_LOGIN_TYPE",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.WIDGET_TOGGLE_SIGN_IN_TEXT="WIDGET_TOGGLE_SIGN_IN_TEXT"]="WIDGET_TOGGLE_SIGN_IN_TEXT",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.WIDGET_TOGGLE_DESKTOP_RESIZE="WIDGET_TOGGLE_DESKTOP_RESIZE"]="WIDGET_TOGGLE_DESKTOP_RESIZE",COMMUNICATION_MESSAGES[COMMUNICATION_MESSAGES.WIDGET_GET_TICKET="WIDGET_GET_TICKET"]="WIDGET_GET_TICKET"}(COMMUNICATION_MESSAGES||(COMMUNICATION_MESSAGES={}));var PANEL;!function(PANEL){PANEL[PANEL.PLAYER_CARD="PLAYER_CARD"]="PLAYER_CARD",PANEL[PANEL.FRIENDS="FRIENDS"]="FRIENDS",PANEL[PANEL.NOTIFICATIONS="NOTIFICATIONS"]="NOTIFICATIONS"}(PANEL||(PANEL={}));var SIGN_IN_TEXT;!function(SIGN_IN_TEXT){SIGN_IN_TEXT[SIGN_IN_TEXT.DEFAULT="DEFAULT"]="DEFAULT",SIGN_IN_TEXT[SIGN_IN_TEXT.AVATAR_SIGN_IN="AVATAR_SIGN_IN"]="AVATAR_SIGN_IN",SIGN_IN_TEXT[SIGN_IN_TEXT.SIGN_IN="SIGN_IN"]="SIGN_IN",SIGN_IN_TEXT[SIGN_IN_TEXT.FALSE="false"]="FALSE",SIGN_IN_TEXT[SIGN_IN_TEXT.TRUE="true"]="TRUE"}(SIGN_IN_TEXT||(SIGN_IN_TEXT={}))},function(module,exports){"use strict";var delay=function(milliseconds){return new Promise(function(resolve,_){setTimeout(resolve,milliseconds)})};module.exports={delay:delay}},function(module,exports,__webpack_require__){"use strict";var arrayOfPromises=__webpack_require__(0),objectOfPromises=__webpack_require__(9),createPromises=__webpack_require__(7);module.exports={allSettled:arrayOfPromises.allSettled,fulfilled:arrayOfPromises.fulfilled,rejected:arrayOfPromises.rejected,objectAll:objectOfPromises.objectAll,objectFulfilled:objectOfPromises.objectFulfilled,objectRejected:objectOfPromises.objectRejected,delay:createPromises.delay}},function(module,exports,__webpack_require__){"use strict";var array=__webpack_require__(0),report=__webpack_require__(1),zipObject=function(keys,properties){return keys.reduce(function(object,key,i){return object[key]=properties[i],object},{})},mapObject=function(o,fn){return Object.keys(o).reduce(function(object,key){return object[key]=fn(o[key]),object},{})},filterObject=function(o,fn){return Object.keys(o).reduce(function(object,key){return fn(o[key])===!0&&(object[key]=o[key]),object},{})},keysAndValues=function(object){var keys=Object.keys(object),values=keys.map(function(key){return object[key]});return{keys:keys,values:values}},objectAllSettled=function(objectOfPromises){var keysAndPromises=keysAndValues(objectOfPromises);return array.allSettled(keysAndPromises.values).then(function(reports){return zipObject(keysAndPromises.keys,reports)})},objectAll=function(objectOfPromises){var keysAndPromises=keysAndValues(objectOfPromises);return Promise.all(keysAndPromises.values).then(function(values){return zipObject(keysAndPromises.keys,values)})},filterFulfilledAndGetValues=function(settledReports){var fulfilledReports=filterObject(settledReports,report.isFulfilled);return mapObject(fulfilledReports,report.getValue)},objectFulfilled=function(objectOfPromises){return objectAllSettled(objectOfPromises).then(filterFulfilledAndGetValues)},filterRejectedAndGetReasons=function(settledReports){var rejectedReports=filterObject(settledReports,report.isRejected);return mapObject(rejectedReports,report.getReason)},objectRejected=function(objectOfPromises){return objectAllSettled(objectOfPromises).then(filterRejectedAndGetReasons)};module.exports={objectAll:objectAll,objectFulfilled:objectFulfilled,objectRejected:objectRejected}},function(module,exports,__webpack_require__){module.exports=function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.i=function(value){return value},__webpack_require__.d=function(exports,name,getter){Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=9)}([function(module,exports){"use strict";function namespace(namespace){return function(entity){return entity.namespace=namespace,entity}}function getNamespacedName(object){
var name="function"==typeof object?object.name:object.constructor.name;return object.namespace&&(name=object.namespace+"/"+name),object.constructor.namespace&&(name=object.constructor.namespace+"/"+name),name}exports.__esModule=!0,exports.namespace=namespace,exports.getNamespacedName=getNamespacedName},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _src=__webpack_require__(5);Object.keys(_src).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _src[key]}})})},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0,exports.AbstractProvider=function AbstractProvider(){_classCallCheck(this,AbstractProvider)}},function(module,exports){"use strict";function Resolver(classToInvoke){var methodToInvoke=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"invoke";return function(serviceManager){return function(){var _serviceManager$get;return(_serviceManager$get=serviceManager.get(classToInvoke))[methodToInvoke].apply(_serviceManager$get,arguments)}}}exports.__esModule=!0,exports.Resolver=Resolver},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0,exports.ServiceManager=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};__webpack_require__(8);var _namespaceUtils=__webpack_require__(0),__decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},invariant=__webpack_require__(7),ServiceManager_1=function(){function ServiceManager(){_classCallCheck(this,ServiceManager),this.container={},this.providers={},this.implementsList={},this.bind(ServiceManager_1,this)}return ServiceManager.prototype.bind=function(resource,instance){return this.container[this.getNameFromResource(resource)]=instance,this},ServiceManager.prototype.alias=function(resource,aliasName){var _this=this;return this.providers[this.getNameFromResource(resource)]=function(){return _this.get(aliasName)},this},ServiceManager.prototype.bindToMethod=function(method,object){return this.implementsList[method]=object,this},ServiceManager.prototype.factory=function(){for(var _this2=this,_len=arguments.length,factories=Array(_len),_key=0;_key<_len;_key++)factories[_key]=arguments[_key];return factories.map(function(factory){return factory(_this2)}),this},ServiceManager.prototype.provide=function(className,callback){var _this3=this;return this.providers[this.getNameFromResource(className)]=function(){var instance=callback(_this3);if(!instance)throw new Error('The provider for the class "'+className.name+'" must provide an instance of this class when initialized.');return _this3.bind(_this3.getNameFromResource(className),instance),instance},this},ServiceManager.prototype.provider=function(){for(var _this4=this,_len2=arguments.length,providers=Array(_len2),_key2=0;_key2<_len2;_key2++)providers[_key2]=arguments[_key2];return providers.map(function(provider){var realProvider=new provider;_this4.provide(realProvider.provides(),realProvider.provide.bind(realProvider))}),this},ServiceManager.prototype.get=function(resource){if(!resource)return Object.assign({},this.container);if(this.container[this.getNameFromResource(resource)])return this.container[this.getNameFromResource(resource)];if(this.providers[this.getNameFromResource(resource)])return this.providers[this.getNameFromResource(resource)](this);var result=this.instantiate(resource);return invariant(result,'Could not "get" '+this.getNameFromResource(resource)),this.bind(resource,result),result},ServiceManager.prototype.instantiate=function(resource){var _this5=this,args=Reflect.getMetadata("design:paramtypes",resource);if("undefined"==typeof args)throw new Error("Could not get constructor dependencies for "+resource.name+". Did you forget to decorate it with @injectable ?");if(!args)return new resource;var dependencies=[];try{args.forEach(function(arg){return dependencies.push(_this5.get(arg))})}catch(error){throw error}var instance=new(Function.prototype.bind.apply(resource,[null].concat(dependencies)));return Object.keys(this.implementsList).forEach(function(key){if(key in instance)instance[key](_this5.get(_this5.implementsList[key]));else for(var item in instance)key===item&&instance[key](_this5.get(_this5.implementsList[key]))}),instance},ServiceManager.prototype.getNameFromResource=function(resource){return"string"==typeof resource?resource:(0,_namespaceUtils.getNamespacedName)(resource)},ServiceManager}(),ServiceManager=ServiceManager_1;exports.ServiceManager=ServiceManager=ServiceManager_1=__decorate([(0,_namespaceUtils.namespace)("Stejar/Core"),__metadata("design:paramtypes",[])],ServiceManager),exports.ServiceManager=ServiceManager},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _ServiceManager=__webpack_require__(4);Object.keys(_ServiceManager).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _ServiceManager[key]}})});var _AbstractProvider=__webpack_require__(2);Object.keys(_AbstractProvider).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _AbstractProvider[key]}})});var _namespaceUtils=__webpack_require__(0);Object.keys(_namespaceUtils).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _namespaceUtils[key]}})});var _injectable=__webpack_require__(6);Object.keys(_injectable).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _injectable[key]}})});var _Resolver=__webpack_require__(3);Object.keys(_Resolver).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _Resolver[key]}})})},function(module,exports){"use strict";function injectable(WrappedClass){return WrappedClass}exports.__esModule=!0,exports.injectable=injectable},function(module,exports){module.exports=__webpack_require__(12)},function(module,exports){module.exports=__webpack_require__(13)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)}])},function(module,exports,__webpack_require__){module.exports=function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.i=function(value){return value},__webpack_require__.d=function(exports,name,getter){Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=12)}([function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}__webpack_require__.d(exports,"Observable",function(){return Observable});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Observable=function(){function Observable(){_classCallCheck(this,Observable),this.listeners=[]}return _createClass(Observable,[{key:"subscribe",value:function(callback){var _this=this;return this.listeners.push(callback),function(){var index=_this.listeners.indexOf(callback);_this.listeners.splice(index,1)}}},{key:"onNext",value:function(value){return this.listeners.forEach(function(item){return item(value)}),null}},{key:"asObservable",value:function(){var observable=new Observable;return this.subscribe(function(value){return observable.onNext(value)}),observable}}]),Observable}()},function(module,exports,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__src__=__webpack_require__(5);for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_0__src__)"default"!==__WEBPACK_IMPORT_KEY__&&function(key){__webpack_require__.d(exports,key,function(){return __WEBPACK_IMPORTED_MODULE_0__src__[key]})}(__WEBPACK_IMPORT_KEY__)},function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var __WEBPACK_IMPORTED_MODULE_0__stejar_di__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_0__stejar_di___default=__WEBPACK_IMPORTED_MODULE_0__stejar_di__&&__WEBPACK_IMPORTED_MODULE_0__stejar_di__.__esModule?function(){return __WEBPACK_IMPORTED_MODULE_0__stejar_di__["default"]}:function(){return __WEBPACK_IMPORTED_MODULE_0__stejar_di__};__webpack_require__.d(__WEBPACK_IMPORTED_MODULE_0__stejar_di___default,"a",__WEBPACK_IMPORTED_MODULE_0__stejar_di___default),__webpack_require__.d(exports,"PromiseStatus",function(){return PromiseStatus}),__webpack_require__.d(exports,"PromiseService",function(){return PromiseService});var PromiseStatus,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},pe=__webpack_require__(10);!function(PromiseStatus){PromiseStatus[PromiseStatus.RESOLVED="resolved"]="RESOLVED",PromiseStatus[PromiseStatus.REJECTED="rejected"]="REJECTED"}(PromiseStatus||(PromiseStatus={}));var PromiseService=function(){function PromiseService(){_classCallCheck(this,PromiseService)}return _createClass(PromiseService,[{key:"allSettled",value:function(){for(var _len=arguments.length,data=Array(_len),_key=0;_key<_len;_key++)data[_key]=arguments[_key];return pe.array.allSettled(data)}},{key:"chain",value:function(promises){return function(){if(0===promises.length)return Promise.resolve(arguments.length>0?arguments.length<=0?void 0:arguments[0]:null);for(var promise=promises[0].apply(promises,arguments),i=1;i<promises.length;i++)promise=promise.then(promises[i]);return promise}}},{key:"hashAll",value:function(entry){return pe.array.objectAll(entry)}},{key:"hashSettled",value:function(entry){var list=Object.keys(entry).map(function(entryName){return entry[entryName]});return this.allSettled.apply(this,_toConsumableArray(list)).then(function(results){return results.reduce(function(map,result,index){return map[Object.keys(entry)[index]]=result},{})})}},{key:"delay",value:function(timeout){return pe.delay(timeout)}}]),PromiseService}();PromiseService=__decorate([__WEBPACK_IMPORTED_MODULE_0__stejar_di__.injectable,__metadata("design:paramtypes",[])],PromiseService)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__Observable__=__webpack_require__(0);__webpack_require__.d(exports,"Subject",function(){return Subject});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0},Subject=function(_Observable){function Subject(value){_classCallCheck(this,Subject);var _this=_possibleConstructorReturn(this,(Subject.__proto__||Object.getPrototypeOf(Subject)).call(this));return _this.value=value,_this}return _inherits(Subject,_Observable),_createClass(Subject,[{key:"next",value:function(value){var _this2=this;this.value=value,this.listeners.forEach(function(item){return item(_this2.value)})}},{key:"subscribe",value:function(callback){var unsub=_get(Subject.prototype.__proto__||Object.getPrototypeOf(Subject.prototype),"subscribe",this).call(this,callback);return this.next(this.value),unsub}},{key:"getValue",value:function(){return this.value}}]),Subject}(__WEBPACK_IMPORTED_MODULE_0__Observable__.Observable)},function(module,exports,__webpack_require__){"use strict";function loadImage(url){return new Promise(function(resolve,reject){var img=new Image;img.onload=function(){return resolve(url)},img.onerror=function(){return reject(url)},img.onabort=function(){return reject(url)},img.src=url})}function loadImages(urls){return Promise.all(urls.map(function(url){return loadImage(url)}))}exports.loadImage=loadImage,exports.loadImages=loadImages},function(module,exports,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__scriptLoader__=__webpack_require__(9),__WEBPACK_IMPORTED_MODULE_1__imageLoader__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_2__PromiseService__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_3__Observable__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_4__Subject__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_5__postMessage__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_6__popupWindow__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_7__newWindow__=__webpack_require__(6);for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_0__scriptLoader__)"default"!==__WEBPACK_IMPORT_KEY__&&function(key){__webpack_require__.d(exports,key,function(){return __WEBPACK_IMPORTED_MODULE_0__scriptLoader__[key]})}(__WEBPACK_IMPORT_KEY__);for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_1__imageLoader__)"default"!==__WEBPACK_IMPORT_KEY__&&function(key){__webpack_require__.d(exports,key,function(){return __WEBPACK_IMPORTED_MODULE_1__imageLoader__[key]})}(__WEBPACK_IMPORT_KEY__);for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_2__PromiseService__)"default"!==__WEBPACK_IMPORT_KEY__&&function(key){__webpack_require__.d(exports,key,function(){return __WEBPACK_IMPORTED_MODULE_2__PromiseService__[key]})}(__WEBPACK_IMPORT_KEY__);for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_3__Observable__)"default"!==__WEBPACK_IMPORT_KEY__&&function(key){__webpack_require__.d(exports,key,function(){return __WEBPACK_IMPORTED_MODULE_3__Observable__[key]})}(__WEBPACK_IMPORT_KEY__);for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_4__Subject__)"default"!==__WEBPACK_IMPORT_KEY__&&function(key){__webpack_require__.d(exports,key,function(){return __WEBPACK_IMPORTED_MODULE_4__Subject__[key]})}(__WEBPACK_IMPORT_KEY__);for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_5__postMessage__)"default"!==__WEBPACK_IMPORT_KEY__&&function(key){__webpack_require__.d(exports,key,function(){return __WEBPACK_IMPORTED_MODULE_5__postMessage__[key]})}(__WEBPACK_IMPORT_KEY__);for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_6__popupWindow__)"default"!==__WEBPACK_IMPORT_KEY__&&function(key){__webpack_require__.d(exports,key,function(){return __WEBPACK_IMPORTED_MODULE_6__popupWindow__[key]})}(__WEBPACK_IMPORT_KEY__);for(var __WEBPACK_IMPORT_KEY__ in __WEBPACK_IMPORTED_MODULE_7__newWindow__)"default"!==__WEBPACK_IMPORT_KEY__&&function(key){__webpack_require__.d(exports,key,function(){return __WEBPACK_IMPORTED_MODULE_7__newWindow__[key]})}(__WEBPACK_IMPORT_KEY__)},function(module,exports,__webpack_require__){"use strict";function newWindow(url){var newWindow=window.open(url,"_blank");window.focus&&newWindow.focus()}exports.newWindow=newWindow},function(module,exports,__webpack_require__){"use strict";function popupWindow(url,title){var width=arguments.length>2&&void 0!==arguments[2]?arguments[2]:800,height=arguments.length>3&&void 0!==arguments[3]?arguments[3]:600,y=window.outerHeight/2+window.screenY-height/2,x=window.outerWidth/2+window.screenX-width/2,newWindow=window.open(url,title,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+width+", height="+height+", top="+y+", left="+x);window.focus&&newWindow.focus()}exports.popupWindow=popupWindow},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function postMessage(topic,payload){var origin=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*",target=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window;payload=JSON.stringify(payload),target.postMessage({topic:topic,payload:payload},origin)}function addCrossDomainEventListener(topic,callback){var listener=function(event){if(event&&event.data&&event.data.topic&&event.data.topic==topic){var payload=event.data.payload;void 0===payload&&(payload=null),callback(payload?"string"==typeof payload?JSON.parse(payload):payload:{})}},eventMethod=window.addEventListener?"addEventListener":"attachEvent",eventer=window[eventMethod],messageEvent="attachEvent"==eventMethod?"onmessage":"message";return eventer(messageEvent,listener,!1),listener}function removeCrossDomainEventListener(listener){var eventMethod=window.removeEventListener?"removeEventListener":"detachEvent",eventer=window[eventMethod],messageEvent="detachEvent"==eventMethod?"onmessage":"message";eventer(messageEvent,listener,!1)}exports.postMessage=postMessage,exports.addCrossDomainEventListener=addCrossDomainEventListener,exports.removeCrossDomainEventListener=removeCrossDomainEventListener,__webpack_require__.d(exports,"Channel",function(){return Channel});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Channel=function(){function Channel(origin){var target=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,debug=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,Channel),this.origin=origin,this.target=target,this.debug=debug,this.debugListenres=[]}return _createClass(Channel,[{key:"subscribe",value:function(topic,callback){return this.debug&&(console.log('Subscribing to "'+topic+'" ...'),this.debugListenres.push(addCrossDomainEventListener(topic,function(payload){console.log('Received message for topic "'+topic+'" and payload: ',payload)}))),addCrossDomainEventListener(topic,callback)}},{key:"unsuscribe",value:function(listener){return removeCrossDomainEventListener(listener)}},{key:"send",value:function(topic,payload){return this.debug&&console.log('Sending message for "'+topic+'" with payload: ',payload),postMessage(topic,payload,this.origin,this.target)}}]),Channel}()},function(module,exports,__webpack_require__){"use strict";function loadScript(url){var timeout=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4;return new Promise(function(resolve,reject){var script=document.createElement("script"),prior=document.getElementsByTagName("script")[0];script.async=1,prior.parentNode.insertBefore(script,prior);var resolved=!1,timeoutVar=setTimeout(function(){resolved||reject()},timeout);script.onload=script.onreadystatechange=function(_,isAbort){(isAbort||!script.readyState||/loaded|complete/.test(script.readyState))&&(script.onload=script.onreadystatechange=null,script=void 0,isAbort||(resolved=!0,clearTimeout(timeoutVar),resolve()))},script.src=url})}exports.loadScript=loadScript},function(module,exports){module.exports=__webpack_require__(8)},function(module,exports){module.exports=__webpack_require__(10)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)}])},function(module,exports,__webpack_require__){"use strict";var invariant=function(condition,format,a,b,c,d,e,f){if(!condition){var error;if(void 0===format)error=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var args=[a,b,c,d,e,f],argIndex=0;error=new Error(format.replace(/%s/g,function(){return args[argIndex++]})),error.name="Invariant Violation"}throw error.framesToPop=1,error}};module.exports=invariant},function(module,exports,__webpack_require__){(function(global){/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var Reflect;!function(Reflect){"use strict";function decorate(decorators,target,targetKey,targetDescriptor){if(IsUndefined(targetDescriptor)){if(IsUndefined(targetKey)){if(!IsArray(decorators))throw new TypeError;if(!IsConstructor(target))throw new TypeError;return DecorateConstructor(decorators,target)}if(!IsArray(decorators))throw new TypeError;if(!IsObject(target))throw new TypeError;return targetKey=ToPropertyKey(targetKey),DecoratePropertyWithoutDescriptor(decorators,target,targetKey)}if(!IsArray(decorators))throw new TypeError;if(!IsObject(target))throw new TypeError;if(IsUndefined(targetKey))throw new TypeError;if(!IsObject(targetDescriptor))throw new TypeError;return targetKey=ToPropertyKey(targetKey),DecoratePropertyWithDescriptor(decorators,target,targetKey,targetDescriptor)}function metadata(metadataKey,metadataValue){function decorator(target,targetKey){if(IsUndefined(targetKey)){if(!IsConstructor(target))throw new TypeError;OrdinaryDefineOwnMetadata(metadataKey,metadataValue,target,void 0)}else{if(!IsObject(target))throw new TypeError;targetKey=ToPropertyKey(targetKey),OrdinaryDefineOwnMetadata(metadataKey,metadataValue,target,targetKey)}}return decorator}function defineMetadata(metadataKey,metadataValue,target,targetKey){if(!IsObject(target))throw new TypeError;return IsUndefined(targetKey)||(targetKey=ToPropertyKey(targetKey)),OrdinaryDefineOwnMetadata(metadataKey,metadataValue,target,targetKey)}function hasMetadata(metadataKey,target,targetKey){if(!IsObject(target))throw new TypeError;return IsUndefined(targetKey)||(targetKey=ToPropertyKey(targetKey)),OrdinaryHasMetadata(metadataKey,target,targetKey)}function hasOwnMetadata(metadataKey,target,targetKey){if(!IsObject(target))throw new TypeError;return IsUndefined(targetKey)||(targetKey=ToPropertyKey(targetKey)),OrdinaryHasOwnMetadata(metadataKey,target,targetKey)}function getMetadata(metadataKey,target,targetKey){if(!IsObject(target))throw new TypeError;return IsUndefined(targetKey)||(targetKey=ToPropertyKey(targetKey)),OrdinaryGetMetadata(metadataKey,target,targetKey)}function getOwnMetadata(metadataKey,target,targetKey){if(!IsObject(target))throw new TypeError;return IsUndefined(targetKey)||(targetKey=ToPropertyKey(targetKey)),OrdinaryGetOwnMetadata(metadataKey,target,targetKey)}function getMetadataKeys(target,targetKey){if(!IsObject(target))throw new TypeError;return IsUndefined(targetKey)||(targetKey=ToPropertyKey(targetKey)),OrdinaryMetadataKeys(target,targetKey)}function getOwnMetadataKeys(target,targetKey){if(!IsObject(target))throw new TypeError;return IsUndefined(targetKey)||(targetKey=ToPropertyKey(targetKey)),OrdinaryOwnMetadataKeys(target,targetKey)}function deleteMetadata(metadataKey,target,targetKey){if(!IsObject(target))throw new TypeError;IsUndefined(targetKey)||(targetKey=ToPropertyKey(targetKey));var metadataMap=GetOrCreateMetadataMap(target,targetKey,!1);if(IsUndefined(metadataMap))return!1;if(!metadataMap["delete"](metadataKey))return!1;if(metadataMap.size>0)return!0;var targetMetadata=Metadata.get(target);return targetMetadata["delete"](targetKey),targetMetadata.size>0||(Metadata["delete"](target),!0)}function DecorateConstructor(decorators,target){for(var i=decorators.length-1;i>=0;--i){var decorator=decorators[i],decorated=decorator(target);if(!IsUndefined(decorated)){if(!IsConstructor(decorated))throw new TypeError;target=decorated}}return target}function DecoratePropertyWithDescriptor(decorators,target,propertyKey,descriptor){for(var i=decorators.length-1;i>=0;--i){var decorator=decorators[i],decorated=decorator(target,propertyKey,descriptor);if(!IsUndefined(decorated)){if(!IsObject(decorated))throw new TypeError;descriptor=decorated}}return descriptor}function DecoratePropertyWithoutDescriptor(decorators,target,propertyKey){for(var i=decorators.length-1;i>=0;--i){var decorator=decorators[i];decorator(target,propertyKey)}}function GetOrCreateMetadataMap(target,targetKey,create){var targetMetadata=Metadata.get(target);if(!targetMetadata){if(!create)return;targetMetadata=new _Map,Metadata.set(target,targetMetadata)}var keyMetadata=targetMetadata.get(targetKey);if(!keyMetadata){if(!create)return;keyMetadata=new _Map,targetMetadata.set(targetKey,keyMetadata)}return keyMetadata}function OrdinaryHasMetadata(MetadataKey,O,P){var hasOwn=OrdinaryHasOwnMetadata(MetadataKey,O,P);if(hasOwn)return!0;var parent=GetPrototypeOf(O);return null!==parent&&OrdinaryHasMetadata(MetadataKey,parent,P)}function OrdinaryHasOwnMetadata(MetadataKey,O,P){var metadataMap=GetOrCreateMetadataMap(O,P,!1);return void 0!==metadataMap&&Boolean(metadataMap.has(MetadataKey))}function OrdinaryGetMetadata(MetadataKey,O,P){var hasOwn=OrdinaryHasOwnMetadata(MetadataKey,O,P);if(hasOwn)return OrdinaryGetOwnMetadata(MetadataKey,O,P);var parent=GetPrototypeOf(O);return null!==parent?OrdinaryGetMetadata(MetadataKey,parent,P):void 0}function OrdinaryGetOwnMetadata(MetadataKey,O,P){var metadataMap=GetOrCreateMetadataMap(O,P,!1);return void 0===metadataMap?void 0:metadataMap.get(MetadataKey)}function OrdinaryDefineOwnMetadata(MetadataKey,MetadataValue,O,P){var metadataMap=GetOrCreateMetadataMap(O,P,!0);metadataMap.set(MetadataKey,MetadataValue)}function OrdinaryMetadataKeys(O,P){var ownKeys=OrdinaryOwnMetadataKeys(O,P),parent=GetPrototypeOf(O);if(null===parent)return ownKeys;var parentKeys=OrdinaryMetadataKeys(parent,P);if(parentKeys.length<=0)return ownKeys;if(ownKeys.length<=0)return parentKeys;for(var keys=new _Set,_i=0;_i<ownKeys.length;_i++){var key=ownKeys[_i];keys.add(key)}for(var _a=0;_a<parentKeys.length;_a++){var key=parentKeys[_a];keys.add(key)}return getKeys(keys)}function OrdinaryOwnMetadataKeys(target,targetKey){var metadataMap=GetOrCreateMetadataMap(target,targetKey,!1),keys=[];return metadataMap&&forEach(metadataMap,function(_,key){return keys.push(key)}),keys}function IsUndefined(x){return void 0===x}function IsArray(x){return Array.isArray?Array.isArray(x):x instanceof Array||"[object Array]"===Object.prototype.toString.call(x)}function IsObject(x){return"object"==typeof x?null!==x:"function"==typeof x}function IsConstructor(x){return"function"==typeof x}function IsSymbol(x){return"symbol"==typeof x}function ToPropertyKey(value){return IsSymbol(value)?value:String(value)}function GetPrototypeOf(O){var proto=Object.getPrototypeOf(O);if("function"!=typeof O||O===functionPrototype)return proto;if(proto!==functionPrototype)return proto;var prototype=O.prototype,prototypeProto=prototype&&Object.getPrototypeOf(prototype);if(null==prototypeProto||prototypeProto===Object.prototype)return proto;var constructor=prototypeProto.constructor;return"function"!=typeof constructor?proto:constructor===O?proto:constructor}function IteratorStep(iterator){var result=iterator.next();return result.done?void 0:result}function IteratorClose(iterator){var f=iterator["return"];f&&f.call(iterator)}function forEach(source,callback,thisArg){var entries=source.entries;if("function"==typeof entries){var result,iterator=entries.call(source);try{for(;result=IteratorStep(iterator);){var _a=result.value,key=_a[0],value=_a[1];callback.call(thisArg,value,key,source)}}finally{result&&IteratorClose(iterator)}}else{var forEach_1=source.forEach;"function"==typeof forEach_1&&forEach_1.call(source,callback,thisArg)}}function getKeys(source){var keys=[];return forEach(source,function(_,key){keys.push(key)}),keys}function CreateMapIterator(keys,values,kind){var index=0;return{next:function(){if((keys||values)&&index<(keys||values).length){var current=index++;switch(kind){case"key":return{value:keys[current],done:!1};case"value":return{value:values[current],done:!1};case"key+value":return{value:[keys[current],values[current]],done:!1}}}return keys=void 0,values=void 0,{value:void 0,done:!0}},"throw":function(error){throw(keys||values)&&(keys=void 0,values=void 0),error},"return":function(value){return(keys||values)&&(keys=void 0,values=void 0),{value:value,done:!0}}}}function CreateMapPolyfill(){var cacheSentinel={};return function(){function Map(){this._keys=[],this._values=[],this._cacheKey=cacheSentinel,this._cacheIndex=-2}return Object.defineProperty(Map.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Map.prototype.has=function(key){return this._find(key,!1)>=0},Map.prototype.get=function(key){var index=this._find(key,!1);return index>=0?this._values[index]:void 0},Map.prototype.set=function(key,value){var index=this._find(key,!0);return this._values[index]=value,this},Map.prototype["delete"]=function(key){var index=this._find(key,!1);if(index>=0){for(var size=this._keys.length,i=index+1;i<size;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,this._cacheKey=cacheSentinel,this._cacheIndex=-2,!0}return!1},Map.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=cacheSentinel,this._cacheIndex=-2},Map.prototype.keys=function(){return CreateMapIterator(this._keys,void 0,"key")},Map.prototype.values=function(){return CreateMapIterator(void 0,this._values,"value")},Map.prototype.entries=function(){return CreateMapIterator(this._keys,this._values,"key+value")},Map.prototype._find=function(key,insert){if(this._cacheKey===key)return this._cacheIndex;var index=this._keys.indexOf(key);return index<0&&insert&&(index=this._keys.length,this._keys.push(key),this._values.push(void 0)),this._cacheKey=key,this._cacheIndex=index},Map}()}function CreateSetPolyfill(){return function(){function Set(){this._map=new _Map}return Object.defineProperty(Set.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),Set.prototype.has=function(value){return this._map.has(value)},Set.prototype.add=function(value){return this._map.set(value,value),this},Set.prototype["delete"]=function(value){return this._map["delete"](value)},Set.prototype.clear=function(){this._map.clear()},Set.prototype.keys=function(){return this._map.keys()},Set.prototype.values=function(){return this._map.values()},Set.prototype.entries=function(){return this._map.entries()},Set}()}function CreateWeakMapPolyfill(){function FillRandomBytes(buffer,size){for(var i=0;i<size;++i)buffer[i]=255*Math.random()|0;return buffer}function GenRandomBytes(size){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(size)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(size)):FillRandomBytes(new Uint8Array(size),size):FillRandomBytes(new Array(size),size)}function CreateUUID(){var data=GenRandomBytes(UUID_SIZE);data[6]=79&data[6]|64,data[8]=191&data[8]|128;for(var result="",offset=0;offset<UUID_SIZE;++offset){var byte=data[offset];4!==offset&&6!==offset&&8!==offset||(result+="-"),byte<16&&(result+="0"),result+=byte.toString(16).toLowerCase()}return result}function CreateUniqueKey(){var key;do key="@@WeakMap@@"+CreateUUID();while(HashMap.has(keys,key));return keys[key]=!0,key}function GetOrCreateWeakMapTable(target,create){if(!hasOwn.call(target,rootKey)){if(!create)return;Object.defineProperty(target,rootKey,{value:createDictionary()})}return target[rootKey]}var UUID_SIZE=16,keys=createDictionary(),rootKey=CreateUniqueKey();return function(){function WeakMap(){this._key=CreateUniqueKey()}return WeakMap.prototype.has=function(target){var table=GetOrCreateWeakMapTable(target,!1);return void 0!==table&&HashMap.has(table,this._key)},WeakMap.prototype.get=function(target){var table=GetOrCreateWeakMapTable(target,!1);return void 0!==table?HashMap.get(table,this._key):void 0},WeakMap.prototype.set=function(target,value){var table=GetOrCreateWeakMapTable(target,!0);return table[this._key]=value,this},WeakMap.prototype["delete"]=function(target){var table=GetOrCreateWeakMapTable(target,!1);return void 0!==table&&delete table[this._key]},WeakMap.prototype.clear=function(){this._key=CreateUniqueKey()},WeakMap}()}function MakeDictionary(obj){return obj.__DICTIONARY_MODE__=1,delete obj.____DICTIONARY_MODE__,obj}var HashMap,hasOwn=Object.prototype.hasOwnProperty,supportsCreate="function"==typeof Object.create,supportsProto=function(){function __(){}var sentinel={};__.prototype=sentinel;var instance=new __;return instance.__proto__===sentinel}(),createDictionary=supportsCreate?function(){return MakeDictionary(Object.create(null))}:supportsProto?function(){return MakeDictionary({__proto__:null})}:function(){return MakeDictionary({})};!function(HashMap){var downLevel=!supportsCreate&&!supportsProto;HashMap.has=downLevel?function(map,key){return hasOwn.call(map,key)}:function(map,key){return key in map},HashMap.get=downLevel?function(map,key){return hasOwn.call(map,key)?map[key]:void 0}:function(map,key){return map[key]}}(HashMap||(HashMap={}));var functionPrototype=Object.getPrototypeOf(Function),_Map="function"==typeof Map?Map:CreateMapPolyfill(),_Set="function"==typeof Set?Set:CreateSetPolyfill(),_WeakMap="function"==typeof WeakMap?WeakMap:CreateWeakMapPolyfill(),Metadata=new _WeakMap;Reflect.decorate=decorate,Reflect.metadata=metadata,Reflect.defineMetadata=defineMetadata,Reflect.hasMetadata=hasMetadata,Reflect.hasOwnMetadata=hasOwnMetadata,Reflect.getMetadata=getMetadata,Reflect.getOwnMetadata=getOwnMetadata,Reflect.getMetadataKeys=getMetadataKeys,Reflect.getOwnMetadataKeys=getOwnMetadataKeys,Reflect.deleteMetadata=deleteMetadata,function(__global){if("undefined"!=typeof __global.Reflect){if(__global.Reflect!==Reflect)for(var p in Reflect)hasOwn.call(Reflect,p)&&(__global.Reflect[p]=Reflect[p])}else __global.Reflect=Reflect}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:"undefined"!=typeof global?global:Function("return this;")())}(Reflect||(Reflect={}))}).call(exports,__webpack_require__(14))},function(module,exports){var g;g=function(){return this}();try{g=g||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(g=window)}module.exports=g},function(module,exports,__webpack_require__){__webpack_require__(3),module.exports=__webpack_require__(2)}]);